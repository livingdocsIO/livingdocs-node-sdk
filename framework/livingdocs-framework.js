module.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=209)}([function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){const r=n(150),o=n(5);t.exports={log:r,assert:o}},function(t,e,n){var r=n(60);t.exports=function(t,e,n){var o=null==t?void 0:r(t,e);return void 0===o?n:o}},function(t,e,n){const r=n(153),o=n(154),{deserializeCommand:i}=n(65),s={type:"invalidCall",message:"Missing param 'componentTree'"};t.exports={eventSources:r.eventSources,execCommands({componentTree:t,commands:e=[],asProposals:n}){if(!t)return{ok:!1,conflicts:[s]};const r=[],a=n?o.handleProposal:o.handle;for(const n of e){const{conflicts:e,command:o}=i(n,t);if(e.length>0)r.push(...e);else try{a(o,t)}catch(t){r.push({type:t.conflictType||"Error",message:t.message})}}return{ok:!r.length,conflicts:r}},execProposals({componentTree:e,commands:n}){t.exports.execCommands({componentTree:e,commands:n,asProposals:!0})},execTrusted(t,e){const n=r[t](e),i=function(t){if(t.componentTree)return t.componentTree;const e=t.component&&t.component.parentContainer,n="insertComponent"===t.type?t.position.parentContainer:e;if(n)return n.getComponentTree()}(n);i&&i.inProposalMode?o.handleProposal(n,i):o.handle(n,i)}}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){const r=n(150);function o(t,e){t||r.error(e)}t.exports=o,o.param=function(t,e,n){if(!t)return r.error(`${e}: param '${n}' is missing`)}},function(t,e,n){var r=n(119),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){const r=n(149);t.exports={loadResources:!0,ignoreInteraction:".ld-control",livingdocsCssFile:"/assets/css/livingdocs.css",wordSeparators:"./\\()\"':,.;<>~!#%^&*|+=[]{}`~?",singleLineBreak:/^<br\s*\/?>\s*$/,editable:{allowNewline:!0,changeDelay:0,browserSpellcheck:!1,mouseMoveSelectionChanges:!1,formatting:{pastedHtmlRules:{keepInternalRelativeLinks:!0}}},css:{section:"doc-section",component:"doc-component",editable:"doc-editable",noPlaceholder:"doc-no-placeholder",emptyImage:"doc-image-empty",interface:"doc-ui",insertProposal:"doc-proposed-insert",updateProposal:"doc-proposed-update",removeProposal:"doc-proposed-removal",componentHighlight:"doc-component-highlight",containerHighlight:"doc-container-highlight",dragged:"doc-dragged",draggedPlaceholder:"doc-dragged-placeholder",draggedPlaceholderCounter:"doc-drag-counter",dragBlocker:"doc-drag-blocker",dropMarker:"doc-drop-marker",beforeDrop:"doc-before-drop",noDrop:"doc-drag-no-drop",afterDrop:"doc-after-drop",longpressIndicator:"doc-longpress-indicator",preventSelection:"doc-no-selection",maximizedContainer:"doc-js-maximized-container",interactionBlocker:"doc-interaction-blocker",diffComponentAdded:"ld-diff-component-added",diffComponentRemoved:"ld-diff-component-removed",diffComponentModified:"ld-diff-component-modified",diffComponentMoved:"ld-diff-component-moved",diffRemovedText:"ld-diff-text-removed",diffAddedText:"ld-diff-text-added",diffOriginalText:"ld-diff-text-original",diffComponentConflict:"ld-diff-component-conflict"},attr:{component:"doc-component",placeholder:"doc-placeholder"},directives:{container:{attr:"doc-container"},editable:{attr:"doc-editable"},html:{attr:"doc-html"},image:{attr:"doc-image"},link:{attr:"doc-link"},optional:{attr:"doc-optional"},include:{attr:"doc-include"}},imagePlaceholder:`data:image/svg+xml;charset=UTF-8,${encodeURIComponent(r`
    <svg xmlns="http://www.w3.org/2000/svg" width="620" height="350" \
      viewBox="0 0 620 350" preserveAspectRatio="none"> \
      <rect width="620" height="350" fill="#D4D4CE"/> \
      <line x1="0" y1="0" x2="620" y2="350" style="stroke:#ffffff;stroke-width:2"/> \
      <line x1="620" y1="0" x2="0" y2="350" style="stroke:#ffffff;stroke-width:2"/> \
    </svg>`)}`,history:{limit:1e3,groupingInterval:2e3},imageServices:{"resrc.it":{quality:75,host:"https://app.resrc.it"},liImageProxy:{host:"http://localhost:9090"},imgix:{host:"https://livingdocs.imgix.net",preferWebp:!1,backgroundImage:{maxWidth:1500},srcSet:{defaultWidth:1280,widths:[2048,1280,980,720],sizes:["(max-width: 980px) 80vw","(max-width: 720px) 100vw","100vw"]}},sz:{host:"https://sz.de",shaSecret:"please-change-me-in-the-server-configuration",hashVersion:1,srcSet:{defaultWidth:1280,widths:[2048,1280,980,720],sizes:["(max-width: 980px) 80vw","(max-width: 720px) 100vw","60vw"]}},"image.resizer":{host:"http://images.nswow.ch/remote",srcSet:{defaultWidth:1280,widths:{xlarge:2048,large:1280,medium:980,small:720},sizes:["(max-width: 980px) 80vw","(max-width: 720px) 100vw","100vw"]}}}}},function(t,e,n){var r=n(288),o=n(299),i=n(23),s=n(0),a=n(300);t.exports=function(t){return"function"==typeof t?t:null==t?i:"object"==typeof t?s(t)?o(t[0],t[1]):r(t):a(t)}},function(t,e,n){var r=n(20),o=n(214),i=n(215),s=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?o(t):i(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},function(t,e,n){var r=n(50),o=n(75);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},function(t,e,n){var r=n(96);t.exports=function(t,e){return r(t,e)}},function(t,e,n){var r=n(118),o=n(48),i=n(12);t.exports=function(t){return i(t)?r(t):o(t)}},function(t,e,n){var r=n(221),o=n(77),i=n(226),s=n(227),a=n(122),c=n(10),u=n(121),p=u(r),l=u(o),h=u(i),d=u(s),f=u(a),m=c;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=m(new o)||i&&"[object Promise]"!=m(i.resolve())||s&&"[object Set]"!=m(new s)||a&&"[object WeakMap]"!=m(new a))&&(m=function(t){var e=c(t),n="[object Object]"==e?t.constructor:void 0,r=n?u(n):"";if(r)switch(r){case p:return"[object DataView]";case l:return"[object Map]";case h:return"[object Promise]";case d:return"[object Set]";case f:return"[object WeakMap]"}return e}),t.exports=m},function(t,e,n){var r=n(222),o=n(225);t.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}},function(t,e,n){var r=n(27);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},function(t,e,n){var r=n(10),o=n(0),i=n(4);t.exports=function(t){return"string"==typeof t||!o(t)&&i(t)&&"[object String]"==r(t)}},function(t,e,n){var r=n(464),o=r.Buffer;function i(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return o(t,e,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s),i(o,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return o(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=o(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){var r=n(6).Symbol;t.exports=r},function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(52);t.exports=function(t){return r(t,5)}},function(t,e,n){var r=n(79),o=n(37);t.exports=function(t,e,n,i){var s=!n;n||(n={});for(var a=-1,c=e.length;++a<c;){var u=e[a],p=i?i(n[u],t[u],u,n,t):void 0;void 0===p&&(p=t[u]),s?o(n,u,p):r(n,u,p)}return n}},function(t,e,n){var r=n(0),o=n(85),i=n(134),s=n(86);t.exports=function(t,e){return r(t)?t:o(t,e)?[t]:i(s(t))}},function(t,e,n){var r=n(10),o=n(4);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==r(t)}},function(t,e){t.exports={humanize(t){const e=this.trim(t).replace(/([a-z\d])([A-Z]+)/g,"$1 $2").toLowerCase();return this.titleize(e)},capitalize:t=>(t=t?String(t):"").charAt(0).toUpperCase()+t.slice(1),titleize:t=>null==t?"":String(t).replace(/(?:^|\s)\S/g,t=>t.toUpperCase()),snakeCase(t){return this.trim(t).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()},prefix:(t,e)=>0===e.indexOf(t)?e:`${t}${e}`,readableJson:t=>JSON.stringify(t,null,2),camelize(t){return this.trim(t).replace(/[-_\s]+(.)?/g,(t,e)=>e.toUpperCase())},trim:t=>t.replace(/^\s+|\s+$/g,""),collapseWhitespace:t=>t.replace(/\s+/g," ")}},function(t,e,n){var r=n(10),o=n(4);t.exports=function(t){return"number"==typeof t||o(t)&&"[object Number]"==r(t)}},function(t,e,n){const r=n(70),o=n(206);t.exports={name:"default",hasBrowserPlugin:!1,supportsCrop:!1,getUrl:function(t){return t},getUncroppedUrl:function(t){return this.getUrl(t)},canProcessAsset:function(t,e){return!0},set:function(t,e){let n="";if(e.isTemporaryImage()){const t=e.getTemporaryUrl();t&&(n=t)}else{const t=e.getOriginalUrl();t&&(n=t)}e.isInlineImage()?o(t,n):e.isBackgroundImage()&&r(t,n)}}},function(t,e,n){try{var r=n(462);if("function"!=typeof r.inherits)throw"";t.exports=r.inherits}catch(e){t.exports=n(463)}},function(t,e,n){var r=n(19).Buffer;function o(t,e){this._block=r.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}o.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=r.from(t,e));for(var n=this._block,o=this._blockSize,i=t.length,s=this._len,a=0;a<i;){for(var c=s%o,u=Math.min(i-a,o-c),p=0;p<u;p++)n[c+p]=t[a+p];a+=u,(s+=u)%o==0&&this._update(n)}return this._len+=i,this},o.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,o=(n-r)/4294967296;this._block.writeUInt32BE(o,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var i=this._hash();return t?i.toString(t):i},o.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=o},function(t,e,n){var r=n(210),o=n(219)(r);t.exports=o},function(t,e,n){var r=n(213),o=n(4),i=Object.prototype,s=i.hasOwnProperty,a=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(t){return o(t)&&s.call(t,"callee")&&!a.call(t,"callee")};t.exports=c},function(t,e,n){(function(t){var r=n(6),o=n(216),i=e&&!e.nodeType&&e,s=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===i?r.Buffer:void 0,c=(a?a.isBuffer:void 0)||o;t.exports=c}).call(this,n(74)(t))},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(123);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e,n){const r=n(2),o=n(276),i=n(61),{booleanAttributes:s,unencodedElements:a,singleTags:c,blockElements:u}=o;function p(t,e){return t.reduce((n,o,d)=>{let f;switch(o.type){case"text":n+=function(t,e){let n=t.data||"";!e.encodeXML||t.parent&&a[t.parent.name]?e.decodeHTML&&(n=i.decodeHTML(n)):n=i.encodeXML(n);return n}(o,e);break;case"tag":case"script":case"style":f=t[d+1],n+=function(t,e,n){let o,a;if(t.doNotRender)return"";if(e.plainText)return p(t.children,e);if(e.editableValidator){if(e.editableValidator.isProhibited(t)&&t.children)return p(t.children,e)}"svg"===t.name&&(e={encodeXML:e.encodeXML,renderDirectiveInfo:e.renderDirectiveInfo,xmlMode:!0});let d=function(t,e){let n=`<${t.name}`;const o=function(t,e){if(!t)return;let n="";for(const r of Object.keys(t)){let o=t[r];n&&(n+=" "),!o&&s[r]?n+=r:(e.encodeXML&&(o=i.encodeXML(o)),n+=`${r}="${o}"`)}return n}(t.attribs,e);o&&(n+=` ${o}`);const a=function(t,e){let n;if(!t)return;if(e.renderDirectiveInfo){n="";for(const e of Object.keys(t)){const r=t[e];n&&(n+=" "),n+=`doc-${e}="${r}"`}}return n}(t.directives,e);a&&(n+=` ${a}`);e.xmlMode&&!r(t,"children",!1)?n+="/>":n+=">";return n}(t,e);if(e.prettyHtml){const e=h(n),r=function(t){return!(!t.children||!t.children.length)&&h(t.children[0])}(t),i=u[t.name];a=i&&t.children&&!r,o=n&&!e}!function(t,e){if(e.xmlMode&&!r(t,"children.length",!1))return!0;return!!c[t.name]}(t,e)?(t.children&&(a&&(d+=function(t){t.indentLevel||(t.indentLevel=0);return t.indentLevel+=1,l(t)}(e)),d+=p(t.children,e),a&&(d+=function(t){t.indentLevel||(t.indentLevel=0);t.indentLevel>0&&(t.indentLevel-=1);return l(t)}(e))),d+=`</${t.name}>`,o&&(d+=l(e))):o&&(d+=l(e));return d}(o,e,f);break;case"root":n+=p(o.children,e);break;case"comment":n+=function(t){return`\x3c!--${t.data}--\x3e`}(o);break;case"directive":n+=function(t){return`<${t.data}>`}(o);break;case"cdata":n+=function(t){return`<![CDATA[${t.children[0].data}]]>`}(o)}return n},"")}t.exports=function(t,e={}){return Array.isArray(t)||t.cheerio||(t=[t]),e.prettyHtml&&(e.tabSize||(e.tabSize=2),e.decodeHTML=!0),p(t,e)};function l(t){return`\n${function(t){t.indentLevel||(t.indentLevel=0);if(t.indentLevel<0)return"";const e=t.indentLevel*t.tabSize;return" ".repeat(e)}(t)}`}function h(t){return!!t&&("text"===t.type&&/\n/.test(t.data))}},function(t,e,n){var r=n(10),o=n(82),i=n(4),s=Function.prototype,a=Object.prototype,c=s.toString,u=a.hasOwnProperty,p=c.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=r(t))return!1;var e=o(t);if(null===e)return!0;var n=u.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==p}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(339);e.isTag=function(t){return r.isTag(t)},e.isCDATA=function(t){return"cdata"===t.type},e.isText=function(t){return"text"===t.type},e.isComment=function(t){return"comment"===t.type},e.hasChildren=function(t){return Object.prototype.hasOwnProperty.call(t,"children")}},function(t,e,n){const r=n(2),o=n(24),i=n(5),s=n(3);t.exports=class{constructor({component:t,structureDirective:e}){this.component=t,this.structureDirective=e;for(const[t,n]of Object.entries(e||{}))"placeholder"!==t&&(this[t]=n);this.content={}}getContent(){return this.content.value}hasDifferentContent(t){return""===t&&(t=void 0),this.content.value!==t}copyTo(t){this.assertCompatibility(t),t.content=o(this.content)}assertCompatibility(t){const e=this.type===t.type;i(e,`Incompatible directives: ${this.type} <-> ${t.type}`)}isEmpty(){return!this.getContent()}setData(t,e){const n=`_${this.name}Directive`;let r=o(this.component.getData(n));null==r&&(r={}),r[t]=e,this.component.setData(n,r)}removeData(t){const e=`_${this.name}Directive`,n=o(this.component.getData(e));n&&(delete n[t],this.component.setData(e,n))}getData(t){return t?null!=this.component.dataValues[`_${this.name}Directive`]?this.component.dataValues[`_${this.name}Directive`][t]:void 0:this.component.dataValues[`_${this.name}Directive`]}setTmp(t,e){s.execTrusted("updateDirectiveTmpData",{component:this.component,directive:this,key:t,value:e})}getTmp(t){return r(this.tmp,t)}getId(){return`${this.component.id}:${this.name}`}serialize(){return this.content.value}deserialize(t){this.content.value=t}correctValueType(t){return!t||"string"==typeof t||t instanceof String}}},function(t,e,n){const r=n(197),{assert:o}=n(1),i=n(404),s=n(405),a=n(406),c=n(110),u=n(423),p=n(112);function l(t){for(let e=0;e<t.length;e++){const n=t[e];if(n.add)return{violation:n,index:e}}return{}}function h(t,e){return new s({name:t,dom:e})}function d(t,e){const n={};return t.forEach(t=>{o(e.properties,`The componentProperty '${t}' was not found.`);const r=e.properties[t];o(r,`The componentProperty '${t}' was not found.`),n[t]=r}),n}t.exports={parseComponent:function(t,e){const n=t.html,s=Array.isArray(t.directives)?r(t.directives,"name"):t.directives;let l=t.properties;const{name:f,label:m,description:g,iconUrl:v,allowedParents:y}=t,{excludeFromTextCount:_}=t,b={name:f,label:m,description:g,iconUrl:v,allowedParents:y,excludeFromTextCount:_};l&&(l=d(l,e),b.properties=l);const x=a(n);b.directivesFromTemplate=x.directives,b.directivesFromConfig=s;const C=function(t,e){const{name:n,label:r,description:s,iconUrl:a,allowedParents:l}=t,{excludeFromTextCount:h}=t,{properties:f,directivesFromTemplate:m,directivesFromConfig:g}=t,v=function(t,e,n,r){const i={};return t.forEach(t=>{i[t.name]=t}),e=e||{},Object.keys(e).forEach(t=>{const s=e[t]||{},a=i[t];a||o(!1,`Directive '${t}' not present in template for component '${n}'.`),Object.keys(s).forEach(e=>{const n=s[e];switch(e){case"type":o(a.type===n,`Directive '${t}': type does not match`);break;case"imageRatios":n&&n.length&&(a[e]=function(t,e){return t.map(t=>{const n=e.imageRatios[t];return n||new p({name:t,ratio:t})})}(n,r));break;case"properties":n&&n.length&&(a[e]=d(n,r));break;default:a[e]=n}})}),t}(m,g,n,e);return function(t,e){t.forEach(t=>{Object.keys(t).forEach(e=>{const n=t[e];switch(o(function(t){return o(c.exists(t.type),`Unkown directive '${t.type}'`),u.validate(t.type,t),!u.hasErrors()}(t),u.getErrorMessages()),e){case"srcSet":!function(t,e,n){o("img"===t.tag,`${n} is only supported for inline images.`)}(t,n,e);break;case"backgroundImage":!function(t,e,n){o("img"!==t.tag,`${n} is only supported for background images.`)}(t,n,e);break;case"services":!function(t,e){o(!t.service,'Include directive can only have either "service" or "services".')}(t,n);break;case"service":!function(t,e){o(!t.services,'Include directive can only have either "service" or "services".')}(t,n)}})})}(v),new i({name:n,label:r,description:s,iconUrl:a,properties:f,allowedParents:l,directives:v,excludeFromTextCount:h})}(b,e),w=h(f,x.skin);return{structure:C,skin:w}},createSkinForComponent:function({structure:t,html:e}){const n=t.name;let r;try{r=a(e)}catch(t){return{violations:[{parseError:!0,message:`Could not parse template: ${t.message}`}]}}const o=function(t,e){const n=[],r={};e.forEach(e=>{const o=e.name;if(r[o]=e,t.directives.has(o)){t.directives.get(o).type!==e.type&&n.push({conflict:!0,directiveName:o,message:"cannot change directive type"})}else n.push({add:!0,directiveName:o,message:"cannot add directive "+`doc-${e.type}="${o}"`})});for(const e of t.directives){const t=e.name;if(!r[t]){const{violation:o,index:i}=l(n);let s=!1;if(o){r[o.directiveName].type===e.type&&(s=!0)}s?(n.splice(i,1),n.push({rename:!0,directiveName:o.directiveName,message:`cannot rename directive doc-${e.type}="${t}" `+`to doc-${e.type}="${o.directiveName}"`})):n.push({remove:!0,directiveName:t,message:`directive doc-${e.type}="${t}" is missing`})}}return n.length?n:void 0}(t,r.directives),i=h(n,r.skin);return{violations:o,skin:i,skinDirectives:r.directives}}}},function(t,e){t.exports=function(t,e,n){if(null==t)return!1;const r=t.toLowerCase(),o=-1!==e.indexOf(r),i=-1!==n.indexOf(r);return o&&!i}},function(t,e,n){t.exports=n(73)},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(217),o=n(22),i=n(76),s=i&&i.isTypedArray,a=s?o(s):r;t.exports=a},function(t,e,n){var r=n(49),o=n(218),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(10),o=n(7);t.exports=function(t){if(!o(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){var r=n(48),o=n(15),i=n(34),s=n(0),a=n(12),c=n(35),u=n(49),p=n(47),l=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(a(t)&&(s(t)||"string"==typeof t||"function"==typeof t.splice||c(t)||p(t)||i(t)))return!t.length;var e=o(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(u(t))return!r(t).length;for(var n in t)if(l.call(t,n))return!1;return!0}},function(t,e,n){var r=n(53),o=n(46),i=n(79),s=n(124),a=n(250),c=n(125),u=n(38),p=n(253),l=n(254),h=n(129),d=n(83),f=n(15),m=n(255),g=n(256),v=n(133),y=n(0),_=n(35),b=n(260),x=n(7),C=n(262),w=n(14),I={};I["[object Arguments]"]=I["[object Array]"]=I["[object ArrayBuffer]"]=I["[object DataView]"]=I["[object Boolean]"]=I["[object Date]"]=I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Map]"]=I["[object Number]"]=I["[object Object]"]=I["[object RegExp]"]=I["[object Set]"]=I["[object String]"]=I["[object Symbol]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I["[object Error]"]=I["[object Function]"]=I["[object WeakMap]"]=!1,t.exports=function t(e,n,E,T,S,A){var D,P=1&n,k=2&n,O=4&n;if(E&&(D=S?E(e,T,S,A):E(e)),void 0!==D)return D;if(!x(e))return e;var N=y(e);if(N){if(D=m(e),!P)return u(e,D)}else{var R=f(e),j="[object Function]"==R||"[object GeneratorFunction]"==R;if(_(e))return c(e,P);if("[object Object]"==R||"[object Arguments]"==R||j&&!S){if(D=k||j?{}:v(e),!P)return k?l(e,a(D,e)):p(e,s(D,e))}else{if(!I[R])return S?e:{};D=g(e,R,P)}}A||(A=new r);var M=A.get(e);if(M)return M;A.set(e,D),C(e)?e.forEach((function(r){D.add(t(r,n,E,r,e,A))})):b(e)&&e.forEach((function(r,o){D.set(o,t(r,n,E,o,e,A))}));var L=O?k?d:h:k?keysIn:w,q=N?void 0:L(e);return o(q||e,(function(r,o){q&&(r=e[o=r]),i(D,o,t(r,n,E,o,e,A))})),D}},function(t,e,n){var r=n(54),o=n(233),i=n(234),s=n(235),a=n(236),c=n(237);function u(t){var e=this.__data__=new r(t);this.size=e.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=s,u.prototype.has=a,u.prototype.set=c,t.exports=u},function(t,e,n){var r=n(228),o=n(229),i=n(230),s=n(231),a=n(232);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=s,c.prototype.set=a,t.exports=c},function(t,e,n){var r=n(36);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(16)(Object,"create");t.exports=r},function(t,e,n){var r=n(246);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(118),o=n(251),i=n(12);t.exports=function(t){return i(t)?r(t,!0):o(t)}},function(t,e,n){var r=n(7),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i},function(t,e,n){var r=n(26),o=n(17);t.exports=function(t,e){for(var n=0,i=(e=r(e,t)).length;null!=t&&n<i;)t=t[o(e[n++])];return n&&n==i?t:void 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(142),o=n(145);e.decode=function(t,e){return(!e||e<=0?r.decodeXML:r.decodeHTML)(t)},e.decodeStrict=function(t,e){return(!e||e<=0?r.decodeXML:r.decodeHTMLStrict)(t)},e.encode=function(t,e){return(!e||e<=0?o.encodeXML:o.encodeHTML)(t)};var i=n(145);e.encodeXML=i.encodeXML,e.encodeHTML=i.encodeHTML,e.escape=i.escape,e.encodeHTML4=i.encodeHTML,e.encodeHTML5=i.encodeHTML;var s=n(142);e.decodeXML=s.decodeXML,e.decodeHTML=s.decodeHTML,e.decodeHTMLStrict=s.decodeHTMLStrict,e.decodeHTML4=s.decodeHTML,e.decodeHTML5=s.decodeHTML,e.decodeHTML4Strict=s.decodeHTMLStrict,e.decodeHTML5Strict=s.decodeHTMLStrict,e.decodeXMLStrict=s.decodeXML},function(t,e,n){var r=n(23),o=n(139),i=n(90);t.exports=function(t,e){return i(o(t,e,r),t+"")}},function(t,e,n){var r=n(287)(n(159));t.exports=r},function(t,e,n){var r=n(302);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},function(t,e,n){const r=n(305),{createComponent:o,getComponent:i,getPosition:s}=r,a=n(306)(t=>null!=t);function c(t){const e=t.toJson();return e.component=t.componentName,e}function u(t){if(!t)return;const{parentContainer:e,next:n,previous:r}=t,{containerInsertIndex:o}=t,i="bottom"===n?"bottom":n&&n.id,s="top"===r?"top":r&&r.id,a=e&&e.name,c={parentId:e?e.componentId||"root":void 0,previousId:s,nextId:i};return void 0!==o&&(c.containerInsertIndex=o),a&&(c.parentContainerName=a),c}t.exports={serializeCommand(t){const e=t.type,n="insertComponent"===e||"transformComponent"===e?c(t.component):function(t){return{id:t.id,component:t.componentName}}(t.component),r="transformComponent"===e?c(t.replacement):void 0;return a({type:t.type,component:n,replacement:r,position:u(t.position),directiveName:t.directive&&t.directive.name,value:t.value,serviceName:t.serviceName,name:t.name,key:t.key,eventSource:"remote"===t.eventSource?"remote":void 0})},deserializeCommand(t,e){switch(t.type){case"insertComponent":return function(t,e){const n=[],r=s(t.position,e,n);if(!r.ok)return{conflicts:n};const i=o(t,e,n);return i.ok?{ok:!0,command:{type:t.type,component:i.component,position:r.position,eventSource:t.eventSource},conflicts:n}:{conflicts:n}}(t,e);case"transformComponent":return function(t,e){const n=[],r={type:t.type},{ok:s,component:a}=i(t,e,n);if(!s)return{conflicts:n};const{ok:c,component:u}=o({component:t.replacement},e,n);return c?(r.component=a,r.replacement=u,{command:r}):{conflicts:n}}(t,e);case"moveComponent":return function(t,e){const n=[],r={type:t.type},{ok:o,component:a}=i(t,e,n);if(!o)return{conflicts:n};const c=t.position,{ok:u,position:p}=s(c,e,n);if(!u)return{conflicts:n};(p.previous&&p.previous.next!==p.next||p.next&&p.next.previous!==p.previous)&&n.push({type:"PositionObjectIsNotCorrect",componentId:a.id});return r.component=a,r.position=p,r.eventSource=t.eventSource,{conflicts:n,command:r}}(t,e);case"removeComponent":return function(t,e){const n=[],r={type:t.type};if(t.component){const o=t.component.id,i=e.findById(o);i?r.component=i:n.push({type:"ComponentAlreadyRemoved",componentId:o})}return r.eventSource=t.eventSource,{conflicts:n,command:r}}(t,e);case"updateEditableDirective":case"updateImageDirective":case"updateToggleDirective":case"updateStyleDirective":case"updateIncludeDirective":case"updateLinkDirective":case"updateHtmlDirective":return function(t,e){const n=[],{ok:o,component:s}=i(t,e,n);if(!o)return{conflicts:n};const a={component:s,type:t.type,key:t.key,value:t.value,serviceName:t.serviceName,eventSource:t.eventSource},{conflict:c,directive:u}=r.directive(t,a.component);c?n.push(c):a.directive=u;return{conflicts:n,command:a}}(t,e);case"updateComponentStyle":case"updateComponentData":return function(t,e){const n=[],r={type:t.type},o=e.findById(t.component.id);o?r.component=o:n.push({type:"NotExistingComponent",componentId:r.component.id});return r.value=t.value,r.key=t.key,r.name=t.name,r.eventSource=t.eventSource,{conflicts:n,command:r}}(t,e);case"updateTmpImageDirective":case"updateDirectiveTmpData":return{skip:!0};case"proposeInsert":case"proposeUpdate":case"proposeRemoval":case"updateProposal":return function(t,e){const{type:n,proposalStatus:r,proposalData:i,componentId:a,position:c}=t,u=[];if("updateProposal"===n){const p={type:n,componentId:a,proposalStatus:r,proposalData:i};if(c){const t=s(c,e,u,!0);if(!t.ok)return{conflicts:u};p.position=t.position}if(t.component){const n=o(t,e,u);if(!n.ok)return{conflicts:u};p.component=n.component}return{command:p,conflicts:u}}if("proposeInsert"===n||"proposeUpdate"===n){const a=o(t,e,u);if(!a.ok)return{conflicts:u};const p={type:n,proposalStatus:r,proposalData:i,component:a.component};if(c){const t=s(c,e,u,!0);if(!t.ok)return{conflicts:u};p.position=t.position}return{command:p,conflicts:u}}if("proposeRemoval"===n){return{command:{type:n,proposalStatus:r,proposalData:i,componentId:a},conflicts:u}}}(t,e);case"rejectProposal":return function(t,e){const{type:n,componentId:r}=t;return{command:{type:n,componentId:r},conflicts:[]}}(t);default:return{conflicts:[{type:"InvalidCommandType",command:t}]}}},serializePosition:u}},function(t,e){t.exports={ok:()=>({ok:!0}),notOk:t=>({ok:!1,conflicts:Array.isArray(t)?t:[t]}),getError(t){const e=Array.isArray(t)?t[0]:t;return new Error(`${e.type}: ${e.message}`)},componentViolation:({id:t,componentName:e})=>({type:"componentViolation",componentId:t,componentName:e,message:`unknown component '${e}'`}),directiveViolation:({id:t,componentName:e,directiveName:n})=>({type:"directiveViolation",componentId:t,componentName:e,directiveName:n,message:`unknown directive '${n}' in component '${e}'`}),directiveTypeViolation:({id:t,componentName:e,directiveName:n})=>({type:"directiveTypeViolation",componentId:t,componentName:e,directiveName:n,message:`invalid value for directive '${n}' in component '${e}'`}),containerViolation:({id:t,containerName:e})=>({type:"containerViolation",componentId:t,containerName:e,message:`unknown container '${e}'`}),dataFormatViolation:({id:t,containerName:e})=>({type:"dataFormatViolation",componentId:t,containerName:e,message:`data for container '${e}' cannot be parsed`}),corruptPositionViolation:({id:t,message:e})=>({type:"corruptPositionViolation",componentId:t,message:e})}},function(t,e,n){var r=n(59),o=n(7);t.exports=function(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=r(t.prototype),i=t.apply(n,e);return o(i)?i:n}}},function(t,e){let n,r=n;t.exports={next(t="doc"){const e=Date.now().toString(32);return n===e?r+=1:(r=0,n=e),`${t}-${e}${r}`}}},function(t,e,n){var r=n(371),o=n(33),i=n(9),s=n(372),a=n(0);t.exports=function(t,e,n){var c=a(t)?r:s,u=arguments.length<3;return c(t,i(e,4),n,u,o)}},function(t,e,n){const r=n(114);t.exports=function(t,e){e?t.css("background-image",o(e)):t.css("background-image","")};const o=function(t){return`url(${t=r(t)})`}},function(t,e){t.exports=require("url")},function(t,e,n){const r=n(206);t.exports={set:function(t,e,n,o){r(t,e);const i=n.map(({width:t,url:e})=>`${e} ${t}w`).join(",");t.attr("srcset",i),t.attr("sizes",o.join(","))},reset:function(t){t.removeAttr("srcset"),t.removeAttr("sizes")}}},function(t,e,n){var r=n(46),o=n(33),i=n(220),s=n(0);t.exports=function(t,e){return(s(t)?r:o)(t,i(e))}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e,n){(function(t){var r=n(119),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=i&&i.exports===o&&r.process,a=function(){try{var t=i&&i.require&&i.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=a}).call(this,n(74)(t))},function(t,e,n){var r=n(16)(n(6),"Map");t.exports=r},function(t,e,n){var r=n(238),o=n(245),i=n(247),s=n(248),a=n(249);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=s,c.prototype.set=a,t.exports=c},function(t,e,n){var r=n(37),o=n(36),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var s=t[e];i.call(t,e)&&o(s,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(126),o=n(127),i=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(t){return null==t?[]:(t=Object(t),r(s(t),(function(e){return i.call(t,e)})))}:o;t.exports=a},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},function(t,e,n){var r=n(120)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(130),o=n(128),i=n(58);t.exports=function(t){return r(t,i,o)}},function(t,e,n){var r=n(131);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e,n){var r=n(0),o=n(27),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||(s.test(t)||!i.test(t)||null!=e&&t in Object(e))}},function(t,e,n){var r=n(135);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(272),o=n(139),i=n(90);t.exports=function(t){return i(o(t,void 0,r),t+"")}},function(t,e,n){var r=n(81),o=n(273);t.exports=function t(e,n,i,s,a){var c=-1,u=e.length;for(i||(i=o),a||(a=[]);++c<u;){var p=e[c];n>0&&i(p)?n>1?t(p,n-1,i,s,a):r(a,p):s||(a[a.length]=p)}return a}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(274),o=n(140)(r);t.exports=o},function(t){t.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Abreve":"Ă","abreve":"ă","ac":"∾","acd":"∿","acE":"∾̳","Acirc":"Â","acirc":"â","acute":"´","Acy":"А","acy":"а","AElig":"Æ","aelig":"æ","af":"⁡","Afr":"𝔄","afr":"𝔞","Agrave":"À","agrave":"à","alefsym":"ℵ","aleph":"ℵ","Alpha":"Α","alpha":"α","Amacr":"Ā","amacr":"ā","amalg":"⨿","amp":"&","AMP":"&","andand":"⩕","And":"⩓","and":"∧","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angmsd":"∡","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","Aogon":"Ą","aogon":"ą","Aopf":"𝔸","aopf":"𝕒","apacir":"⩯","ap":"≈","apE":"⩰","ape":"≊","apid":"≋","apos":"\'","ApplyFunction":"⁡","approx":"≈","approxeq":"≊","Aring":"Å","aring":"å","Ascr":"𝒜","ascr":"𝒶","Assign":"≔","ast":"*","asymp":"≈","asympeq":"≍","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","awconint":"∳","awint":"⨑","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","Backslash":"∖","Barv":"⫧","barvee":"⊽","barwed":"⌅","Barwed":"⌆","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","Bcy":"Б","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","Because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","Bernoullis":"ℬ","Beta":"Β","beta":"β","beth":"ℶ","between":"≬","Bfr":"𝔅","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bNot":"⫭","bnot":"⌐","Bopf":"𝔹","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxbox":"⧉","boxdl":"┐","boxdL":"╕","boxDl":"╖","boxDL":"╗","boxdr":"┌","boxdR":"╒","boxDr":"╓","boxDR":"╔","boxh":"─","boxH":"═","boxhd":"┬","boxHd":"╤","boxhD":"╥","boxHD":"╦","boxhu":"┴","boxHu":"╧","boxhU":"╨","boxHU":"╩","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxul":"┘","boxuL":"╛","boxUl":"╜","boxUL":"╝","boxur":"└","boxuR":"╘","boxUr":"╙","boxUR":"╚","boxv":"│","boxV":"║","boxvh":"┼","boxvH":"╪","boxVh":"╫","boxVH":"╬","boxvl":"┤","boxvL":"╡","boxVl":"╢","boxVL":"╣","boxvr":"├","boxvR":"╞","boxVr":"╟","boxVR":"╠","bprime":"‵","breve":"˘","Breve":"˘","brvbar":"¦","bscr":"𝒷","Bscr":"ℬ","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsolb":"⧅","bsol":"\\\\","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","Bumpeq":"≎","bumpeq":"≏","Cacute":"Ć","cacute":"ć","capand":"⩄","capbrcup":"⩉","capcap":"⩋","cap":"∩","Cap":"⋒","capcup":"⩇","capdot":"⩀","CapitalDifferentialD":"ⅅ","caps":"∩︀","caret":"⁁","caron":"ˇ","Cayleys":"ℭ","ccaps":"⩍","Ccaron":"Č","ccaron":"č","Ccedil":"Ç","ccedil":"ç","Ccirc":"Ĉ","ccirc":"ĉ","Cconint":"∰","ccups":"⩌","ccupssm":"⩐","Cdot":"Ċ","cdot":"ċ","cedil":"¸","Cedilla":"¸","cemptyv":"⦲","cent":"¢","centerdot":"·","CenterDot":"·","cfr":"𝔠","Cfr":"ℭ","CHcy":"Ч","chcy":"ч","check":"✓","checkmark":"✓","Chi":"Χ","chi":"χ","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","CircleDot":"⊙","circledR":"®","circledS":"Ⓢ","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","cir":"○","cirE":"⧃","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","clubs":"♣","clubsuit":"♣","colon":":","Colon":"∷","Colone":"⩴","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","Congruent":"≡","conint":"∮","Conint":"∯","ContourIntegral":"∮","copf":"𝕔","Copf":"ℂ","coprod":"∐","Coproduct":"∐","copy":"©","COPY":"©","copysr":"℗","CounterClockwiseContourIntegral":"∳","crarr":"↵","cross":"✗","Cross":"⨯","Cscr":"𝒞","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cupbrcap":"⩈","cupcap":"⩆","CupCap":"≍","cup":"∪","Cup":"⋓","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dagger":"†","Dagger":"‡","daleth":"ℸ","darr":"↓","Darr":"↡","dArr":"⇓","dash":"‐","Dashv":"⫤","dashv":"⊣","dbkarow":"⤏","dblac":"˝","Dcaron":"Ď","dcaron":"ď","Dcy":"Д","dcy":"д","ddagger":"‡","ddarr":"⇊","DD":"ⅅ","dd":"ⅆ","DDotrahd":"⤑","ddotseq":"⩷","deg":"°","Del":"∇","Delta":"Δ","delta":"δ","demptyv":"⦱","dfisht":"⥿","Dfr":"𝔇","dfr":"𝔡","dHar":"⥥","dharl":"⇃","dharr":"⇂","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","diam":"⋄","diamond":"⋄","Diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","DifferentialD":"ⅆ","digamma":"ϝ","disin":"⋲","div":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","DJcy":"Ђ","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","Dopf":"𝔻","dopf":"𝕕","Dot":"¨","dot":"˙","DotDot":"⃜","doteq":"≐","doteqdot":"≑","DotEqual":"≐","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrowBar":"⤓","downarrow":"↓","DownArrow":"↓","Downarrow":"⇓","DownArrowUpArrow":"⇵","DownBreve":"̑","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVectorBar":"⥖","DownLeftVector":"↽","DownRightTeeVector":"⥟","DownRightVectorBar":"⥗","DownRightVector":"⇁","DownTeeArrow":"↧","DownTee":"⊤","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","Dscr":"𝒟","dscr":"𝒹","DScy":"Ѕ","dscy":"ѕ","dsol":"⧶","Dstrok":"Đ","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","DZcy":"Џ","dzcy":"џ","dzigrarr":"⟿","Eacute":"É","eacute":"é","easter":"⩮","Ecaron":"Ě","ecaron":"ě","Ecirc":"Ê","ecirc":"ê","ecir":"≖","ecolon":"≕","Ecy":"Э","ecy":"э","eDDot":"⩷","Edot":"Ė","edot":"ė","eDot":"≑","ee":"ⅇ","efDot":"≒","Efr":"𝔈","efr":"𝔢","eg":"⪚","Egrave":"È","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","Element":"∈","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","Emacr":"Ē","emacr":"ē","empty":"∅","emptyset":"∅","EmptySmallSquare":"◻","emptyv":"∅","EmptyVerySmallSquare":"▫","emsp13":" ","emsp14":" ","emsp":" ","ENG":"Ŋ","eng":"ŋ","ensp":" ","Eogon":"Ę","eogon":"ę","Eopf":"𝔼","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","Epsilon":"Ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","Equal":"⩵","equals":"=","EqualTilde":"≂","equest":"≟","Equilibrium":"⇌","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erarr":"⥱","erDot":"≓","escr":"ℯ","Escr":"ℰ","esdot":"≐","Esim":"⩳","esim":"≂","Eta":"Η","eta":"η","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","euro":"€","excl":"!","exist":"∃","Exists":"∃","expectation":"ℰ","exponentiale":"ⅇ","ExponentialE":"ⅇ","fallingdotseq":"≒","Fcy":"Ф","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","Ffr":"𝔉","ffr":"𝔣","filig":"ﬁ","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","Fopf":"𝔽","fopf":"𝕗","forall":"∀","ForAll":"∀","fork":"⋔","forkv":"⫙","Fouriertrf":"ℱ","fpartint":"⨍","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","Fscr":"ℱ","gacute":"ǵ","Gamma":"Γ","gamma":"γ","Gammad":"Ϝ","gammad":"ϝ","gap":"⪆","Gbreve":"Ğ","gbreve":"ğ","Gcedil":"Ģ","Gcirc":"Ĝ","gcirc":"ĝ","Gcy":"Г","gcy":"г","Gdot":"Ġ","gdot":"ġ","ge":"≥","gE":"≧","gEl":"⪌","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","gescc":"⪩","ges":"⩾","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","Gfr":"𝔊","gfr":"𝔤","gg":"≫","Gg":"⋙","ggg":"⋙","gimel":"ℷ","GJcy":"Ѓ","gjcy":"ѓ","gla":"⪥","gl":"≷","glE":"⪒","glj":"⪤","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gnE":"≩","gneq":"⪈","gneqq":"≩","gnsim":"⋧","Gopf":"𝔾","gopf":"𝕘","grave":"`","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","gtcc":"⪧","gtcir":"⩺","gt":">","GT":">","Gt":"≫","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","Hacek":"ˇ","hairsp":" ","half":"½","hamilt":"ℋ","HARDcy":"Ъ","hardcy":"ъ","harrcir":"⥈","harr":"↔","hArr":"⇔","harrw":"↭","Hat":"^","hbar":"ℏ","Hcirc":"Ĥ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","Hfr":"ℌ","HilbertSpace":"ℋ","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","Hopf":"ℍ","horbar":"―","HorizontalLine":"─","hscr":"𝒽","Hscr":"ℋ","hslash":"ℏ","Hstrok":"Ħ","hstrok":"ħ","HumpDownHump":"≎","HumpEqual":"≏","hybull":"⁃","hyphen":"‐","Iacute":"Í","iacute":"í","ic":"⁣","Icirc":"Î","icirc":"î","Icy":"И","icy":"и","Idot":"İ","IEcy":"Е","iecy":"е","iexcl":"¡","iff":"⇔","ifr":"𝔦","Ifr":"ℑ","Igrave":"Ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","IJlig":"Ĳ","ijlig":"ĳ","Imacr":"Ī","imacr":"ī","image":"ℑ","ImaginaryI":"ⅈ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","Im":"ℑ","imof":"⊷","imped":"Ƶ","Implies":"⇒","incare":"℅","in":"∈","infin":"∞","infintie":"⧝","inodot":"ı","intcal":"⊺","int":"∫","Int":"∬","integers":"ℤ","Integral":"∫","intercal":"⊺","Intersection":"⋂","intlarhk":"⨗","intprod":"⨼","InvisibleComma":"⁣","InvisibleTimes":"⁢","IOcy":"Ё","iocy":"ё","Iogon":"Į","iogon":"į","Iopf":"𝕀","iopf":"𝕚","Iota":"Ι","iota":"ι","iprod":"⨼","iquest":"¿","iscr":"𝒾","Iscr":"ℐ","isin":"∈","isindot":"⋵","isinE":"⋹","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","Itilde":"Ĩ","itilde":"ĩ","Iukcy":"І","iukcy":"і","Iuml":"Ï","iuml":"ï","Jcirc":"Ĵ","jcirc":"ĵ","Jcy":"Й","jcy":"й","Jfr":"𝔍","jfr":"𝔧","jmath":"ȷ","Jopf":"𝕁","jopf":"𝕛","Jscr":"𝒥","jscr":"𝒿","Jsercy":"Ј","jsercy":"ј","Jukcy":"Є","jukcy":"є","Kappa":"Κ","kappa":"κ","kappav":"ϰ","Kcedil":"Ķ","kcedil":"ķ","Kcy":"К","kcy":"к","Kfr":"𝔎","kfr":"𝔨","kgreen":"ĸ","KHcy":"Х","khcy":"х","KJcy":"Ќ","kjcy":"ќ","Kopf":"𝕂","kopf":"𝕜","Kscr":"𝒦","kscr":"𝓀","lAarr":"⇚","Lacute":"Ĺ","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","Lambda":"Λ","lambda":"λ","lang":"⟨","Lang":"⟪","langd":"⦑","langle":"⟨","lap":"⪅","Laplacetrf":"ℒ","laquo":"«","larrb":"⇤","larrbfs":"⤟","larr":"←","Larr":"↞","lArr":"⇐","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","latail":"⤙","lAtail":"⤛","lat":"⪫","late":"⪭","lates":"⪭︀","lbarr":"⤌","lBarr":"⤎","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","Lcaron":"Ľ","lcaron":"ľ","Lcedil":"Ļ","lcedil":"ļ","lceil":"⌈","lcub":"{","Lcy":"Л","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","lE":"≦","LeftAngleBracket":"⟨","LeftArrowBar":"⇤","leftarrow":"←","LeftArrow":"←","Leftarrow":"⇐","LeftArrowRightArrow":"⇆","leftarrowtail":"↢","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVectorBar":"⥙","LeftDownVector":"⇃","LeftFloor":"⌊","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","LeftRightArrow":"↔","Leftrightarrow":"⇔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","LeftRightVector":"⥎","LeftTeeArrow":"↤","LeftTee":"⊣","LeftTeeVector":"⥚","leftthreetimes":"⋋","LeftTriangleBar":"⧏","LeftTriangle":"⊲","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVectorBar":"⥘","LeftUpVector":"↿","LeftVectorBar":"⥒","LeftVector":"↼","lEg":"⪋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","lescc":"⪨","les":"⩽","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","lessgtr":"≶","LessLess":"⪡","lesssim":"≲","LessSlantEqual":"⩽","LessTilde":"≲","lfisht":"⥼","lfloor":"⌊","Lfr":"𝔏","lfr":"𝔩","lg":"≶","lgE":"⪑","lHar":"⥢","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","LJcy":"Љ","ljcy":"љ","llarr":"⇇","ll":"≪","Ll":"⋘","llcorner":"⌞","Lleftarrow":"⇚","llhard":"⥫","lltri":"◺","Lmidot":"Ŀ","lmidot":"ŀ","lmoustache":"⎰","lmoust":"⎰","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lnE":"≨","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","LongLeftArrow":"⟵","Longleftarrow":"⟸","longleftrightarrow":"⟷","LongLeftRightArrow":"⟷","Longleftrightarrow":"⟺","longmapsto":"⟼","longrightarrow":"⟶","LongRightArrow":"⟶","Longrightarrow":"⟹","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","Lopf":"𝕃","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","LowerLeftArrow":"↙","LowerRightArrow":"↘","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","Lscr":"ℒ","lsh":"↰","Lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","Lstrok":"Ł","lstrok":"ł","ltcc":"⪦","ltcir":"⩹","lt":"<","LT":"<","Lt":"≪","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltri":"◃","ltrie":"⊴","ltrif":"◂","ltrPar":"⦖","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","macr":"¯","male":"♂","malt":"✠","maltese":"✠","Map":"⤅","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","Mcy":"М","mcy":"м","mdash":"—","mDDot":"∺","measuredangle":"∡","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","mfr":"𝔪","mho":"℧","micro":"µ","midast":"*","midcir":"⫰","mid":"∣","middot":"·","minusb":"⊟","minus":"−","minusd":"∸","minusdu":"⨪","MinusPlus":"∓","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","Mopf":"𝕄","mopf":"𝕞","mp":"∓","mscr":"𝓂","Mscr":"ℳ","mstpos":"∾","Mu":"Μ","mu":"μ","multimap":"⊸","mumap":"⊸","nabla":"∇","Nacute":"Ń","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natural":"♮","naturals":"ℕ","natur":"♮","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","Ncaron":"Ň","ncaron":"ň","Ncedil":"Ņ","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","Ncy":"Н","ncy":"н","ndash":"–","nearhk":"⤤","nearr":"↗","neArr":"⇗","nearrow":"↗","ne":"≠","nedot":"≐̸","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","nequiv":"≢","nesear":"⤨","nesim":"≂̸","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","nexist":"∄","nexists":"∄","Nfr":"𝔑","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","nGg":"⋙̸","ngsim":"≵","nGt":"≫⃒","ngt":"≯","ngtr":"≯","nGtv":"≫̸","nharr":"↮","nhArr":"⇎","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","NJcy":"Њ","njcy":"њ","nlarr":"↚","nlArr":"⇍","nldr":"‥","nlE":"≦̸","nle":"≰","nleftarrow":"↚","nLeftarrow":"⇍","nleftrightarrow":"↮","nLeftrightarrow":"⇎","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nLl":"⋘̸","nlsim":"≴","nLt":"≪⃒","nlt":"≮","nltri":"⋪","nltrie":"⋬","nLtv":"≪̸","nmid":"∤","NoBreak":"⁠","NonBreakingSpace":" ","nopf":"𝕟","Nopf":"ℕ","Not":"⫬","not":"¬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","notin":"∉","notindot":"⋵̸","notinE":"⋹̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","NotLeftTriangleBar":"⧏̸","NotLeftTriangle":"⋪","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangleBar":"⧐̸","NotRightTriangle":"⋫","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","nparallel":"∦","npar":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","nprec":"⊀","npreceq":"⪯̸","npre":"⪯̸","nrarrc":"⤳̸","nrarr":"↛","nrArr":"⇏","nrarrw":"↝̸","nrightarrow":"↛","nRightarrow":"⇏","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","Nscr":"𝒩","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","Ntilde":"Ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","Nu":"Ν","nu":"ν","num":"#","numero":"№","numsp":" ","nvap":"≍⃒","nvdash":"⊬","nvDash":"⊭","nVdash":"⊮","nVDash":"⊯","nvge":"≥⃒","nvgt":">⃒","nvHarr":"⤄","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwarhk":"⤣","nwarr":"↖","nwArr":"⇖","nwarrow":"↖","nwnear":"⤧","Oacute":"Ó","oacute":"ó","oast":"⊛","Ocirc":"Ô","ocirc":"ô","ocir":"⊚","Ocy":"О","ocy":"о","odash":"⊝","Odblac":"Ő","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","OElig":"Œ","oelig":"œ","ofcir":"⦿","Ofr":"𝔒","ofr":"𝔬","ogon":"˛","Ograve":"Ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","Omacr":"Ō","omacr":"ō","Omega":"Ω","omega":"ω","Omicron":"Ο","omicron":"ο","omid":"⦶","ominus":"⊖","Oopf":"𝕆","oopf":"𝕠","opar":"⦷","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","operp":"⦹","oplus":"⊕","orarr":"↻","Or":"⩔","or":"∨","ord":"⩝","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oS":"Ⓢ","Oscr":"𝒪","oscr":"ℴ","Oslash":"Ø","oslash":"ø","osol":"⊘","Otilde":"Õ","otilde":"õ","otimesas":"⨶","Otimes":"⨷","otimes":"⊗","Ouml":"Ö","ouml":"ö","ovbar":"⌽","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","para":"¶","parallel":"∥","par":"∥","parsim":"⫳","parsl":"⫽","part":"∂","PartialD":"∂","Pcy":"П","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","Pfr":"𝔓","pfr":"𝔭","Phi":"Φ","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","Pi":"Π","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plus":"+","plusdo":"∔","plusdu":"⨥","pluse":"⩲","PlusMinus":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","Poincareplane":"ℌ","pointint":"⨕","popf":"𝕡","Popf":"ℙ","pound":"£","prap":"⪷","Pr":"⪻","pr":"≺","prcue":"≼","precapprox":"⪷","prec":"≺","preccurlyeq":"≼","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","pre":"⪯","prE":"⪳","precsim":"≾","prime":"′","Prime":"″","primes":"ℙ","prnap":"⪹","prnE":"⪵","prnsim":"⋨","prod":"∏","Product":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","Proportional":"∝","Proportion":"∷","propto":"∝","prsim":"≾","prurel":"⊰","Pscr":"𝒫","pscr":"𝓅","Psi":"Ψ","psi":"ψ","puncsp":" ","Qfr":"𝔔","qfr":"𝔮","qint":"⨌","qopf":"𝕢","Qopf":"ℚ","qprime":"⁗","Qscr":"𝒬","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quot":"\\"","QUOT":"\\"","rAarr":"⇛","race":"∽̱","Racute":"Ŕ","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","Rang":"⟫","rangd":"⦒","range":"⦥","rangle":"⟩","raquo":"»","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarr":"→","Rarr":"↠","rArr":"⇒","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","Rarrtl":"⤖","rarrtl":"↣","rarrw":"↝","ratail":"⤚","rAtail":"⤜","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rBarr":"⤏","RBarr":"⤐","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","Rcaron":"Ř","rcaron":"ř","Rcedil":"Ŗ","rcedil":"ŗ","rceil":"⌉","rcub":"}","Rcy":"Р","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","Re":"ℜ","rect":"▭","reg":"®","REG":"®","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","Rfr":"ℜ","rHar":"⥤","rhard":"⇁","rharu":"⇀","rharul":"⥬","Rho":"Ρ","rho":"ρ","rhov":"ϱ","RightAngleBracket":"⟩","RightArrowBar":"⇥","rightarrow":"→","RightArrow":"→","Rightarrow":"⇒","RightArrowLeftArrow":"⇄","rightarrowtail":"↣","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVectorBar":"⥕","RightDownVector":"⇂","RightFloor":"⌋","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","RightTeeArrow":"↦","RightTee":"⊢","RightTeeVector":"⥛","rightthreetimes":"⋌","RightTriangleBar":"⧐","RightTriangle":"⊳","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVectorBar":"⥔","RightUpVector":"↾","RightVectorBar":"⥓","RightVector":"⇀","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoustache":"⎱","rmoust":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","Ropf":"ℝ","roplus":"⨮","rotimes":"⨵","RoundImplies":"⥰","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","Rrightarrow":"⇛","rsaquo":"›","rscr":"𝓇","Rscr":"ℛ","rsh":"↱","Rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","RuleDelayed":"⧴","ruluhar":"⥨","rx":"℞","Sacute":"Ś","sacute":"ś","sbquo":"‚","scap":"⪸","Scaron":"Š","scaron":"š","Sc":"⪼","sc":"≻","sccue":"≽","sce":"⪰","scE":"⪴","Scedil":"Ş","scedil":"ş","Scirc":"Ŝ","scirc":"ŝ","scnap":"⪺","scnE":"⪶","scnsim":"⋩","scpolint":"⨓","scsim":"≿","Scy":"С","scy":"с","sdotb":"⊡","sdot":"⋅","sdote":"⩦","searhk":"⤥","searr":"↘","seArr":"⇘","searrow":"↘","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","Sfr":"𝔖","sfr":"𝔰","sfrown":"⌢","sharp":"♯","SHCHcy":"Щ","shchcy":"щ","SHcy":"Ш","shcy":"ш","ShortDownArrow":"↓","ShortLeftArrow":"←","shortmid":"∣","shortparallel":"∥","ShortRightArrow":"→","ShortUpArrow":"↑","shy":"­","Sigma":"Σ","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","SmallCircle":"∘","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","SOFTcy":"Ь","softcy":"ь","solbar":"⌿","solb":"⧄","sol":"/","Sopf":"𝕊","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","Sqrt":"√","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","square":"□","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","squarf":"▪","squ":"□","squf":"▪","srarr":"→","Sscr":"𝒮","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","Star":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","Sub":"⋐","subdot":"⪽","subE":"⫅","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","Subset":"⋐","subseteq":"⊆","subseteqq":"⫅","SubsetEqual":"⊆","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succapprox":"⪸","succ":"≻","succcurlyeq":"≽","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","SuchThat":"∋","sum":"∑","Sum":"∑","sung":"♪","sup1":"¹","sup2":"²","sup3":"³","sup":"⊃","Sup":"⋑","supdot":"⪾","supdsub":"⫘","supE":"⫆","supe":"⊇","supedot":"⫄","Superset":"⊃","SupersetEqual":"⊇","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","Supset":"⋑","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swarhk":"⤦","swarr":"↙","swArr":"⇙","swarrow":"↙","swnwar":"⤪","szlig":"ß","Tab":"\\t","target":"⌖","Tau":"Τ","tau":"τ","tbrk":"⎴","Tcaron":"Ť","tcaron":"ť","Tcedil":"Ţ","tcedil":"ţ","Tcy":"Т","tcy":"т","tdot":"⃛","telrec":"⌕","Tfr":"𝔗","tfr":"𝔱","there4":"∴","therefore":"∴","Therefore":"∴","Theta":"Θ","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","ThickSpace":"  ","ThinSpace":" ","thinsp":" ","thkap":"≈","thksim":"∼","THORN":"Þ","thorn":"þ","tilde":"˜","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","timesbar":"⨱","timesb":"⊠","times":"×","timesd":"⨰","tint":"∭","toea":"⤨","topbot":"⌶","topcir":"⫱","top":"⊤","Topf":"𝕋","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","TRADE":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","TripleDot":"⃛","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","Tscr":"𝒯","tscr":"𝓉","TScy":"Ц","tscy":"ц","TSHcy":"Ћ","tshcy":"ћ","Tstrok":"Ŧ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","Uacute":"Ú","uacute":"ú","uarr":"↑","Uarr":"↟","uArr":"⇑","Uarrocir":"⥉","Ubrcy":"Ў","ubrcy":"ў","Ubreve":"Ŭ","ubreve":"ŭ","Ucirc":"Û","ucirc":"û","Ucy":"У","ucy":"у","udarr":"⇅","Udblac":"Ű","udblac":"ű","udhar":"⥮","ufisht":"⥾","Ufr":"𝔘","ufr":"𝔲","Ugrave":"Ù","ugrave":"ù","uHar":"⥣","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","Umacr":"Ū","umacr":"ū","uml":"¨","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","uogon":"ų","Uopf":"𝕌","uopf":"𝕦","UpArrowBar":"⤒","uparrow":"↑","UpArrow":"↑","Uparrow":"⇑","UpArrowDownArrow":"⇅","updownarrow":"↕","UpDownArrow":"↕","Updownarrow":"⇕","UpEquilibrium":"⥮","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","UpperLeftArrow":"↖","UpperRightArrow":"↗","upsi":"υ","Upsi":"ϒ","upsih":"ϒ","Upsilon":"Υ","upsilon":"υ","UpTeeArrow":"↥","UpTee":"⊥","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","Uring":"Ů","uring":"ů","urtri":"◹","Uscr":"𝒰","uscr":"𝓊","utdot":"⋰","Utilde":"Ũ","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","Uuml":"Ü","uuml":"ü","uwangle":"⦧","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","vArr":"⇕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vBar":"⫨","Vbar":"⫫","vBarv":"⫩","Vcy":"В","vcy":"в","vdash":"⊢","vDash":"⊨","Vdash":"⊩","VDash":"⊫","Vdashl":"⫦","veebar":"⊻","vee":"∨","Vee":"⋁","veeeq":"≚","vellip":"⋮","verbar":"|","Verbar":"‖","vert":"|","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","Vopf":"𝕍","vopf":"𝕧","vprop":"∝","vrtri":"⊳","Vscr":"𝒱","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","Vvdash":"⊪","vzigzag":"⦚","Wcirc":"Ŵ","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","Wedge":"⋀","wedgeq":"≙","weierp":"℘","Wfr":"𝔚","wfr":"𝔴","Wopf":"𝕎","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","Wscr":"𝒲","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","Xfr":"𝔛","xfr":"𝔵","xharr":"⟷","xhArr":"⟺","Xi":"Ξ","xi":"ξ","xlarr":"⟵","xlArr":"⟸","xmap":"⟼","xnis":"⋻","xodot":"⨀","Xopf":"𝕏","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrarr":"⟶","xrArr":"⟹","Xscr":"𝒳","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","Yacute":"Ý","yacute":"ý","YAcy":"Я","yacy":"я","Ycirc":"Ŷ","ycirc":"ŷ","Ycy":"Ы","ycy":"ы","yen":"¥","Yfr":"𝔜","yfr":"𝔶","YIcy":"Ї","yicy":"ї","Yopf":"𝕐","yopf":"𝕪","Yscr":"𝒴","yscr":"𝓎","YUcy":"Ю","yucy":"ю","yuml":"ÿ","Yuml":"Ÿ","Zacute":"Ź","zacute":"ź","Zcaron":"Ž","zcaron":"ž","Zcy":"З","zcy":"з","Zdot":"Ż","zdot":"ż","zeetrf":"ℨ","ZeroWidthSpace":"​","Zeta":"Ζ","zeta":"ζ","zfr":"𝔷","Zfr":"ℨ","ZHcy":"Ж","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","Zopf":"ℤ","Zscr":"𝒵","zscr":"𝓏","zwj":"‍","zwnj":"‌"}')},function(t){t.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')},function(t,e,n){var r=n(12),o=n(4);t.exports=function(t){return o(t)&&r(t)}},function(t,e){t.exports=require("events")},function(t,e){t.exports={invalidChildViolation({component:t}){const{componentName:e}=t;return{type:"ruleViolation",rule:"invalidChild",componentId:t.id,componentName:e,message:`component '${e}' is an invalid child component`}},prohibitedPositionViolation({component:t,message:e}){const{componentName:n}=t;return{type:"ruleViolation",rule:"invalidPosition",componentId:t.id,componentName:n,message:e||"component violates positioning rules"}},fixedPositionViolation({component:t}){const{componentName:e}=t;return{type:"ruleViolation",rule:"fixedPosition",componentId:t.id,componentName:e,message:"component is fixed and cannot be moved or removed"}}}},function(t,e,n){var r=n(290),o=n(4);t.exports=function t(e,n,i,s,a){return e===n||(null==e||null==n||!o(e)&&!o(n)?e!=e&&n!=n:r(e,n,i,s,t,a))}},function(t,e,n){var r=n(78),o=n(291),i=n(292);function s(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}s.prototype.add=s.prototype.push=o,s.prototype.has=i,t.exports=s},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(11),o=n(9),i=n(136),s=n(83);t.exports=function(t,e){if(null==t)return{};var n=r(s(t),(function(t){return[t]}));return e=o(e),i(t,n,(function(t,n){return e(t,n[0])}))}},function(t,e,n){var r=n(166),o=n(312),i=n(313),s=n(168),a=n(327),c=n(172),u=n(328),p=n(174),l=n(175),h=n(64),d=Math.max;t.exports=function(t,e,n,f,m,g,v,y){var _=2&e;if(!_&&"function"!=typeof t)throw new TypeError("Expected a function");var b=f?f.length:0;if(b||(e&=-97,f=m=void 0),v=void 0===v?v:d(h(v),0),y=void 0===y?y:h(y),b-=m?m.length:0,64&e){var x=f,C=m;f=m=void 0}var w=_?void 0:c(t),I=[t,e,n,f,m,x,C,g,v,y];if(w&&u(I,w),t=I[0],e=I[1],n=I[2],f=I[3],m=I[4],!(y=I[9]=void 0===I[9]?_?0:t.length:d(I[9]-b,0))&&24&e&&(e&=-25),e&&1!=e)E=8==e||16==e?i(t,e,y):32!=e&&33!=e||m.length?s.apply(void 0,I):a(t,e,n,f);else var E=o(t,e,n);return l((w?r:p)(E,I),t,e)}},function(t,e,n){var r=n(59),o=n(102);function i(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}i.prototype=r(o.prototype),i.prototype.constructor=i,t.exports=i},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(104);t.exports=function(t,e){return!!(null==t?0:t.length)&&r(t,e,0)>-1}},function(t,e,n){var r=n(160),o=n(324),i=n(325);t.exports=function(t,e,n){return e==e?i(t,e,n):r(t,o,n)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var s=t[n];s!==e&&"__lodash_placeholder__"!==s||(t[n]="__lodash_placeholder__",i[o++]=n)}return i}},function(t,e,n){const r=n(335).Parser,o=n(352);t.exports=function(t,e){if(!t)return[];const n=new o(e),i=new r(n,{});if(i.write(t),i.done(),n.error)throw n.error;return n.dom}},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(179)),a=n(94),c=new Set(["input","option","optgroup","select","button","datalist","textarea"]),u=new Set(["p"]),p={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:u,h1:u,h2:u,h3:u,h4:u,h5:u,h6:u,select:c,input:c,output:c,button:c,datalist:c,textarea:c,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:u,article:u,aside:u,blockquote:u,details:u,div:u,dl:u,fieldset:u,figcaption:u,figure:u,footer:u,form:u,header:u,hr:u,main:u,nav:u,ol:u,pre:u,section:u,table:u,ul:u,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},l=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),h=new Set(["math","svg"]),d=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),f=/\s|\//,m=function(t){function e(n,r){var o=t.call(this)||this;return o._tagname="",o._attribname="",o._attribvalue="",o._attribs=null,o._stack=[],o._foreignContext=[],o.startIndex=0,o.endIndex=null,o.parseChunk=e.prototype.write,o.done=e.prototype.end,o._options=r||{},o._cbs=n||{},o._tagname="",o._attribname="",o._attribvalue="",o._attribs=null,o._stack=[],o._foreignContext=[],o.startIndex=0,o.endIndex=null,o._lowerCaseTagNames="lowerCaseTags"in o._options?!!o._options.lowerCaseTags:!o._options.xmlMode,o._lowerCaseAttributeNames="lowerCaseAttributeNames"in o._options?!!o._options.lowerCaseAttributeNames:!o._options.xmlMode,o._tokenizer=new(o._options.Tokenizer||s.default)(o._options,o),o._cbs.onparserinit&&o._cbs.onparserinit(o),o}return o(e,t),e.prototype._updatePosition=function(t){null===this.endIndex?this._tokenizer._sectionStart<=t?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-t:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},e.prototype.ontext=function(t){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(t)},e.prototype.onopentagname=function(t){if(this._lowerCaseTagNames&&(t=t.toLowerCase()),this._tagname=t,!this._options.xmlMode&&t in p)for(var e=void 0;p[t].has(e=this._stack[this._stack.length-1]);this.onclosetag(e));!this._options.xmlMode&&l.has(t)||(this._stack.push(t),h.has(t)?this._foreignContext.push(!0):d.has(t)&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(t),this._cbs.onopentag&&(this._attribs={})},e.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&l.has(this._tagname)&&this._cbs.onclosetag(this._tagname),this._tagname=""},e.prototype.onclosetag=function(t){if(this._updatePosition(1),this._lowerCaseTagNames&&(t=t.toLowerCase()),(h.has(t)||d.has(t))&&this._foreignContext.pop(),!this._stack.length||!this._options.xmlMode&&l.has(t))this._options.xmlMode||"br"!==t&&"p"!==t||(this.onopentagname(t),this._closeCurrentTag());else{var e=this._stack.lastIndexOf(t);if(-1!==e)if(this._cbs.onclosetag)for(e=this._stack.length-e;e--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=e;else"p"!==t||this._options.xmlMode||(this.onopentagname(t),this._closeCurrentTag())}},e.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},e.prototype._closeCurrentTag=function(){var t=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===t&&(this._cbs.onclosetag&&this._cbs.onclosetag(t),this._stack.pop())},e.prototype.onattribname=function(t){this._lowerCaseAttributeNames&&(t=t.toLowerCase()),this._attribname=t},e.prototype.onattribdata=function(t){this._attribvalue+=t},e.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},e.prototype._getInstructionName=function(t){var e=t.search(f),n=e<0?t:t.substr(0,e);return this._lowerCaseTagNames&&(n=n.toLowerCase()),n},e.prototype.ondeclaration=function(t){if(this._cbs.onprocessinginstruction){var e=this._getInstructionName(t);this._cbs.onprocessinginstruction("!"+e,"!"+t)}},e.prototype.onprocessinginstruction=function(t){if(this._cbs.onprocessinginstruction){var e=this._getInstructionName(t);this._cbs.onprocessinginstruction("?"+e,"?"+t)}},e.prototype.oncomment=function(t){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(t),this._cbs.oncommentend&&this._cbs.oncommentend()},e.prototype.oncdata=function(t){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(t),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+t+"]]")},e.prototype.onerror=function(t){this._cbs.onerror&&this._cbs.onerror(t)},e.prototype.onend=function(){if(this._cbs.onclosetag)for(var t=this._stack.length;t>0;this._cbs.onclosetag(this._stack[--t]));this._cbs.onend&&this._cbs.onend()},e.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},e.prototype.parseComplete=function(t){this.reset(),this.end(t)},e.prototype.write=function(t){this._tokenizer.write(t)},e.prototype.end=function(t){this._tokenizer.end(t)},e.prototype.pause=function(){this._tokenizer.pause()},e.prototype.resume=function(){this._tokenizer.resume()},e}(a.EventEmitter);e.Parser=m},function(t,e,n){const r=n(13),o=n(24),i=n(40),s=n(42);t.exports=class extends s{getContent(){return this.content}isEmpty(){if(this.content)for(const t of Object.values(this.content))if(t)return!1;return!0}hasDifferentContent(t){return!r(this.content,t)}hasDifferentProperty(t,e){return!r(this.content[t],e)}serialize(){return this.content}deserialize(t={}){this.content=o(t)}correctValueType(t){return null==t||i(t)}}},function(t,e){t.exports=function(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}},function(t,e){t.exports={directives:{container:{attr:"doc-container",overwritesContent:!0},editable:{attr:"doc-editable",overwritesContent:!0},html:{attr:"doc-html",overwritesContent:!0},include:{attr:"doc-include",overwritesContent:!0},link:{attr:"doc-link"},image:{attr:"doc-image"},optional:{attr:"doc-optional",modifier:!0},toggle:{attr:"doc-toggle"},style:{attr:"doc-style"}},exists(t){return!!this.directives[t]},doesOverwriteContent(t){return!!(this.directives[t]?this.directives[t].overwritesContent:void 0)}}},function(t,e){var n,r;n=Object.prototype.toString,t.exports=r={isObject:function(t){return"object"===typeof t&&!!t&&!this.isArray(t)},isBoolean:function(t){return!0===t||!1===t||"[object Boolean]"===n.call(t)}},["Function","String","Number","Date","RegExp","Array"].forEach((function(t){return r["is"+t]=function(e){return n.call(e)==="[object "+t+"]"}})),Array.isArray&&(r.isArray=Array.isArray)},function(t,e,n){const r=n(29),o=n(18),i=n(5),s=n(28),a=/(\d+)\s?[/:x]\s?(\d+)/;class c{constructor({name:t,label:e,ratio:n}){this.name=t||n,this.label=e||s.humanize(this.name),this.ratio=this.parseRatio(n)}parseRatio(t){const e=t;if(o(t)){const e=a.exec(t);t=!!e&&Number(e[1])/Number(e[2])}return i(r(t),`Could not parse image ratio '${e}'`),function(t){return parseFloat(t.toPrecision(6))}(t)}}c.prototype.ratioString=a,t.exports=c},function(t,e,n){const r=n(431),o=n(432),i=n(63),{log:s,assert:a}=n(1),c=n(28),u=n(188),p=n(191),l=n(434),{createSkinForComponent:h}=n(43),d={editable:"defaultParagraph",paragraph:"defaultParagraph",image:"defaultImage",html:"defaultHtml"};t.exports=class t{constructor({name:e,version:n,label:o,author:i,description:s}){this.name=e,this.author=i,this.description=s,this.version=r.valid(n),a(this.name,"Design: param 'name' is required"),a(this.version,`Design: missing or invalid param 'version' ${n}`),this.label=o||c.humanize(this.name),this.identifier=t.getIdentifier(this.name,this.version),this.imageRatios={},this.dependencies=new p,this.components=new u,this.defaultParagraph={name:void 0,directiveName:void 0},this.defaultImage={name:void 0,directiveName:void 0},this.defaultHtml={name:void 0,directiveName:void 0},this.transforms=new l(this),this.groups=[]}get isLiDesign(){return!0}equals(t){return t.name===this.name&&t.version===this.version}isInRange(t){return r.satisfies(this.version,t)}isNewerThan(t){return!t||this.name===t.name&&r.gt(this.version,t.version)}hasComponent(t){return this.components.has(t)}getComponentNames(){return this.components.keys()}getMissingComponents(...t){const e=[];for(const n of t)n&&!this.components.has(n)&&e.push(n);return!!e.length&&e}getComponent(t){return this.components.get(t)}getComponentStructure(t){const e=this.components.get(t);if(e)return e.structure}getComponentSkin(t){const e=this.components.get(t);if(e)return e.skin}updateComponentSkin(t,e){const n=this.components.get(t),{structure:r}=n,{skin:o,skinDirectives:i,violations:s}=h({structure:r,html:e});if(s)return{ok:!1,violations:s};n.skin=o;for(const t of i)if(t.placeholder){r.directives.get(t.name).placeholder=t.placeholder}return{ok:!0}}addComponent({structure:t,skin:e}){t.setDesign(this);const n=t.name;if(this.components.get(n)){const t=new Error("Design.addComponent(): "+`duplicate component '${n}'`);throw t.name="DuplicateComponentError",t}this.components.push(n,{structure:t,skin:e})}eachStructure(t){for(const e of this.components)t(e.structure)}getComponentNameFromIdentifier(e){return t.parseComponentIdentifier(e).name}setDefaultComponent(t,e,n){const r=n?{name:e,directiveName:n}:this.getDirectiveLocator({name:e,directiveType:t});this[d[t]]=r}setDefaultParagraph({name:t,directiveName:e}){this.setDefaultComponent("paragraph",t,e)}setDefaultImage({name:t,directiveName:e}){this.setDefaultComponent("image",t,e)}setDefaultHtml({name:t,directiveName:e}){this.setDefaultComponent("html",t,e)}getDirectiveLocator({name:t,directiveType:e}){"paragraph"===e&&(e="editable");const n=this.getComponentStructure(t);if(!n)return{name:t,directiveName:void 0};const r=n.directives.firstOfType(e);return{name:t,directiveName:r?r.name:void 0}}getLayout(t=this.defaultLayout){return this.layouts?t||this.defaultLayout?i(this.layouts,{name:t}):o(this.layouts):{wrapper:this.wrapper}}static getIdentifier(t,e){return`${t}@${e}`}static parseIdentifier(t){if(!t)return;const e=t.split("@");return 2===e.length?{name:e[0],version:e[1]}:a(!1,`could not parse design identifier: ${t}`)}static parseComponentIdentifier(t){if(!t)return;const e=t.split(".");return 1===e.length?{designName:void 0,name:e[0]}:2===e.length?{designName:e[0],name:e[1]}:s.error(`could not parse component template identifier: ${t}`)}}},function(t,e){t.exports=function(t){return/[()]/.test(t)?`'${t}'`:t}},function(t,e,n){const r=n(2),o=n(8);t.exports={for:function(t){const e=r(o,t);if(!e)throw new Error(`Default configuration for '${t}' not set`);return{config:e,getWidths:function(t){return i(this.config,"srcSet","widths",t)},getSizes:function(t){return i(this.config,"srcSet","sizes",t)},getDefaultWidth:function(t){return i(this.config,"srcSet","defaultWidth",t)},getBgImageMaxWidth:function(t){return i(this.config,"backgroundImage","maxWidth",t)}}}};const i=function(t,e,n,r){if(r.hasOwnProperty(e)){if(r[e].hasOwnProperty(n))return r[e][n]}let o;try{o=t[e][n]}catch(t){throw new Error(`PropertyName '${n}' for '${e}' not found`)}return o}},function(t,e,n){const r=n(45),o=n(51),i=n(24),s=n(264),a=n(265),c=n(39);function u(t,e,n){if(e)if(e.modifiesClassAttribute()){const r=e.cssClassChanges(n);r.remove&&r.remove.forEach(e=>{t.removeClass(e)}),t.addClass(r.add)}else t.css(e.cssPropertyName,n||"")}t.exports=class{static renderComponent(t,e,n,r){null==e&&(e={});const o=this.renderComponentDom(t,r);if("text/json"===e.format)return o;return c([o],{prettyHtml:e.prettyHtml,decodeHTML:e.decodeHtml,renderDirectiveInfo:e.renderDirectiveInfo})}static renderComponentDom(t,e){const n=this.getComponentDom(t,e),o={};s.eachDirective([n],(t,e)=>{r(e,(e,n)=>{o[e]=t})}),this.processComponentElem(n,t);for(const e of t.directives)this.processDirective(o,e);for(const n of t.containers){const t=this.renderContainerDom(n,e);if(t.length){const e=o[n.name];this.appendChildren(e,t)}}return n}static getComponentDom(t,e){const n=t.getSkin();return i(n.dom[0])}static renderContainerDom(t,e){const n=[];t.nestedTree&&(t=t.nestedTree);for(const r of t)n.push(this.renderComponentDom(r,e));return n}static processComponentElem(t,e){if(e.styles){const n=new a(t);for(const t in e.styles){const r=e.styles[t];u(n,e.structure.styles[t],r)}}}static processDirective(t,e){const n=t[e.name];switch(e.type){case"editable":this.processEditable(n,e);break;case"image":this.processImage(n,e);break;case"html":this.processHtml(n,e);break;case"include":this.processInclude(n,e);break;case"link":this.processLink(n,e);break;case"toggle":this.processToggle(n,e);break;case"style":this.processStyle(n,e)}}static processEditable(t,e){if(e.optional&&e.isEmpty())return void(t.doNotRender=!0);const n=e.getContent();t.children=[{type:"text",data:n}]}static processImage(t,e){if(e.isInlineImage()&&!e.getUrl()&&!e.isTemporaryImage())return void(t.doNotRender=!0);const n=e.getImageService(),r=new a(t);n.set(r,e)}static processHtml(t,e){const n=e.getContent();this.appendHtml(t,n)}static processInclude(t,e){e.isResolved()?this.appendHtml(t,e.resolvedValue):this.renderIncludePlaceholder(t,e)}static appendHtml(t,e){t.children=[{type:"text",data:e}]}static renderIncludePlaceholder(t,e){const n=e.getService(),r=e.getParams(),i=s.createElem("ld-include",{"data-include-service":n}),c=new a(i);if(!o(r)){const t=s.escapeAttributeData(r);c.attr("data-include-params",t)}t.children=[i]}static processLink(t,e){const n=e.getContent(),r=new a(t);n?r.attr("href",n):r.removeAttr("href")}static processToggle(t,e){!1===e.getContent()&&(t.doNotRender=!0)}static processStyle(t,e){const n=e.getContent(),r=new a(t);for(const t in n){const o=n[t];u(r,e.getStyleConfig(t),o)}}static appendChildren(t,e){t.children=e}}},function(t,e,n){var r=n(211)();t.exports=r},function(t,e,n){var r=n(212),o=n(34),i=n(0),s=n(35),a=n(21),c=n(47),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),p=!n&&o(t),l=!n&&!p&&s(t),h=!n&&!p&&!l&&c(t),d=n||p||l||h,f=d?r(t.length,String):[],m=f.length;for(var g in t)!e&&!u.call(t,g)||d&&("length"==g||l&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,m))||f.push(g);return f}},function(t,e){var n="object"==typeof global&&global&&global.Object===Object&&global;t.exports=n},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var r=n(16)(n(6),"WeakMap");t.exports=r},function(t,e,n){var r=n(16),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,e,n){var r=n(25),o=n(14);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e,n){(function(t){var r=n(6),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=i&&i.exports===o?r.Buffer:void 0,a=s?s.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=a?a(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(74)(t))},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var s=t[n];e(s,n,t)&&(i[o++]=s)}return i}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(81),o=n(82),i=n(80),s=n(127),a=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,i(t)),t=o(t);return e}:s;t.exports=a},function(t,e,n){var r=n(130),o=n(80),i=n(14);t.exports=function(t){return r(t,i,o)}},function(t,e,n){var r=n(81),o=n(0);t.exports=function(t,e,n){var i=e(t);return o(t)?i:r(i,n(t))}},function(t,e,n){var r=n(6).Uint8Array;t.exports=r},function(t,e,n){var r=n(84);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(59),o=n(82),i=n(49);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},function(t,e,n){var r=n(266),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,s=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,n,r,o){e.push(r?o.replace(i,"$1"):n||t)})),e}));t.exports=s},function(t,e,n){var r=n(20),o=n(11),i=n(0),s=n(27),a=r?r.prototype:void 0,c=a?a.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(s(e))return c?c.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},function(t,e,n){var r=n(60),o=n(137),i=n(26);t.exports=function(t,e,n){for(var s=-1,a=e.length,c={};++s<a;){var u=e[s],p=r(t,u);n(p,u)&&o(c,i(u,t),p)}return c}},function(t,e,n){var r=n(79),o=n(26),i=n(21),s=n(7),a=n(17);t.exports=function(t,e,n,c){if(!s(t))return t;for(var u=-1,p=(e=o(e,t)).length,l=p-1,h=t;null!=h&&++u<p;){var d=a(e[u]),f=n;if(u!=l){var m=h[d];void 0===(f=c?c(m,d,h):void 0)&&(f=s(m)?m:i(e[u+1])?[]:{})}r(h,d,f),h=h[d]}return t}},function(t,e,n){var r=n(270),o=n(271);t.exports=function(t,e){return null!=t&&o(t,e,r)}},function(t,e,n){var r=n(89),o=Math.max;t.exports=function(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,s=-1,a=o(i.length-e,0),c=Array(a);++s<a;)c[s]=i[e+s];s=-1;for(var u=Array(e+1);++s<e;)u[s]=i[s];return u[e]=n(c),r(t,this,u)}}},function(t,e){var n=Date.now;t.exports=function(t){var e=0,r=0;return function(){var o=n(),i=16-(o-r);if(r=o,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e){t.exports=require("assert")},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(91)),i=r(n(143)),s=r(n(92)),a=r(n(144));function c(t){var e=Object.keys(t).join("|"),n=p(t),r=new RegExp("&(?:"+(e+="|#[xX][\\da-fA-F]+|#\\d+")+");","g");return function(t){return String(t).replace(r,n)}}e.decodeXML=c(s.default),e.decodeHTMLStrict=c(o.default);var u=function(t,e){return t<e?1:-1};function p(t){return function(e){return"#"===e.charAt(1)?"X"===e.charAt(2)||"x"===e.charAt(2)?a.default(parseInt(e.substr(3),16)):a.default(parseInt(e.substr(2),10)):t[e.slice(1,-1)]}}e.decodeHTML=function(){for(var t=Object.keys(i.default).sort(u),e=Object.keys(o.default).sort(u),n=0,r=0;n<e.length;n++)t[r]===e[n]?(e[n]+=";?",r++):e[n]+=";";var s=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),a=p(o.default);function c(t){return";"!==t.substr(-1)&&(t+=";"),a(t)}return function(t){return String(t).replace(s,c)}}()},function(t){t.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Acirc":"Â","acirc":"â","acute":"´","AElig":"Æ","aelig":"æ","Agrave":"À","agrave":"à","amp":"&","AMP":"&","Aring":"Å","aring":"å","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","brvbar":"¦","Ccedil":"Ç","ccedil":"ç","cedil":"¸","cent":"¢","copy":"©","COPY":"©","curren":"¤","deg":"°","divide":"÷","Eacute":"É","eacute":"é","Ecirc":"Ê","ecirc":"ê","Egrave":"È","egrave":"è","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","frac12":"½","frac14":"¼","frac34":"¾","gt":">","GT":">","Iacute":"Í","iacute":"í","Icirc":"Î","icirc":"î","iexcl":"¡","Igrave":"Ì","igrave":"ì","iquest":"¿","Iuml":"Ï","iuml":"ï","laquo":"«","lt":"<","LT":"<","macr":"¯","micro":"µ","middot":"·","nbsp":" ","not":"¬","Ntilde":"Ñ","ntilde":"ñ","Oacute":"Ó","oacute":"ó","Ocirc":"Ô","ocirc":"ô","Ograve":"Ò","ograve":"ò","ordf":"ª","ordm":"º","Oslash":"Ø","oslash":"ø","Otilde":"Õ","otilde":"õ","Ouml":"Ö","ouml":"ö","para":"¶","plusmn":"±","pound":"£","quot":"\\"","QUOT":"\\"","raquo":"»","reg":"®","REG":"®","sect":"§","shy":"­","sup1":"¹","sup2":"²","sup3":"³","szlig":"ß","THORN":"Þ","thorn":"þ","times":"×","Uacute":"Ú","uacute":"ú","Ucirc":"Û","ucirc":"û","Ugrave":"Ù","ugrave":"ù","uml":"¨","Uuml":"Ü","uuml":"ü","Yacute":"Ý","yacute":"ý","yen":"¥","yuml":"ÿ"}')},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(277));e.default=function(t){if(t>=55296&&t<=57343||t>1114111)return"�";t in o.default&&(t=o.default[t]);var e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t)}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=c(r(n(92)).default),i=u(o);e.encodeXML=f(o,i);var s=c(r(n(91)).default),a=u(s);function c(t){return Object.keys(t).sort().reduce((function(e,n){return e[t[n]]="&"+n+";",e}),{})}function u(t){var e=[],n=[];return Object.keys(t).forEach((function(t){return 1===t.length?e.push("\\"+t):n.push(t)})),n.unshift("["+e.join("")+"]"),new RegExp(n.join("|"),"g")}e.encodeHTML=f(s,a);var p=/[^\0-\x7F]/g,l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function h(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"}function d(t,e){return"&#x"+(1024*(t.charCodeAt(0)-55296)+t.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function f(t,e){return function(n){return n.replace(e,(function(e){return t[e]})).replace(l,d).replace(p,h)}}var m=u(o);e.escape=function(t){return t.replace(m,h).replace(l,d).replace(p,h)}},function(t,e,n){var r=n(37),o=n(36);t.exports=function(t,e,n){(void 0===n||o(t[e],n))&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e){t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},function(t,e,n){var r=n(36),o=n(12),i=n(21),s=n(7);t.exports=function(t,e,n){if(!s(n))return!1;var a=typeof e;return!!("number"==a?o(n)&&i(e,n.length):"string"==a&&e in n)&&r(n[e],t)}},function(t,e,n){"use strict";t.exports=function(t){var e=void 0;e="string"==typeof t?[t]:t.raw;for(var n="",r=0;r<e.length;r++)n+=e[r].replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`"),r<(arguments.length<=1?0:arguments.length-1)&&(n+=arguments.length<=r+1?void 0:arguments[r+1]);var o=n.split("\n"),i=null;return o.forEach((function(t){var e=t.match(/^(\s+)\S+/);if(e){var n=e[1].length;i=i?Math.min(i,n):n}})),null!==i&&(n=o.map((function(t){return" "===t[0]?t.slice(i):t})).join("\n")),(n=n.trim()).replace(/\\n/g,"\n")}},function(t,e){const n=function(){return console||(window?window.console:void 0)},r=function(t,e="error"){if("critical"===e||"error"===e)throw t||(t="no error message provided"),t instanceof Error?t:new Error(t);o(t)};function o(...t){const e=n();e&&(t.length&&"trace"===t[t.length-1]&&(t.pop(),e.trace&&e.trace()),e.log.apply(e,t))}o.debug=t=>{if(!o.debugDisabled)return r(t,"debug")},o.warn=t=>{if(!o.warningsDisabled)return r(t,"warning")},o.error=t=>r(t,"error"),t.exports=o},function(t,e,n){const r=n(18),o=n(51),{EventEmitter:i}=n(94),s=n(5),a=n(286),c=n(152),u=n(357),p=n(185),l=n(369),h=n(370),d=n(3);function f(t){this.root.componentTree=void 0,t(),this.root.componentTree=this,this.root.descendants(t=>this.attachComponent(t))}t.exports=class t extends i{constructor({content:t,design:e,proposals:n,handleViolation:r}={}){super(),this.design=e,s(this.design,"new ComponentTree(): param 'design' is missing"),s(this.design.isLiDesign,"new ComponentTree(): param 'design' must be a Design instance"),this.handleViolation=r,this.inProposalMode=!1,this.componentById={},this.root=new c({isRoot:!0}),this.root.componentTree=this,t&&this.initializeContent(t,"silent"),this.proposals=new h({componentTree:this}),n&&this.initializeProposals(n,"silent")}prepend(t){return(t=this.getComponent(t))&&this.root.prepend(t),this}append(t){return(t=this.getComponent(t))&&this.root.append(t),this}getComponent(t){return r(t)?this.createComponent(t):t}createComponent(t,e={}){const n=this.getStructure(t);if(n){const t=n.createModel();return t.setContent(e),t}}createComponentFromJson(t){return p.fromJson(t,this.design,this.handleViolation)}getStructure(t){const e=this.design.getComponentStructure(t);return s(e,`Design ${this.design.identifier}: Could not find component '${t}'`),e}get beforeComponentAdded(){return a("beforeComponentAdded",this)}get componentAdded(){return a("componentAdded",this)}get beforeComponentRemoved(){return a("beforeComponentRemoved",this)}get componentRemoved(){return a("componentRemoved",this)}get beforeComponentMoved(){return a("beforeComponentMoved",this)}get componentMoved(){return a("componentMoved",this)}get beforeComponentTransformed(){return a("beforeComponentTransformed",this)}get componentTransformed(){return a("componentTransformed",this)}get beforeComponentContentChanged(){return a("beforeComponentContentChanged",this)}get componentContentChanged(){return a("componentContentChanged",this)}get beforeComponentHtmlChanged(){return a("beforeComponentHtmlChanged",this)}get componentHtmlChanged(){return a("componentHtmlChanged",this)}get beforeComponentSettingsChanged(){return a("beforeComponentSettingsChanged",this)}get componentSettingsChanged(){return a("componentSettingsChanged",this)}get beforeComponentDataChanged(){return a("beforeComponentDataChanged",this)}get componentDataChanged(){return a("componentDataChanged",this)}get viewUpdateRequested(){return a("viewUpdateRequested",this)}get changed(){return a("changed",this)}get ruleViolated(){return a("ruleViolated",this)}get commandExecuted(){return a("commandExecuted",this)}getIterator(){return new l({componentTree:this})}each(t){this.root.descendants(t)}descendants(t){this.root.descendants(t)}childrenIterator(t){return this.root.childrenIterator(t)}descendantsIterator(t){return this.root.descendantsIterator(t)}eachContainer(t){this.root.eachContainer(t)}children(t){this.root.children(t)}[Symbol.iterator](){return this.root[Symbol.iterator]()}childAt(t){return this.root.childAt(t)}first(){return this.root.first}get firstComponent(){let t=this.root.first;for(;t&&"component"!==t.nodeType;)t=t.next;return t}get lastComponent(){let t=this.root.last;for(;t&&"component"!==t.nodeType;)t=t.previous;return t}getAllComponents(){return this._componentsArrayCache||(this._componentsArrayCache=[...this.descendantsIterator()]),this._componentsArrayCache}eq(t){let e=0;for(const n of this.descendantsIterator())if(t===e++)return n}indexOf(t){let e=0;for(const n of this.descendantsIterator()){if(n===t)return e;e+=1}return-1}all(t){return this.root.all(t)}find(t){if("string"==typeof t){const e=[];for(const n of this.descendantsIterator())n.componentName===t&&e.push(n);return new u(e)}return new u}findById(t){return this.componentById[t]}findAllNodeTypesById(t){return this.componentById[t]||this.proposals.getPlaceholder(t)}detach(){this.root.componentTree=void 0,this.each(t=>this.detachComponent(t));const t=this.root;return this.root=new c({isRoot:!0}),t}attachComponent(t){t.componentTree=this,this.componentById[t.id]=t}detachComponent(t){t.componentTree=void 0,this.componentById[t.id]=void 0}attachTreeNode(t){t.componentTree=this}detachTreeNode(t){t.componentTree=void 0}setMainView({renderer:t}){s(t,"componentTree.setMainView: view does not have an initialized renderer"),s(t.componentTree===this,"componentTree.setMainView: Cannot set renderer from different componentTree"),this.mainRenderer=t}getMainComponentView(t){return this.mainRenderer?this.mainRenderer.getComponentViewById(t):void 0}isDropAllowed(t,e){const{target:n,componentView:r,containerName:o,position:i}=e;if("component"===n){const e={};"before"===i&&(e.previous=r.model.previous,e.next=r.model),"after"===i&&(e.previous=r.model,e.next=r.model.next);const{ok:n,conflicts:o}=t.isValidPosition(e);if(!n)return{valid:n,info:o[0].message}}if("root"===n)return this.root.isAllowedAsChild(t);if("component"===n){return r.model.isAllowedAsSibling(t)}if("container"===n){return r.model.isAllowedAsChild(o,t)}return!1}print(){let t="ComponentTree\n-----------\n";const e=(e,n=0)=>(t+=`${Array(n+1).join(" ")}${e}\n`,t),n=(t,r=0)=>{const{structure:o}=t;e(`- ${o.label} (${o.name})`,r);for(const o of t.containers)e(`${o.name}:`,r+2),o.first&&n(o.first,r+4);t.next&&n(t.next,r)};return this.root.first&&n(this.root.first),t}attachingComponent(t,e,n){t.componentTree===this?(this.fireBeforeEvent("beforeComponentMoved",t,n),e(),delete this._componentsArrayCache,this.fireEvent("componentMoved",t)):(this.fireBeforeEvent("beforeComponentAdded",t,n),t.componentTree&&t.remove(),t.descendantsAndSelf(t=>this.attachComponent(t)),e(),delete this._componentsArrayCache,this.fireEvent("componentAdded",t))}attachingTreeNode(t,e,n){t.componentTree===this?(e(),this.emit("treeNodeMoved",t)):(t.componentTree&&t.remove(),t.descendantsAndSelf(t=>this.attachTreeNode(t)),e(),this.emit("treeNodeAdded",t),this.emit("afterTreeNodeAdded",t))}detachingComponent(t,e,n){s(t.componentTree===this,"cannot remove component from another ComponentTree"),this.fireBeforeEvent("beforeComponentRemoved",t,n),t.descendantsAndSelf(t=>this.detachComponent(t)),e(),delete this._componentsArrayCache,this.fireEvent("componentRemoved",t)}detachingTreeNode(t,e,n){s(t.componentTree===this,"cannot remove component from another ComponentTree"),this.emit("beforeTreeNodeRemoved",t,n),t.descendantsAndSelf(t=>this.detachTreeNode(t)),e(),delete this._componentsArrayCache,this.emit("treeNodeRemoved",t)}fireEvent(t,...e){this.emit(t,...e),this.emit("changed")}fireBeforeEvent(t,...e){this.emit(t,...e)}contentChanging(t,e,n){const r=t.isProposal?"proposalContentChanged":"componentContentChanged";this.emit(r,t,e,n),t.isProposal||this.emit("changed")}requestViewUpdate(t,e){this.fireEvent("viewUpdateRequested",t,e)}htmlChanging(t){this.fireEvent("componentHtmlChanged",t)}reportExecutedCommand(t){this.emit("commandExecuted",t)}dataChanging(t,e){this.fireEvent("componentDataChanged",t,e)}reportViolation(t){this.fireEvent("ruleViolated",t)}serialize({omitIds:t,omitProposals:e}={}){const n=[],r={omitId:!!t,deep:!0};for(const t of this)"component"===t.nodeType&&n.push(t.toJson(r));const o={content:n,design:{name:this.design.name,version:this.design.version}};return!e&&this.proposals.hasProposals&&(o.proposals=this.proposals.serialize()),o}initializeContent(t,e=!0){e?f.call(this,()=>this.addContent(t)):this.addContent(t)}fromJson({content:t}){this.initializeContent(t)}clone({omitProposals:e}={}){const n=this.serialize({omitProposals:e});return n.design=this.design,new t(n)}addData(t){this.addContent(t.content)}addContent(t,e=this.root){if(o(t))return;const{design:n,handleViolation:r}=this;for(const o of t){const t=p.fromJson(o,n,r);e.append(t)}}initializeProposals(t,e){d.execCommands({componentTree:this,commands:t})}applyProposal({component:t,eventSource:e}){t.applyProposal({eventSource:e})}addDataWithAnimation(t,e=200){s(this.design,"Error adding data. ComponentTree has no design");let n=Number(e);for(const r of Array.from(t.content)){const t=r;setTimeout(()=>{const e=p.fromJson(t,this.design,this.handleViolation);this.root.append(e)},n),n+=Number(e)}}toData(){return this.serialize()}toJson(...t){return this.toData.apply(this,t)}enterProposalMode({proposalStatus:t}={}){d.execTrusted("enterProposalMode",{componentTree:this,proposalStatus:t})}exitProposalMode(){d.execTrusted("exitProposalMode",{componentTree:this})}destroy(){this.removeAllListeners()}}},function(t,e,n){const r=n(149),o=n(2),i=n(5),{invalidChildViolation:s}=n(95),a=n(3);t.exports=class{constructor({parentComponent:t,name:e,isRoot:n,config:r}){this.parentComponent=t,this.name=e,this.isRoot=!!n,this.first=this.last=void 0,this.allowedChildren=void 0,this.nestedTree=void 0,this.parseConfig(r)}[Symbol.iterator](){return new c(this)}get componentId(){return this.parentComponent&&this.parentComponent.id}parseConfig(t){if(t){for(const e of t.allowedChildren||[])this.allowedChildren||(this.allowedChildren={}),this.allowedChildren[e]=!0;this.defaultContent=t.defaultContent,this.defaultComponents=t.defaultComponents}}isAllowedAsChild(t){if(!!!(this.isAcceptingComponents()&&this.canBeNested(t.id)&&this.compliesWithContentRules(t)))return!1;let e=!0;return t.descendants(t=>{e=e&&t.parentContainer.isAllowedAsChild(t)}),e}isValidOperation(t){return!(!this.isAcceptingComponents()||!this.canBeNested(t.id))}compliesWithContentRules(t){return!(!this.isChildAllowed(t.structure)||!this.isAllowedAsParent(t.structure))}isTypeAllowedAsChild(t){return!!t&&!(!this.isChildAllowed(t)||!this.isAllowedAsParent(t))}isAcceptingComponents(){return!this.nestedTree}canBeNested(t){let e=this.parentComponent;for(;e;){if(e.id===t)return!1;e=e.getParent()}return!0}isChildAllowed(t){return void 0===this.allowedChildren||this.allowedChildren[t.name]}isAllowedAsParent(t){const e=t.allowedParents;if(!e)return!0;const n=this.isRoot?"root":o(this.parentComponent,"componentName");for(const t of e)if(n===t)return!0;return!1}hasChildren(){return!!this.first}getComponentTree(){return this.componentTree||o(this.parentComponent,"componentTree")}prepend(t){return a.execTrusted("insertComponent",{component:t,position:{next:this.first,parentContainer:this}}),this}append(t,e=!1){return this.parentComponent&&i(t!==this.parentComponent,"cannot append component to itself"),a.execTrusted("insertComponent",{component:t,position:{previous:this.last,parentContainer:this},enforceRules:e}),this}appendTree(t){if(this.first)throw new Error("a componentTree can only be appended to an empty container");this.nestedTree=t}insertBefore(t,e){a.execTrusted("insertComponent",{component:e,position:{next:t,parentContainer:this}})}insertAfter(t,e){a.execTrusted("insertComponent",{component:e,position:{previous:t,parentContainer:this}})}up(t){t.previous&&this.insertBefore(t.previous,t)}down(t){t.next&&this.insertAfter(t.next,t)}remove(t){a.execTrusted("removeComponent",{component:t})}getNextContainer(){if(!this.parentComponent)return;const{containers:t}=this.parentComponent,e=t.getIndex(this.name);i(e>=0,"container not part of component");const n=e+1;return t.length>n?t[n]:void 0}each(t){this.descendants(t)}descendants(t){for(const e of this.descendantsIterator())t(e)}childrenIterator(t){return new c(this,t)}descendantsIterator(t){return new u(this,t)}children(t){for(const e of this.childrenIterator())t(e)}childAt(t){let e=0;for(const n of this.childrenIterator()){if(e===t)return n;e+=1}}getIndex(t){let e=0;for(const n of this.childrenIterator()){if(n===t)return e;e+=1}return-1}eachContainer(t){t(this);for(const e of this.descendantsIterator())for(const n of e.containers)t(n)}all(t){t(this);for(const e of this.descendantsIterator()){t(e);for(const n of e.containers)t(n)}}allNodes(t){t(this);for(const e of this.descendantsIterator({allTreeNodes:!0})){t(e);for(const n of e.containers)t(n)}}getDefaultParagraph(){const t=this.getComponentTree();if(!t||!t.design)return{};const e=t.design,n=o(this.defaultComponents,"paragraph");return n?e.getDirectiveLocator({name:n,directiveType:"editable"}):e.defaultParagraph}getDefaultImage(){const t=this.getComponentTree();if(!t||!t.design)return{};const e=t.design,n=o(this.defaultComponents,"image");return n?e.getDirectiveLocator({name:n,directiveType:"image"}):e.defaultImage}attachComponent(t,e={},n){if(i(this.isValidOperation(t),r`
      Invalid component tree operation. \
      Component '${t.componentName}' could not be inserted.`),!this.compliesWithContentRules(t)){const e=s({component:t});this.reportViolation(e)}const{ok:o,conflicts:a}=t.isValidPosition(e);o||this.reportViolation(a[0]);const c=this.getComponentTree(),u=()=>this.link(t,e);c?(this.insertDefaultContent(c,t),c.attachingComponent(t,u,n)):u()}attachTreeNode(t,e={},n){if("component"===t.type)return void this.attachComponent(t,e,n);const r=this.getComponentTree(),o=()=>this.link(t,e);r?r.attachingTreeNode(t,o,n):o()}insertDefaultContent(t,e){if(!e.insertDefaultContent)return!1;if(e.insertDefaultContent=!1,e.componentTree)return!1;for(const n of e.containers)n.defaultContent&&t.addContent(n.defaultContent,n)}_detachComponent(t,e){const n=()=>this.unlink(t),r=this.getComponentTree();r?r.detachingComponent(t,n,e):n()}_detachTreeNode(t,e){const n=()=>this.unlink(t),r=this.getComponentTree();r?r.detachingTreeNode(t,n,e):n()}link(t,e){t.parentContainer&&this.unlink(t),e.parentContainer||(e.parentContainer=this),this.setComponentPosition(t,e)}unlink(t){const e=t.parentContainer;e&&(t.previous||(e.first=t.next),t.next||(e.last=t.previous),t.next&&(t.next.previous=t.previous),t.previous&&(t.previous.next=t.next),this.setComponentPosition(t,{}))}setComponentPosition(t,{parentContainer:e,previous:n,next:r}){t.parentContainer=e,t.previous=n,t.next=r,e&&(n&&(n.next=t),r&&(r.previous=t),t.previous||(e.first=t),t.next||(e.last=t))}getContainerIdentifier(){return this.isRoot?"root":`${this.parentComponent.componentName}.containers.get('${this.name}')`}reportViolation(t){const e=this.getComponentTree();e&&e.reportViolation(t)}};class c{constructor(t,e={}){this.value=t.first,this.allTreeNodes=e.allTreeNodes}[Symbol.iterator](){return this}next(){for(;this.value;){if("component"!==this.value.nodeType){const t=this.value;if(this.value=t.next,this.allTreeNodes)return{value:t};continue}const t=this.value;return this.value=t.next,{value:t}}return{done:!0}}}class u{constructor(t,e={}){this.value=t.first,this.allTreeNodes=e.allTreeNodes,this.options=e,this.descendants=void 0}[Symbol.iterator](){return this}next(){for(;this.value;)if("component"===this.value.nodeType){if(this.descendants){const t=this.descendants.next();if(!0!==t.done)return t}else if(void 0===this.descendants)return this.value.containers.length?this.descendants=this.value.descendantsIterator(this.options):this.descendants=!1,{value:this.value};this.value=this.value.next,this.descendants=void 0}else{const t=this.value;if(this.value=t.next,this.allTreeNodes)return{value:t}}return{done:!0}}}},function(t,e){t.exports={eventSources:{local:"local",editable:"editable",remote:"remote"},insertComponent:({component:t,position:e,enforceRules:n,eventSource:r="local"})=>({type:"insertComponent",component:t,position:e,enforceRules:n,eventSource:r}),transformComponent:({component:t,replacement:e,eventSource:n="local"})=>({type:"transformComponent",component:t,replacement:e,eventSource:n}),moveComponent:({component:t,position:e,eventSource:n="local"})=>({type:"moveComponent",component:t,position:e,eventSource:n}),removeComponent:({component:t,eventSource:e="local"})=>({type:"removeComponent",component:t,eventSource:e}),updateComponentStyle:({component:t,name:e,value:n,eventSource:r="local"})=>({type:"updateComponentStyle",component:t,name:e,value:n,eventSource:r}),updateComponentData:({component:t,key:e,value:n,eventSource:r="local"})=>({type:"updateComponentData",component:t,key:e,value:n,eventSource:r}),updateEditableDirective:({component:t,directive:e,value:n,eventSource:r="local"})=>({type:"updateEditableDirective",component:t,directive:e,value:n,eventSource:r}),updateImageDirective:({component:t,directive:e,value:n,eventSource:r="local"})=>({type:"updateImageDirective",component:t,directive:e,value:n,eventSource:r}),updateTmpImageDirective:({component:t,directive:e,value:n})=>({type:"updateTmpImageDirective",component:t,directive:e,value:n}),updateLinkDirective:({component:t,directive:e,value:n,eventSource:r="local"})=>({type:"updateLinkDirective",component:t,directive:e,value:n,eventSource:r}),updateHtmlDirective:({component:t,directive:e,value:n,eventSource:r="local"})=>({type:"updateHtmlDirective",component:t,directive:e,value:n,eventSource:r}),updateToggleDirective:({component:t,directive:e,value:n,eventSource:r="local"})=>({type:"updateToggleDirective",component:t,directive:e,value:n,eventSource:r}),updateIncludeDirective:({component:t,directive:e,value:n,eventSource:r="local"})=>({type:"updateIncludeDirective",component:t,directive:e,value:n,eventSource:r}),updateStyleDirective:({component:t,directive:e,value:n,eventSource:r="local"})=>({type:"updateStyleDirective",component:t,directive:e,value:n,eventSource:r}),updateDirectiveTmpData:({component:t,directive:e,key:n,value:r})=>({type:"updateDirectiveTmpData",component:t,directive:e,key:n,value:r}),enterProposalMode:({componentTree:t,proposalStatus:e},n="local")=>({type:"enterProposalMode",componentTree:t,proposalStatus:e,eventSource:n}),exitProposalMode:({componentTree:t},e="local")=>({type:"exitProposalMode",componentTree:t,eventSource:e}),updateProposalStatus:({componentId:t,componentTree:e,proposalStatus:n},r="local")=>({type:"updateProposalStatus",componentId:t,componentTree:e,proposalStatus:n,eventSource:r}),updateProposalData:({componentId:t,componentTree:e,proposalData:n},r="local")=>({type:"updateProposalData",componentId:t,componentTree:e,proposalData:n,eventSource:r}),applyProposal:({componentId:t,componentTree:e},n="local")=>({type:"applyProposal",componentId:t,componentTree:e,eventSource:n}),rejectProposal:({componentId:t,componentTree:e},n="local")=>({type:"rejectProposal",componentId:t,componentTree:e,eventSource:n})}},function(t,e,n){const r=n(45),o=n(63),i=n(13),s=n(24),a=n(161),{diffComponent:c}=n(162),{log:u,assert:p}=n(1),l=n(178),h=n(106),d=n(39),{fixedPositionViolation:f}=n(95),{getError:m}=n(66),g=n(354),v=new l,y=Symbol("skipped"),_={handle(t,e){x[t.type](t,e)!==y&&e&&e.reportExecutedCommand(t)},handleProposal(t,e){const n=b[t.type]||t.type;x[n](t,e)!==y&&e&&e.reportExecutedCommand({...t,type:n})}},b={insertComponent:"proposeInsert",removeComponent:"proposeRemoval",updateEditableDirective:"proposeDirectiveUpdate"};t.exports=_;const x={insertComponent({component:t,position:e,enforceRules:n,eventSource:r},o){const i=new g(e);if(o&&t.componentTree!==o&&o.findById(t.id))throw new Error(`insertComponent() duplicate componentId '${t.id}'`);const{ok:s,conflicts:a}=i.insert(t,r,n);if(!s)throw new Error(m(a))},transformComponent({component:t,replacement:e,eventSource:n}){const r=t.getPosition(),{componentTree:o}=t;o.fireBeforeEvent("beforeComponentTransformed",e,t),x.removeComponent({component:t,eventSource:n}),e.id=t.id,x.insertComponent({component:e,position:r,eventSource:n}),o.fireEvent("componentTransformed",e)},moveComponent({component:t,position:e,eventSource:n}){const r=new g(e),{ok:o,conflicts:i}=r.insert(t,n,!1);if(!o)throw new Error(m(i))},removeComponent({component:t,eventSource:e},n){n&&!t.canRemove()&&n.reportViolation(f({component:t})),t.destroy(),t.parentContainer._detachComponent(t,e)},updateComponentData({component:t,key:e,value:n}){if(!e)return y;const{componentTree:r}=t;i(t.dataValues[e],n)||(r&&r.fireBeforeEvent("beforeComponentDataChanged",t,e),t.dataValues[e]=s(n),r&&r.dataChanging(t,[e]))},updateComponentStyle({component:t,name:e,value:n}){const r=t.getStyleConfig(e);if(!r)return u.warn(`'${t.componentName}' component style: `+`unknown style '${e}'`),y;if(!r.validateValue(n))return u.warn(`'${t.componentName}' component style: `+`invalid value '${n}' for style '${e}'`),y;const{componentTree:o}=t,i=t.styles[e];i!==n&&(o&&o.fireBeforeEvent("beforeComponentHtmlChanged",t,"style",{name:e,value:i}),t.styles[e]=n,o&&o.htmlChanging(t))},updateEditableDirective({component:t,directive:e,value:n,eventSource:r}){const o=""===n?void 0:n;if(o!==e.content.value){if(t.beforeDirectiveChanging(e.name,r),o){const t=h(o),n=d(t,{plainText:e.plainText||!1,editableValidator:e.editableValidator||v});e.content.value=n}else e.content.value=void 0;t.directiveChanging(e.name,r)}},updateImageDirective({component:t,directive:e,value:n,eventSource:r}){if(n!==e.content.value){const{originalUrl:o,url:i,width:s,height:a,mimeType:c,mediaId:u}=n,{imageService:p,origins:l,crop:h,suppressEvents:d}=n;d||t.beforeDirectiveChanging(e.name,r),!("url"in n)&&"crop"in n||(e.reset(),e.content.originalUrl=o,e.content.url=""===i?void 0:i,e.content.mediaId=u,e.content.width=s,e.content.height=a,e.content.mimeType=c,e.setImageService(p),e.setOrigins(l),e.processImageUrl()),null!=e.content.url&&"crop"in n&&(!function(t,e){if(t){const{x:n,y:r,width:o,height:i,name:s}=t;e.content.crop={x:n,y:r,width:o,height:i,name:s}}else e.content.crop=void 0}(h,e),e.processImageUrl()),d||t.directiveChanging(e.name,r)}},updateTmpImageDirective({component:t,directive:e,value:n}){t.beforeDirectiveChanging(e.name),e.temporaryImage=n,t.directiveChanging(e.name)},updateLinkDirective({component:t,directive:e,value:n,eventSource:r}){const o=""===n?void 0:n;o!==e.content.value&&(t.beforeDirectiveChanging(e.name,r),e.content.value=o,t.directiveChanging(e.name,r))},updateHtmlDirective({component:t,directive:e,value:n,eventSource:r}){const o=""===n?void 0:n;o!==e.content.value&&(t.beforeDirectiveChanging(e.name,r),e.content.value=o,t.directiveChanging(e.name,r))},updateToggleDirective({component:t,directive:e,value:n,eventSource:r}){const o=!a(n)||n;o!==e.content.value&&(t.beforeDirectiveChanging(e.name,r),e.content.value=o,t.directiveChanging(e.name,r))},updateIncludeDirective({component:t,directive:e,value:n={},eventSource:r}){const{service:i,params:s}=n;if(i!==e.getService()){const n=o(e.services,{service:i});p(n&&n.service,`Can not change to service ${i}, service not defined.`),t.beforeDirectiveChanging(e.name,r),e.initService(n),s&&(e.content.params=s),t.directiveChanging(e.name,r)}else e.hasDifferentProperty("params",s)&&(t.beforeDirectiveChanging(e.name,r),e.content.params=s,t.directiveChanging(e.name,r))},updateStyleDirective({component:t,directive:e,value:n,eventSource:o}){const i={};n&&r(n,(t,n)=>{const r=e.getStyleConfig(n);r?r.validateValue(t)?i[n]=t:u.warn(`Style directive: invalid value\n            '${t}' for style '${n}'`):u.warn(`Style directive: unknown style '${n}'`)}),t.beforeDirectiveChanging(e.name,o),e.content=i,t.directiveChanging(e.name,o)},updateDirectiveTmpData({directive:t,key:e,value:n}){t.tmp=t.tmp||{},t.tmp[e]=n},enterProposalMode({componentTree:t,proposalStatus:e}){if(t.inProposalMode)return y;t.inProposalMode=!0,t.proposals._setDefaultStatus(e),t.emit("proposalModeEntered")},exitProposalMode({componentTree:t}){if(!t.inProposalMode)return y;t.inProposalMode=!1,t.proposals._restoreDefaultStatus(),t.emit("proposalModeExited")},updateProposal({componentId:t,component:e,position:n,proposalStatus:r,proposalData:o,proposalType:i,eventSource:s},a){const u=a.proposals.get(t);if(!u)return y;if(e){const t=u.component;c(t,e).all.forEach(t=>{t.eventSource=s,_.handleProposal(t,a)})}if(n){const t=new g(n),e=u.component.treeNode,r=!0,{ok:o,conflicts:i}=t.insert(e,s,r);if(!o)throw new Error(m(i));a.emit("proposalMoved",{proposal:u})}r&&u.status!==r&&(u.status=r,a.emit("proposalStatusUpdated",{proposal:u})),o&&u.data!==o&&(u.data=o,a.emit("proposalDataUpdated",{proposal:u}))},updateProposalStatus({componentId:t,proposalStatus:e,eventSource:n},r){const o=r.proposals.get(t);o&&(o.status=e,r.emit("proposalStatusUpdated",{proposal:o}))},updateProposalData({componentId:t,proposalData:e,eventSource:n},r){const o=r.proposals.get(t);o&&(o.data=e,r.emit("proposalDataUpdated",{proposal:o}))},applyProposal({componentId:t,eventSource:e},n){const r=n.proposals.get(t);delete n.proposals.proposals[r.id];const o=[];if("proposeInsert"===r.type){const t=r.component,n=t.getPosition(),i=t.treeNode;i.destroy(),i.parentContainer._detachComponent(i,e),t.revertProposalData(),o.push({type:"insertComponent",component:t,position:n,enforceRules:!0,eventSource:e})}else if("proposeUpdate"===r.type){const t=r.component,e=t.treeNode,n=c(e,t).all;o.push(...n)}else if("proposeRemoval"===r.type){const r=n.findById(t);o.push({type:"removeComponent",component:r,eventSource:e})}n.emit("proposalApproved",{componentId:t,eventSource:e}),o.forEach(t=>{t.eventSource=e,_.handle(t,n)})},rejectProposal({componentId:t,eventSource:e},n){const r=n.proposals.get(t);if(delete n.proposals.proposals[r.id],"insert"===r.type){const t=r.component.treeNode;t.destroy(),t.parentContainer._detachTreeNode(t,e)}n.emit("proposalRejected",{componentId:t,eventSource:e})},proposeInsert({component:t,proposalStatus:e,proposalData:r,position:o,eventSource:i},s){const a=new g(o);if(t.componentTree&&t.componentTree===s){const e=t.treeNode,n=!0,{ok:r,conflicts:o}=a.insert(e,i,n);if(!r)throw new Error(m(o));const c=s.proposals.get(t.id);return void(c&&s.emit("proposalMoved",{proposal:c}))}const c=t.id;if(s.proposals.get(c))throw new Error(`proposeInsert(): componentId '${c}' already exists`);const u=new(n(355))({id:c});t.componentTree=s;const p=C({component:t,proposalStatus:e,proposalData:r,placeholder:u}),{ok:l,conflicts:h}=a.insert(u,i,!0);if(!l)throw new Error(m(h));s.emit("componentInsertProposed",{proposal:p})},proposeUpdate({component:t,proposalStatus:e,proposalData:n,eventSource:r},o){const i=t.id,s=o.findById(i);if(!s)throw new Error(`proposeUpdate(): Could not find componentId '${i}'`);if(s.componentName!==t.componentName)throw new Error("proposeUpdate(): component name mismatch "+`target: '${s.componentName}' proposal: '${t.componentName}'`);t.componentTree=o;const a=C({component:t,proposalStatus:e,proposalData:n,target:s});o.emit("componentUpdateProposed",{proposal:a})},proposeRemoval({componentId:t,proposalStatus:e,proposalData:n,component:r,eventSource:o},i){if(t&&!(r=i.findById(t)))throw new Error(`proposeRemoval(): Could not find componentId '${t}'`);if("component"===r.nodeType){if(r.isProposal)throw new Error("proposeRemoval(): cannot propose to remove a propsal");const t=i.proposals._removeComponent({id:r.id,proposalStatus:e,proposalData:n});i.emit("componentRemovalProposed",{proposal:t})}},proposeDirectiveUpdate(t,e){if((""===t.value?void 0:t.value)!==t.directive.content.value){const n={...t};if(t.component&&!t.component.isProposal){const r=t.component;if(r.hasContainers())return void console.warn("Cannot propose updates for a component with containers");let o=e.proposals.getProposalComponent(t.component.id);if(!o){o=r.deepClone(),o.componentTree=e;const t=C({component:o,target:r});e.emit("componentUpdateProposed",{proposal:t})}n.component=o,t.directive&&(n.directive=o.directives.get(t.directive.name))}return x[t.type](n)}}};function C({component:t,proposalStatus:e,proposalData:n,placeholder:r,target:o}){const{componentTree:i}=t;return t.propose({placeholder:r,target:o}),i.proposals._upsertComponent({component:t,proposalStatus:e,proposalData:n})}},function(t,e,n){var r=n(97),o=n(293),i=n(98);t.exports=function(t,e,n,s,a,c){var u=1&n,p=t.length,l=e.length;if(p!=l&&!(u&&l>p))return!1;var h=c.get(t);if(h&&c.get(e))return h==e;var d=-1,f=!0,m=2&n?new r:void 0;for(c.set(t,e),c.set(e,t);++d<p;){var g=t[d],v=e[d];if(s)var y=u?s(v,g,d,e,t,c):s(g,v,d,t,e,c);if(void 0!==y){if(y)continue;f=!1;break}if(m){if(!o(e,(function(t,e){if(!i(m,e)&&(g===t||a(g,t,n,s,c)))return m.push(e)}))){f=!1;break}}else if(g!==v&&!a(g,v,n,s,c)){f=!1;break}}return c.delete(t),c.delete(e),f}},function(t,e,n){var r=n(7);t.exports=function(t){return t==t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(160),o=n(9),i=n(64),s=Math.max;t.exports=function(t,e,n){var a=null==t?0:t.length;if(!a)return-1;var c=null==n?0:i(n);return c<0&&(c=s(a+c,0)),r(t,o(e,3),c)}},function(t,e){t.exports=function(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}},function(t,e,n){var r=n(10),o=n(4);t.exports=function(t){return!0===t||!1===t||o(t)&&"[object Boolean]"==r(t)}},function(t,e,n){const r=n(99),o=n(13),i=n(304),s=n(163);function a(t,e,n,r,o){const i=c(e),s=c(t);if(void 0!==i&&s!==i){const e=t.name,a=n.diff_main(i,s);n.diff_cleanupSemantic(a),r.updateEditableDirective(o,e,a,s)}}function c(t){return t&&t.content.value||""}t.exports={diffComponent(t,e,n){if(!function(t,e,n){if(t.componentName!==e.componentName)return n.transformComponent(e,t),!0}(t,e,n=n||new s))return function(t,e,n){const r=new i;let o=!1;t.directives.eachEditable((function(i){const s=e.directives.get(i.name);s?a(s,i,r,n,t):o=!0})),o&&e.directives.eachEditable((function(e){const o=t.directives.get(e.name);o||a(e,o,r,n,t)}))}(t,e,n),function(t,e,n){t.directives.each((function(i){if("image"===i.type){const r=e.directives.get(i.name);r&&(o(r.content,i.content)||n.updateImageDirective(t,i,r.content))}else if("toggle"===i.type){const r=e.directives.get(i.name);r&&(o(r.content,i.content)||n.updateToggleDirective(t,i,r.content))}else if("style"===i.type){const r=e.directives.get(i.name);r&&(o(r.content,i.content)||n.updateStyleDirective(t,i,r.content))}else if("include"===i.type){const c=e.directives.get(i.name);if(c){if(c.getService()!==i.getService()||(s=c.getParams(),a=i.getParams(),s=r(s,t=>void 0!==t),a=r(a,t=>void 0!==t),!o(s,a))){const e={service:c.getService(),params:c.getParams()};n.updateIncludeDirective(t,i,e)}}}else if("link"===i.type){const r=e.directives.get(i.name);r&&r.content.value!==i.content.value&&n.updateLinkDirective(t,i,r.content.value)}else if("html"===i.type){const r=e.directives.get(i.name);r&&r.content.value!==i.content.value&&n.updateHtmlDirective(t,i,r.content.value)}var s,a}))}(t,e,n),function(t,e,n){if(!o(t.styles,e.styles)){Object.keys({...e.styles,...t.styles}).forEach(r=>{n.updateComponentStyle(t,r,e.styles[r])})}}(t,e,n),function(t,e,n){o(t.getData(),e.getData())||Object.keys(e.getData()).forEach(r=>{n.updateComponentData(t,r,e.getData(r))})}(t,e,n),n}}},function(t,e,n){const r=n(153),o=r.eventSources.remote,{serializeCommand:i}=n(65);function s(t,e){return r[t]({...e,eventSource:o})}t.exports=class{constructor({serialize:t=!0}={}){this.commands=[],this.serialized=t&&[],this.shouldSerialize=t}get all(){return this.commands}get allSerialized(){return this.serialized}insertComponent(t,e,n){return e.containerInsertIndex=n,this.add({type:"insertComponent",component:t,position:e,eventSource:o})}moveComponent(t,e){return this.add(s("moveComponent",{component:t,position:e}))}removeComponent(t){return this.add(s("removeComponent",{component:t}))}updateComponentStyle(t,e,n){this.add(s("updateComponentStyle",{component:t,name:e,value:n}))}updateComponentData(t,e,n){this.add(s("updateComponentData",{component:t,key:e,value:n}))}transformComponent(t,e){this.add(s("transformComponent",{replacement:t,component:e}))}updateEditableDirective(t,e,n,r){(function(t){return 1!==t.length||0!==t[0][0]})(n)&&this.add({type:"updateEditableDirective",component:t,directive:t.directives.get(e),value:r,diffPatches:n,eventSource:o})}updateImageDirective(t,e,n){this.add(s("updateImageDirective",{component:t,directive:e,value:n}))}updateToggleDirective(t,e,n){this.add(s("updateToggleDirective",{component:t,directive:e,value:n}))}updateIncludeDirective(t,e,n){this.add(s("updateIncludeDirective",{component:t,directive:e,value:n}))}updateStyleDirective(t,e,n){this.add(s("updateStyleDirective",{component:t,directive:e,value:n}))}updateLinkDirective(t,e,n){this.add(s("updateLinkDirective",{component:t,directive:e,value:n}))}updateHtmlDirective(t,e,n){this.add(s("updateHtmlDirective",{component:t,directive:e,value:n}))}add(t){return this.commands.push(t),this.shouldSerialize&&this.serialized.push(i(t)),t}}},function(t,e,n){const r=n(51),o=n(24),{componentViolation:i,directiveViolation:s,directiveTypeViolation:a,containerViolation:c,dataFormatViolation:u}=n(66);function p(t={}){const e={identifier:this.structure.identifier},{omitId:n,deep:i,exclude:s}=t;n||(e.id=this.id);const a={};for(const t of this.directives)t.isEmpty()||(a[t.name]=t.serialize());r(a)||(e.content=a),r(this.styles)||(e.styles=o(this.styles)),r(this.dataValues)||(e.data=o(this.dataValues)),this.isPositionFixed&&(e.position="fixed");for(const n of this.containers)if(e.containers||(e.containers={}),e.containers[n.name]=[],i)for(const r of n){!!s&&s(r)||e.containers[n.name].push(r.toJson(t))}return e}const l=t=>{throw new Error(`${t.type}: ${t.message}`)};let h;t.exports={setComponentModelConstructor(t){h=t},componentModelExtensions:{toJson:p,deepCopy:function(e={}){const n=this.toJson({deep:!0,omitId:!0});return t.exports.fromJson(n,this.structure.design)},deepClone:function({exclude:e}={}){const n=this.toJson({deep:!0,omitId:!1,exclude:e});return t.exports.fromJson(n,this.structure.design)}},toJson(t){if("component"===t.nodeType)return p.call(t)},fromJson(e,n,r=l){let o,p=e.component;if(p||(p=n.getComponentNameFromIdentifier(e.identifier)),p&&(o=n.getComponentStructure(p)),!o)return void r(i({componentName:p,id:e.id}));const d=new h({structure:o,id:e.id,positionFlag:e.position});((t,{id:e,content:n},r)=>{const o=[];for(const i in n){const c=n[i],u=t.directives.get(i);u?u.correctValueType(c)?o.push(u.deserialize(c)):r(a({id:e,componentName:t.componentName,directiveName:i})):r(s({id:e,componentName:t.componentName,directiveName:i}))}})(d,e,r);for(const t of Object.keys(e.styles||{})){const n=e.styles[t];d.setStyle(t,n)}return e.data&&d.data(e.data),function(e,{id:n,containers:r},o,i){if(r)for(const s of Object.keys(r)){const a=r[s];if(!a)continue;if(!e.containers.has(s)){i(c({id:n,containerName:s}));continue}if(!Array.isArray(a)){i(u({id:n,containerName:s}));continue}const p=e.containers.get(s);for(const e of a){const n=t.exports.fromJson(e,o,i);n&&p.append(n,!1)}}}(d,e,n,r),d}}},function(t,e){t.exports={}},function(t,e,n){var r=n(23),o=n(167),i=o?function(t,e){return o.set(t,e),t}:r;t.exports=i},function(t,e,n){var r=n(122),o=r&&new r;t.exports=o},function(t,e,n){var r=n(169),o=n(170),i=n(314),s=n(67),a=n(171),c=n(176),u=n(326),p=n(105),l=n(6);t.exports=function t(e,n,h,d,f,m,g,v,y,_){var b=128&n,x=1&n,C=2&n,w=24&n,I=512&n,E=C?void 0:s(e);return function T(){for(var S=arguments.length,A=Array(S),D=S;D--;)A[D]=arguments[D];if(w)var P=c(T),k=i(A,P);if(d&&(A=r(A,d,f,w)),m&&(A=o(A,m,g,w)),S-=k,w&&S<_){var O=p(A,P);return a(e,n,t,T.placeholder,h,A,O,v,y,_-S)}var N=x?h:this,R=C?N[e]:e;return S=A.length,v?A=u(A,v):I&&S>1&&A.reverse(),b&&y<S&&(A.length=y),this&&this!==l&&this instanceof T&&(R=E||s(R)),R.apply(N,A)}}},function(t,e){var n=Math.max;t.exports=function(t,e,r,o){for(var i=-1,s=t.length,a=r.length,c=-1,u=e.length,p=n(s-a,0),l=Array(u+p),h=!o;++c<u;)l[c]=e[c];for(;++i<a;)(h||i<s)&&(l[r[i]]=t[i]);for(;p--;)l[c++]=t[i++];return l}},function(t,e){var n=Math.max;t.exports=function(t,e,r,o){for(var i=-1,s=t.length,a=-1,c=r.length,u=-1,p=e.length,l=n(s-c,0),h=Array(l+p),d=!o;++i<l;)h[i]=t[i];for(var f=i;++u<p;)h[f+u]=e[u];for(;++a<c;)(d||i<s)&&(h[f+r[a]]=t[i++]);return h}},function(t,e,n){var r=n(315),o=n(174),i=n(175);t.exports=function(t,e,n,s,a,c,u,p,l,h){var d=8&e;e|=d?32:64,4&(e&=~(d?64:32))||(e&=-4);var f=[t,e,a,d?c:void 0,d?u:void 0,d?void 0:c,d?void 0:u,p,l,h],m=n.apply(void 0,f);return r(t)&&o(m,f),m.placeholder=s,i(m,t,e)}},function(t,e,n){var r=n(167),o=n(316),i=r?function(t){return r.get(t)}:o;t.exports=i},function(t,e,n){var r=n(59),o=n(102);function i(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}i.prototype=r(o.prototype),i.prototype.constructor=i,t.exports=i},function(t,e,n){var r=n(166),o=n(140)(r);t.exports=o},function(t,e,n){var r=n(321),o=n(322),i=n(90),s=n(323);t.exports=function(t,e,n){var a=e+"";return i(t,o(a,s(r(a),n)))}},function(t,e){t.exports=function(t){return t.placeholder}},function(t,e,n){var r=n(52);t.exports=function(t){return r(t,4)}},function(t,e){const n=["svg","script","style","font"];t.exports=class{constructor({whitelist:t,blacklist:e}={}){Array.isArray(t)?this.validate=e=>t.includes(e):Array.isArray(e)&&(this.validate=t=>!e.includes(t))}isProhibited(t){return!!n.includes(t.name)||(!!r(t)||!!this.validate&&!this.validate(t.name))}};const r=t=>"span"===t.name&&function(t){return t.attribs.style&&1===Object.keys(t.attribs).length}(t)},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(144)),i=r(n(91)),s=r(n(143)),a=r(n(92));function c(t){return" "===t||"\n"===t||"\t"===t||"\f"===t||"\r"===t}function u(t,e,n){var r=t.toLowerCase();return t===r?function(t,o){o===r?t._state=e:(t._state=n,t._index--)}:function(o,i){i===r||i===t?o._state=e:(o._state=n,o._index--)}}function p(t,e){var n=t.toLowerCase();return function(r,o){o===n||o===t?r._state=e:(r._state=3,r._index--)}}var l=u("C",23,16),h=u("D",24,16),d=u("A",25,16),f=u("T",26,16),m=u("A",27,16),g=p("R",34),v=p("I",35),y=p("P",36),_=p("T",37),b=u("R",39,1),x=u("I",40,1),C=u("P",41,1),w=u("T",42,1),I=p("Y",44),E=p("L",45),T=p("E",46),S=u("Y",48,1),A=u("L",49,1),D=u("E",50,1),P=u("#",52,53),k=u("X",55,54),O=function(){function t(t,e){this._state=1,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=1,this._special=1,this._running=!0,this._ended=!1,this._cbs=e,this._xmlMode=!(!t||!t.xmlMode),this._decodeEntities=!(!t||!t.decodeEntities)}return t.prototype.reset=function(){this._state=1,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=1,this._special=1,this._running=!0,this._ended=!1},t.prototype._stateText=function(t){"<"===t?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=2,this._sectionStart=this._index):this._decodeEntities&&1===this._special&&"&"===t&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=1,this._state=51,this._sectionStart=this._index)},t.prototype._stateBeforeTagName=function(t){"/"===t?this._state=5:"<"===t?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===t||1!==this._special||c(t)?this._state=1:"!"===t?(this._state=15,this._sectionStart=this._index+1):"?"===t?(this._state=17,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==t&&"S"!==t?3:31,this._sectionStart=this._index)},t.prototype._stateInTagName=function(t){("/"===t||">"===t||c(t))&&(this._emitToken("onopentagname"),this._state=8,this._index--)},t.prototype._stateBeforeCloseingTagName=function(t){c(t)||(">"===t?this._state=1:1!==this._special?"s"===t||"S"===t?this._state=32:(this._state=1,this._index--):(this._state=6,this._sectionStart=this._index))},t.prototype._stateInCloseingTagName=function(t){(">"===t||c(t))&&(this._emitToken("onclosetag"),this._state=7,this._index--)},t.prototype._stateAfterCloseingTagName=function(t){">"===t&&(this._state=1,this._sectionStart=this._index+1)},t.prototype._stateBeforeAttributeName=function(t){">"===t?(this._cbs.onopentagend(),this._state=1,this._sectionStart=this._index+1):"/"===t?this._state=4:c(t)||(this._state=9,this._sectionStart=this._index)},t.prototype._stateInSelfClosingTag=function(t){">"===t?(this._cbs.onselfclosingtag(),this._state=1,this._sectionStart=this._index+1):c(t)||(this._state=8,this._index--)},t.prototype._stateInAttributeName=function(t){("="===t||"/"===t||">"===t||c(t))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=10,this._index--)},t.prototype._stateAfterAttributeName=function(t){"="===t?this._state=11:"/"===t||">"===t?(this._cbs.onattribend(),this._state=8,this._index--):c(t)||(this._cbs.onattribend(),this._state=9,this._sectionStart=this._index)},t.prototype._stateBeforeAttributeValue=function(t){'"'===t?(this._state=12,this._sectionStart=this._index+1):"'"===t?(this._state=13,this._sectionStart=this._index+1):c(t)||(this._state=14,this._sectionStart=this._index,this._index--)},t.prototype._stateInAttributeValueDoubleQuotes=function(t){'"'===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},t.prototype._stateInAttributeValueSingleQuotes=function(t){"'"===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},t.prototype._stateInAttributeValueNoQuotes=function(t){c(t)||">"===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8,this._index--):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},t.prototype._stateBeforeDeclaration=function(t){this._state="["===t?22:"-"===t?18:16},t.prototype._stateInDeclaration=function(t){">"===t&&(this._cbs.ondeclaration(this._getSection()),this._state=1,this._sectionStart=this._index+1)},t.prototype._stateInProcessingInstruction=function(t){">"===t&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=1,this._sectionStart=this._index+1)},t.prototype._stateBeforeComment=function(t){"-"===t?(this._state=19,this._sectionStart=this._index+1):this._state=16},t.prototype._stateInComment=function(t){"-"===t&&(this._state=20)},t.prototype._stateAfterComment1=function(t){this._state="-"===t?21:19},t.prototype._stateAfterComment2=function(t){">"===t?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):"-"!==t&&(this._state=19)},t.prototype._stateBeforeCdata6=function(t){"["===t?(this._state=28,this._sectionStart=this._index+1):(this._state=16,this._index--)},t.prototype._stateInCdata=function(t){"]"===t&&(this._state=29)},t.prototype._stateAfterCdata1=function(t){this._state="]"===t?30:28},t.prototype._stateAfterCdata2=function(t){">"===t?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):"]"!==t&&(this._state=28)},t.prototype._stateBeforeSpecial=function(t){"c"===t||"C"===t?this._state=33:"t"===t||"T"===t?this._state=43:(this._state=3,this._index--)},t.prototype._stateBeforeSpecialEnd=function(t){2!==this._special||"c"!==t&&"C"!==t?3!==this._special||"t"!==t&&"T"!==t?this._state=1:this._state=47:this._state=38},t.prototype._stateBeforeScript5=function(t){("/"===t||">"===t||c(t))&&(this._special=2),this._state=3,this._index--},t.prototype._stateAfterScript5=function(t){">"===t||c(t)?(this._special=1,this._state=6,this._sectionStart=this._index-6,this._index--):this._state=1},t.prototype._stateBeforeStyle4=function(t){("/"===t||">"===t||c(t))&&(this._special=3),this._state=3,this._index--},t.prototype._stateAfterStyle4=function(t){">"===t||c(t)?(this._special=1,this._state=6,this._sectionStart=this._index-5,this._index--):this._state=1},t.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var t=this._buffer.substring(this._sectionStart+1,this._index),e=this._xmlMode?a.default:i.default;Object.prototype.hasOwnProperty.call(e,t)&&(this._emitPartial(e[t]),this._sectionStart=this._index+1)}},t.prototype._parseLegacyEntity=function(){var t=this._sectionStart+1,e=this._index-t;for(e>6&&(e=6);e>=2;){var n=this._buffer.substr(t,e);if(Object.prototype.hasOwnProperty.call(s.default,n))return this._emitPartial(s.default[n]),void(this._sectionStart+=e+1);e--}},t.prototype._stateInNamedEntity=function(t){";"===t?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(t<"a"||t>"z")&&(t<"A"||t>"Z")&&(t<"0"||t>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(1!==this._baseState?"="!==t&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},t.prototype._decodeNumericEntity=function(t,e){var n=this._sectionStart+t;if(n!==this._index){var r=this._buffer.substring(n,this._index),i=parseInt(r,e);this._emitPartial(o.default(i)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},t.prototype._stateInNumericEntity=function(t){";"===t?(this._decodeNumericEntity(2,10),this._sectionStart++):(t<"0"||t>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},t.prototype._stateInHexEntity=function(t){";"===t?(this._decodeNumericEntity(3,16),this._sectionStart++):(t<"a"||t>"f")&&(t<"A"||t>"F")&&(t<"0"||t>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},t.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(1===this._state?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},t.prototype.write=function(t){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=t,this._parse()},t.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var t=this._buffer.charAt(this._index);1===this._state?this._stateText(t):12===this._state?this._stateInAttributeValueDoubleQuotes(t):9===this._state?this._stateInAttributeName(t):19===this._state?this._stateInComment(t):8===this._state?this._stateBeforeAttributeName(t):3===this._state?this._stateInTagName(t):6===this._state?this._stateInCloseingTagName(t):2===this._state?this._stateBeforeTagName(t):10===this._state?this._stateAfterAttributeName(t):13===this._state?this._stateInAttributeValueSingleQuotes(t):11===this._state?this._stateBeforeAttributeValue(t):5===this._state?this._stateBeforeCloseingTagName(t):7===this._state?this._stateAfterCloseingTagName(t):31===this._state?this._stateBeforeSpecial(t):20===this._state?this._stateAfterComment1(t):14===this._state?this._stateInAttributeValueNoQuotes(t):4===this._state?this._stateInSelfClosingTag(t):16===this._state?this._stateInDeclaration(t):15===this._state?this._stateBeforeDeclaration(t):21===this._state?this._stateAfterComment2(t):18===this._state?this._stateBeforeComment(t):32===this._state?this._stateBeforeSpecialEnd(t):38===this._state?b(this,t):39===this._state?x(this,t):40===this._state?C(this,t):33===this._state?g(this,t):34===this._state?v(this,t):35===this._state?y(this,t):36===this._state?_(this,t):37===this._state?this._stateBeforeScript5(t):41===this._state?w(this,t):42===this._state?this._stateAfterScript5(t):43===this._state?I(this,t):28===this._state?this._stateInCdata(t):44===this._state?E(this,t):45===this._state?T(this,t):46===this._state?this._stateBeforeStyle4(t):47===this._state?S(this,t):48===this._state?A(this,t):49===this._state?D(this,t):50===this._state?this._stateAfterStyle4(t):17===this._state?this._stateInProcessingInstruction(t):53===this._state?this._stateInNamedEntity(t):22===this._state?l(this,t):51===this._state?P(this,t):23===this._state?h(this,t):24===this._state?d(this,t):29===this._state?this._stateAfterCdata1(t):30===this._state?this._stateAfterCdata2(t):25===this._state?f(this,t):26===this._state?m(this,t):27===this._state?this._stateBeforeCdata6(t):55===this._state?this._stateInHexEntity(t):54===this._state?this._stateInNumericEntity(t):52===this._state?k(this,t):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},t.prototype.pause=function(){this._running=!1},t.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},t.prototype.end=function(t){this._ended&&this._cbs.onerror(Error(".end() after done!")),t&&this.write(t),this._ended=!0,this._running&&this._finish()},t.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},t.prototype._handleTrailingData=function(){var t=this._buffer.substr(this._sectionStart);28===this._state||29===this._state||30===this._state?this._cbs.oncdata(t):19===this._state||20===this._state||21===this._state?this._cbs.oncomment(t):53!==this._state||this._xmlMode?54!==this._state||this._xmlMode?55!==this._state||this._xmlMode?3!==this._state&&8!==this._state&&11!==this._state&&10!==this._state&&9!==this._state&&13!==this._state&&12!==this._state&&14!==this._state&&6!==this._state&&this._cbs.ontext(t):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},t.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},t.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},t.prototype._emitToken=function(t){this._cbs[t](this._getSection()),this._sectionStart=-1},t.prototype._emitPartial=function(t){1!==this._baseState?this._cbs.onattribdata(t):this._cbs.ontext(t)},t}();e.default=O},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(336);e.Node=r.Node,e.Element=r.Element,e.DataNode=r.DataNode,e.NodeWithChildren=r.NodeWithChildren;var o=/\s+/g,i={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1},s=function(){function t(t,e,n){this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=null,"function"==typeof e&&(n=e,e=i),"object"==typeof t&&(e=t,t=void 0),this._callback=t||null,this._options=e||i,this._elementCB=n||null}return t.prototype.onparserinit=function(t){this._parser=t},t.prototype.onreset=function(){this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=this._parser||null},t.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this.handleCallback(null))},t.prototype.onerror=function(t){this.handleCallback(t)},t.prototype.onclosetag=function(){this._lastNode=null;var t=this._tagStack.pop();t&&this._parser&&(this._options.withEndIndices&&(t.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(t))},t.prototype.onopentag=function(t,e){var n=new r.Element(t,e);this.addNode(n),this._tagStack.push(n)},t.prototype.ontext=function(t){var e=this._options.normalizeWhitespace,n=this._lastNode;if(n&&"text"===n.type)e?n.data=(n.data+t).replace(o," "):n.data+=t;else{e&&(t=t.replace(o," "));var i=new r.DataNode("text",t);this.addNode(i),this._lastNode=i}},t.prototype.oncomment=function(t){if(this._lastNode&&"comment"===this._lastNode.type)this._lastNode.data+=t;else{var e=new r.DataNode("comment",t);this.addNode(e),this._lastNode=e}},t.prototype.oncommentend=function(){this._lastNode=null},t.prototype.oncdatastart=function(){var t=new r.DataNode("text",""),e=new r.NodeWithChildren("cdata",[t]);this.addNode(e),t.parent=e,this._lastNode=t},t.prototype.oncdataend=function(){this._lastNode=null},t.prototype.onprocessinginstruction=function(t,e){var n=new r.ProcessingInstruction(t,e);this.addNode(n)},t.prototype.handleCallback=function(t){if("function"==typeof this._callback)this._callback(t,this.dom);else if(t)throw t},t.prototype.addNode=function(t){var e=this._tagStack[this._tagStack.length-1],n=e?e.children:this.dom,r=n[n.length-1];this._parser&&(this._options.withStartIndices&&(t.startIndex=this._parser.startIndex),this._options.withEndIndices&&(t.endIndex=this._parser.endIndex)),n.push(t),r&&(t.prev=r,r.next=t),e&&(t.parent=e),this._lastNode=null},t.prototype.addDataNode=function(t){this.addNode(t),this._lastNode=t},t}();e.DomHandler=s,e.default=s},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var a=i(n(180)),c=s(n(182)),u=n(107),p=function(t){function e(e,n){return"object"==typeof e&&null!==e&&(n=e=void 0),t.call(this,e,n)||this}return o(e,t),e.prototype.onend=function(){var t={},e=h(g,this.dom);if(e)if("feed"===e.name){var n=e.children;t.type="atom",m(t,"id","id",n),m(t,"title","title",n);var r=f("href",h("link",n));r&&(t.link=r),m(t,"description","subtitle",n),(o=d("updated",n))&&(t.updated=new Date(o)),m(t,"author","email",n,!0),t.items=l("entry",n).map((function(t){var e={},n=t.children;m(e,"id","id",n),m(e,"title","title",n);var r=f("href",h("link",n));r&&(e.link=r);var o=d("summary",n)||d("content",n);o&&(e.description=o);var i=d("updated",n);return i&&(e.pubDate=new Date(i)),e}))}else{var o;n=h("channel",e.children).children;t.type=e.name.substr(0,3),t.id="",m(t,"title","title",n),m(t,"link","link",n),m(t,"description","description",n),(o=d("lastBuildDate",n))&&(t.updated=new Date(o)),m(t,"author","managingEditor",n,!0),t.items=l("item",e.children).map((function(t){var e={},n=t.children;m(e,"id","guid",n),m(e,"title","title",n),m(e,"link","link",n),m(e,"description","description",n);var r=d("pubDate",n);return r&&(e.pubDate=new Date(r)),e}))}this.feed=t,this.handleCallback(e?null:Error("couldn't find root of feed"))},e}(a.default);function l(t,e){return c.getElementsByTagName(t,e,!0)}function h(t,e){return c.getElementsByTagName(t,e,!0,1)[0]}function d(t,e,n){return void 0===n&&(n=!1),c.getText(c.getElementsByTagName(t,e,n,1)).trim()}function f(t,e){return e?e.attribs[t]:null}function m(t,e,n,r,o){void 0===o&&(o=!1);var i=d(n,r,o);i&&(t[e]=i)}function g(t){return"rss"===t||"feed"===t||"rdf:RDF"===t}e.FeedHandler=p;var v={xmlMode:!0};e.parseFeed=function(t,e){void 0===e&&(e=v);var n=new p(e);return new u.Parser(n,e).end(t),n.feed}},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(338)),r(n(343)),r(n(344)),r(n(183)),r(n(345)),r(n(346)),r(n(41))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(41);function o(t,e,n,i){for(var s=[],a=0;a<e.length;a++){var c=e[a];if(t(c)&&(s.push(c),--i<=0))break;if(n&&r.hasChildren(c)&&c.children.length>0){var u=o(t,c.children,n,i);if(s=s.concat(u),(i-=u.length)<=0)break}}return s}e.filter=function(t,e,n,r){return void 0===n&&(n=!0),void 0===r&&(r=1/0),Array.isArray(e)||(e=[e]),o(t,e,n,r)},e.find=o,e.findOneChild=function(t,e){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n];return null},e.findOne=function t(e,n,o){void 0===o&&(o=!0);for(var i=null,s=0;s<n.length&&!i;s++){var a=n[s];r.isTag(a)&&(e(a)?i=a:o&&a.children.length>0&&(i=t(e,a.children)))}return i},e.existsOne=function t(e,n){for(var o=0;o<n.length;o++){var i=n[o];if(r.isTag(i)&&(e(i)||i.children.length>0&&t(e,i.children)))return!0}return!1},e.findAll=function(t,e){for(var n=[],o=e.slice();o.length;){var i=o.shift();i&&r.isTag(i)&&(i.children&&i.children.length>0&&o.unshift.apply(o,i.children),t(i)&&n.push(i))}return n}},function(t,e,n){const r=n(68),o=n(3),i=n(356);t.exports=class{constructor({id:t,nodeType:e}){this.id=t||r.next(),this.nodeType=e,this.parentContainer=void 0,this.next=void 0,this.previous=void 0,this.componentTree=void 0}get treeNode(){return this}before(t){return t?(o.execTrusted("insertComponent",{component:t,position:{next:this.treeNode,parentContainer:this.treeNode.parentContainer}}),this):this.previous}after(t){return t?(o.execTrusted("insertComponent",{component:t,position:{previous:this.treeNode,parentContainer:this.treeNode.parentContainer}}),this):this.next}getPosition(){const{treeNode:t}=this,{previous:e,next:n,parentContainer:r}=t;return{previous:e,next:n,parentContainer:r}}replaceWith(t){const e=this.getPosition();return o.execTrusted("removeComponent",{component:this}),o.execTrusted("insertComponent",{component:t,position:e}),t}up(){const t=i.getPositionBeforeNode(this);return o.execTrusted("moveComponent",{component:this,position:t}),this}down(){const t=i.getPositionAfterNode(this);return o.execTrusted("moveComponent",{component:this,position:t}),this}get parentContainerName(){return this.parentContainer&&this.parentContainer.name}get parentId(){const t=this.parent;return t&&t.id}get parent(){return this.parentContainer&&this.parentContainer.parentComponent}getParent(){return this.parent}getParentId(){return this.parentId}parents(t){let e=this;for(;e=e.getParent();)t(e)}parentContainers(t){let e=this;for(;null!=e;)t(e.parentContainer),e=e.getParent()}descendantsAndSelf(t){t(this)}}},function(t,e,n){const{log:r,assert:o}=n(1),i=n(152),s=n(358),a=n(187),c=n(188),u=n(184),p=n(368),l=n(3),h=n(164),{toJson:d,deepCopy:f,deepClone:m}=h.componentModelExtensions;t.exports=class extends u{constructor({structure:t,id:e,insertDefaultContent:n,positionFlag:r}={}){super({id:e,nodeType:"component"}),this.positionRules=new p(this,r),this.structure=t,this.insertDefaultContent=n,o(this.structure,"cannot instantiate component without a structure"),this.directives=new a,this.containers=new c,this.initializeDirectives(),this.styles={},this.dataValues={},this.componentName=this.structure.name}[Symbol.iterator](){return new g(this)}get treeNode(){return this.placeholder||this.proposalTarget||this}get excludeFromTextCount(){return this.structure.excludeFromTextCount}remove(){this.isProposal?this.rejectProposal():l.execTrusted("removeComponent",{component:this})}initializeDirectives(){for(const t of this.structure.directives)switch(t.type){case"container":{const e=new i({name:t.name,parentComponent:this,config:t});this.containers.push(t.name,e);break}case"editable":case"image":case"html":case"link":case"include":case"toggle":case"style":this.createComponentDirective(t);break;default:r.error(`ComponentModel: unknown directive type '${t.type}'`)}}createComponentDirective(t){this.directives.add(s.create({component:this,structureDirective:t}))}getSkin(){return this.structure.getSkin()}createView(t){throw new Error("ComponentModel.createView is deprecated")}getMainView(){return this.componentTree.getMainComponentView(this.id)}isAllowedAsSibling(t){return!this.parentContainer||this.parentContainer.isAllowedAsChild(t)}isTypeAllowedAsSibling(t){return!this.parentContainer||this.parentContainer.isTypeAllowedAsChild(t)}isAllowedAsChild(t,e){return this.containers.get(t).isAllowedAsChild(e)}append(t,e){return this.containers.get(t).append(e),this}prepend(t,e){return this.containers.get(t).prepend(e),this}getTransforms(){return this.structure.design?this.structure.design.transforms:void 0}getTransformOptions({oneWay:t,directives:e}={}){const n=this.getTransforms();if(n)return n.getOptionsList({structure:this.structure,oneWay:t,directives:e,filter:t=>this.isTypeAllowedAsSibling(t)})}transform(t){const e=this.getTransforms(),{design:n}=this.structure,r=n.getComponentStructure(t),i=e.isCompatible(this,r,{oneWay:!0});o(i.isCompatible,`Component ${this.componentName} can not be transformed into ${t}.`);const s=r.createModel({id:this.id}),a=i.mapping||{};for(const[t,e]of Object.entries(a)){const n=this.directives.get(t),r=s.directives.get(e);n.copyTo(r)}return this.isPositionFixed&&s.setPosition("fixed"),l.execTrusted("transformComponent",{component:this,replacement:s}),s}children(t){for(const e of this)t(e)}childAt(t,e){return this.containers.get(t).childAt(e)}childrenAndSelf(t){t(this);for(const e of this)t(e)}descendants(t){for(const e of this.descendantsIterator())t(e)}childrenIterator(t={}){return t.children=!0,new v(this,t)}descendantsIterator(t){return new v(this,t)}descendantsAndSelf(t){t(this);for(const e of this.descendantsIterator())t(e)}descendantContainers(t){for(const e of this.containers)t(e);for(const e of this)e.descendantContainers(t)}allDescendants(t){for(const e of this.containers)t(e);for(const e of this)e.allDescendants(t)}getIndex(){return this.parentContainer.getIndex(this)}hasContainers(){return!!this.containers.length}hasChildren(){if(!this.containers)return!1;for(const t of this.containers)if(t.first)return!0;return!1}hasEditables(){return this.directives.count("editable")>0}hasHtml(){return this.directives.count("html")>0}hasImages(){return this.directives.count("image")>0}hasLinks(){return this.directives.count("link")>0}beforeDirectiveChanging(t,e){if(this.componentTree){const n=this.isProposal?"beforeProposalContentChanged":"beforeComponentContentChanged";this.componentTree.fireBeforeEvent(n,this,t,e)}}directiveChanging(t,e){this.componentTree&&this.componentTree.contentChanging(this,t,e)}requestDirectiveViewUpdate(t){this.componentTree&&this.componentTree.requestViewUpdate(this,t)}getContent(t){if(t){const e=this.directives.get(t);return o(e,`getContent() error: ${this.componentName} has no directive '${t}'`),e.getContent()}{const t={};for(const e of this.directives)t[e.name]=e.getContent();return t}}setContent(t,e){let n=t||{};2===arguments.length&&(n={},n[t]=e);for(const t of Object.keys(n)){const e=n[t],r=this.directives.get(t);o(r,`setContent() error: ${this.componentName} has no directive '${t}'`),r.setContent(e)}}isEmpty(t){const e=this.getContent(t);return void 0===e||""===e}data(t){if("object"!=typeof t)return this.getData(t);for(const e in t){const n=t[e];this.setData(e,n)}}setData(t,e){l.execTrusted("updateComponentData",{component:this,key:t,value:e})}getData(t){return t?this.dataValues[t]:this.dataValues}getPluginName(){if(this.plugin)return this.plugin.name}setPlugin(t){this.plugin=t}getPlugin(t){return this.plugin}getStyle(t){return this.styles[t]}setStyle(t,e){l.execTrusted("updateComponentStyle",{component:this,name:t,value:e})}getStyleConfig(t){return this.structure.styles[t]}resetPositionRules(){this.positionRules.resetPositionRules(),this.componentTree&&this.componentTree.fireEvent("componentSettingsChanged")}setPosition(t){this.positionRules.setPosition(t),this.componentTree&&this.componentTree.fireEvent("componentSettingsChanged")}isValidPosition(t){return this.positionRules.isValidPosition(t)}canRemove(){return this.positionRules.canRemove()}isParentOfFixedPosition(){return this.positionRules.isParentOfFixedPosition()}copyWithoutContent(){return this.structure.createModel()}destroy(){}propose({placeholder:t,target:e}){this.placeholder=t,this.proposalTarget=e,this.isProposal=!0,this.isProposedUpdate=!!e}revertProposalData(){this.componentTree=void 0,this.isProposal=void 0,this.placeholder=void 0,this.proposalTarget=void 0,this.isProposedUpdate=void 0}applyProposal(){if(!this.isProposal)throw new Error("applyProposal(): can only be called on proposals");l.execTrusted("applyProposal",{componentId:this.id,componentTree:this.componentTree})}rejectProposal(t){if(!this.isProposal)throw new Error("rejectProposal(): can only be called on proposals");l.execTrusted("rejectProposal",{componentId:this.id,componentTree:this.componentTree})}set(t,e){r.warn("componentModel.set() is deprecated. Please use componentModel.setContent()."),this.setContent(t,e)}get(t){return r.warn("componentModel.get() is deprecated. Please use componentModel.getContent()."),this.getContent(t)}style(t,e){r.warn("ComponentModel.style() is deprecated. Please use #getStyle() and #setStyle()."),1===arguments.length?this.styles[t]:this.setStyle(t,e)}},t.exports.prototype.toJson=d,t.exports.prototype.deepCopy=f,t.exports.prototype.deepClone=m;class g{constructor(t){this._containers=t.containers,this._i=0}next(){for(;this._containers[this._i];){this._descendants||(this._descendants=this._containers[this._i].childrenIterator(this.options));const t=this._descendants.next();if(!0!==t.done)return t;this._i++,this._descendants=void 0}return{done:!0}}}class v{constructor(t,e={}){this._containers=t.containers,this._i=0,this.options=e,this.iteratorName=e.children?"childrenIterator":"descendantsIterator"}[Symbol.iterator](){return this}next(){for(;this._containers[this._i];){this._descendants||(this._descendants=this._containers[this._i][this.iteratorName](this.options));const t=this._descendants.next();if(!0!==t.done)return t;this._i++,this._descendants=void 0}return{done:!0}}}t.exports.fromJson=h.fromJson,h.setComponentModelConstructor(t.exports)},function(t,e,n){const r=n(5),o={};t.exports={add:function(t,e){return r(!this.has(t),`Image service ${t} is already registered`),o[t]=e,e},has:function(t="default"){return null!==o[t]&&void 0!==o[t]},get:function(t="default"){return r(this.has(t),`Could not load image service ${t}`),o[t]},eachService:function(t){const e=[];for(const n in o){const r=o[n];e.push(t(n,r))}return e}}},function(t,e,n){const r=n(5);class o{constructor({directives:t}={}){if(this.all={},this.length=0,t&&t.length)for(const e of t)this.add(e)}add(t){return this.assertNameNotUsed(t),this[this.length]=t,t.index=this.length,this.length+=1,this.all[t.name]=t,this[t.type]||(this[t.type]=[]),this[t.type].push(t),t}next(t){let e;return null!=t.index&&(e=t),e||(e=this.all[t]),this[e.index+=1]}nextOfType(t){let e;t.index&&(e=t),e||(e=this.all[t]);const n=e.type;for(;e=this.next(e);)if(e.type===n)return e}get(t){return this.all[t]}has(t){return!!this.all[t]}count(t){return t?this[t]?this[t].length:void 0:this.length}names(t){return t?this[t]&&this[t].length?Array.from(this[t]).map(t=>t.name):[]:this.length?Array.from(this).map(t=>t.name):[]}each(t){Array.from(this).map(e=>t(e))}eachOfType(t,e){this[t]&&Array.from(this[t]).map(t=>e(t))}eachSorted(t){this.names().sort().map(e=>t(this.all[e]))}firstOfType(t){return this[t]?this[t][0]:void 0}eachEditable(t){this.eachOfType("editable",t)}eachImage(t){this.eachOfType("image",t)}eachToggle(t){this.eachOfType("toggle",t)}eachContainer(t){this.eachOfType("container",t)}eachHtml(t){this.eachOfType("html",t)}eachInclude(t){this.eachOfType("include",t)}clone(){const t=new o;return this.each(e=>t.add(e.clone())),t}assertNameNotUsed(t){r(t&&!this.all[t.name],`DirectiveCollection: '${t.name}' is already used.`)}}o.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],t.exports=o},function(t,e){const{hasOwnProperty:n}=Object.prototype;class r{constructor(){this.values={},this.indexes={},this.length=0}push(t,e){return this.values[t]=e,this.indexes[t]=this.length,this[this.length]=e,this.length+=1,this.length}get(t){return this.values[t]}has(t){return n.call(this.values,t)}getIndex(t){const e=this.indexes[t];return null!=e?e:-1}keys(){return Object.keys(this.values)}map(t){return Array.from(this).map(t)}each(t){for(const e of this)t(e)}toArray(){return Array.from(this)}}r.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],t.exports=r},function(t,e,n){var r=n(11),o=n(9),i=n(190),s=n(0);t.exports=function(t,e){return(s(t)?r:i)(t,o(e,3))}},function(t,e,n){var r=n(33),o=n(12);t.exports=function(t,e){var n=-1,i=o(t)?Array(t.length):[];return r(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}},function(t,e,n){const r=n(45),o=n(18),{log:i,assert:s}=n(1),a=n(379),c=n(380),u=n(192);t.exports=class{constructor({componentTree:t}={}){this.beforeComponentRemoved=this.beforeComponentRemoved.bind(this),this.js=[],this.css=[],this.namespaces={},this.jsWaitlist=[],this.componentTree=t,this.componentTree&&this.componentTree.on("componentRemoved",this.beforeComponentRemoved),this.dependenciesAdded=u(),this.jsDependencyLoaded=u(),this.dependencyToExecute=u(),this.codeToExecute=u(),this.dependencyRemoved=u()}parseAssetsDeclaration(t){if(!t)return;const{basePath:e}=t,n=function(t){return function(e){if(o(e))return{src:e,basePath:t};{const{src:n,name:r}=e;return{basePath:t,src:n,name:r}}}}(e),i=Array.isArray(t.js)?t.js:[{src:t.js}],s=Array.isArray(t.css)?t.css:[{src:t.css}];r(i,t=>{const e=n(t);e.src&&this.addJs(e)}),r(s,t=>{const e=n(t);e.src&&this.addCss(e)})}add(t){this.convertToAbsolutePaths(t);const e=new a(t),n=this.getExisting(e);return n?t.component?n.addComponent(t.component):void 0:this.addDependency(e)}addJs(t){t.type="js",this.add(t)}addCss(t){t.type="css",this.add(t)}executeJs(t){t.isExecuteOnly=!0,this.addJs(t)}executeCode(t){this.codeToExecute.fire(t)}convertToAbsolutePaths(t){if(!t.src)return;let{src:e}=t;this.isAbsoluteUrl(e)||(s(t.basePath,`Dependencies: relative urls are not allowed: ${e}`),e=e.replace(/^[./]*/,""),t.src=`${t.basePath.replace(/\/$/,"")}/${e}`)}isAbsoluteUrl(t){return/(^\/\/|[a-z]*:\/\/)/.test(t)||/^\//.test(t)}addDependency(t){return t.isExecuteOnly?this.dependencyToExecute.fire(t):(t.namespace&&this.addToNamespace(t),t.isJs()?(this.js.push(t),this.delayedDependency(t)):(this.css.push(t),this.dependenciesAdded.fire(void 0,[t]))),t}delayedDependency(t){this.jsWaitlist.push(t),1===this.jsWaitlist.length&&setTimeout(()=>{this.dependenciesAdded.fire(this.jsWaitlist,void 0),this.jsWaitlist=[]},0)}addToNamespace(t){if(t.namespace){this.namespaces[t.namespace]||(this.namespaces[t.namespace]=[]),this.namespaces[t.namespace].push(t)}}removeFromNamespace(t){const e=this.getNamespace(t.namespace);if(e){const n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}getNamespaces(){return Object.keys(this.namespaces)}getNamespace(t){const e=this.namespaces[t];if(e)return e.length?e:void 0}getExisting(t){const e=t.isJs()?this.js:this.css;for(const n of Array.from(e))if(n.isSameAs(t))return n}hasCss(){return this.css.length>0}hasJs(){return this.js.length>0}beforeComponentRemoved(t){const e=[];let n;this.js.forEach(r=>{n=r.removeComponent(t),n||e.push(r)}),this.css.forEach(r=>{n=r.removeComponent(t),n||e.push(r)}),e.forEach(t=>{this.removeDependency(t)})}removeDependency(t){t.namespace&&this.removeFromNamespace(t);const e=t.isJs()?this.js:this.css,n=e.indexOf(t);n>-1&&e.splice(n,1),this.dependencyRemoved.fire(t)}serialize(){const t={};return this.js&&this.js.length&&(t.js=this.js.map(t=>t.serialize())),this.css&&this.css.length&&(t.css=this.css.map(t=>t.serialize())),t}deserialize(t){if(!t)return;const e=t.js||[],n=t.css||[];e.forEach(t=>{const e={type:"js",src:t.src,code:t.code,namespace:t.namespace,name:t.name,version:t.version};this.addDeserializedObj(e,t)}),n.forEach(t=>{const e={type:"css",src:t.src,code:t.code,namespace:t.namespace,name:t.name,version:t.version};this.addDeserializedObj(e,t)})}addDeserializedObj(t,e){if(e.componentIds&&e.componentIds.length){const n=[];if(e.componentIds.forEach(t=>{const e=this.componentTree.findById(t);e&&n.push(e)}),n.length){const e=this.add(t);n.forEach(t=>e.addComponent(t))}else i.warn("Dropped dependency: could not find components that depend on it",e)}else this.add(t)}printJs(){return c.printJs(this)}printCss(){return c.printCss(this)}}},function(t,e){t.exports=function(t){t=t?flagsCache[t]||createFlags(t):{};var e,n,r,o,i,s,a=[],c=[],u=function(e){var n,r,o;for(n=0,r=e.length;n<r;n++)o=e[n],Array.isArray(o)?u(o):"function"==typeof o&&(t.unique&&l.has(o)||a.push(o))},p=function(u,p){for(p=p||[],e=!t.memory||[u,p],n=!0,r=!0,s=o||0,o=0,i=a.length;a&&s<i;s++)if(!1===a[s].apply(u,p)&&t.stopOnFalse){e=!0;break}r=!1,a&&(t.once?!0===e?l.disable():a=[]:c&&c.length&&(e=c.shift(),l.fireWith(e[0],e[1])))},l={add:function(){if(a){var t=a.length;u(arguments),r?i=a.length:e&&!0!==e&&(o=t,p(e[0],e[1]))}return this},remove:function(){if(a)for(var e=arguments,n=0,o=e.length;n<o;n++)for(var c=0;c<a.length&&(e[n]!==a[c]||(r&&c<=i&&(i--,c<=s&&s--),a.splice(c--,1),!t.unique));c++);return this},has:function(t){if(a)for(var e=0,n=a.length;e<n;e++)if(t===a[e])return!0;return!1},empty:function(){return a=[],this},disable:function(){return a=c=e=void 0,this},disabled:function(){return!a},lock:function(){return c=void 0,e&&!0!==e||l.disable(),this},locked:function(){return!c},fireWith:function(n,o){return c&&(r?t.once||c.push([n,o]):t.once&&e||p(n,o)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!n}};return l}},function(t,e){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return n.test(t)}},function(t,e){t.exports=function(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}},function(t,e){t.exports.revert=(t,e,n)=>{const r=t.componentTree.findById(n.previous),o=t.componentTree.findById(n.next),i=n.parentContainer||t.componentTree.root;r?i.insertAfter(r,e):o?i.insertBefore(o,e):i.append(e)},t.exports.getContext=function(t,e){const n={parentContainer:t.parentContainer};return t.previous&&(n.previous=t.previous.id),t.next&&(n.next=t.next.id),n.eventSource=e,n}},function(t,e,n){const r=n(68),{parseComponent:o}=n(43),i=n(428),s=n(429);t.exports={render({wrapperHtml:t,componentTree:e},n){const a=new i({settings:n});let c;if(t){const n=function(t){const{structure:e,skin:n}=o({name:r.next("anon"),html:t});return e.setSkin(n),e.createModel()}(t);n.containers[0].appendTree(e),c=[n]}else c=[...e.childrenIterator()];return s.render({req:a,components:c})}}},function(t,e,n){var r=n(37),o=n(198)((function(t,e,n){r(t,n,e)}));t.exports=o},function(t,e,n){var r=n(402),o=n(403),i=n(9),s=n(0);t.exports=function(t,e){return function(n,a){var c=s(n)?r:o,u=e?e():{};return c(n,t,i(a,2),u)}}},function(t,e,n){var r=n(26),o=n(418),i=n(419),s=n(17);t.exports=function(t,e){return e=r(e,t),null==(t=i(t,e))||delete t[s(o(e))]}},function(t,e,n){var r,o;(o=new(r=n(424))).new=function(){return new r},t.exports=o,"undefined"!=typeof window&&null!==window&&(window.jScheme=o)},function(t,e,n){const r=n(430),o=n(436);t.exports={parse:(t,e)=>2===t.v?o(t):r.parse(t,e)}},function(t,e,n){const{log:r,assert:o}=n(1),i=n(28),s=/(^[a-zA-Z]+$)|^(#(?:[0-9a-f]{2}){2,4}|#[0-9a-f]{3}|(?:rgba?|hsla?)\((?:\d+%?(?:deg|rad|grad|turn)?(?:,|\s)+){2,3}[\s/]*[\d.]+%?\))$/i;t.exports=class{constructor({name:t,label:e,type:n,value:s,options:a,cssProperty:c}){switch(this.name=t,this.type=n,this.label=e||i.humanize(this.name),this.type){case"option":o(s,"TemplateStyle error: no 'value' provided"),this.value=s;break;case"select":o(a,"TemplateStyle error: no 'options' provided"),this.options=a;break;case"style":o(c,"TemplateStyle error: no 'cssProperty' provided"),this.cssPropertyName=c;break;default:r.error(`TemplateStyle error: unknown type '${this.type}'`)}}cssClassChanges(t){if(this.validateValue(t)){if("option"===this.type)return{remove:t?[]:[this.value],add:t||[]};if("select"===this.type)return{remove:this.otherClasses(t),add:t||[]}}else{if("option"===this.type)return{remove:currentValue||[],add:[]};if("select"===this.type)return{remove:this.otherClasses(void 0),add:[]}}}modifiesClassAttribute(){return"option"===this.type||"select"===this.type}validateValue(t){return!t||("option"===this.type?t===this.value:"select"===this.type?this.containsOption(t):"style"===this.type?this.isValidCssValue(t):void r.warn(`Not implemented: CssModificatorProperty#validateValue() for type ${this.type}`))}containsOption(t){for(const e of this.options)if(t===e.value)return!0;return!1}isValidCssValue(t){switch(this.cssPropertyName){case"color":case"background-color":return s.test(t);default:return!0}}otherOptions(t){return this.options.filter(e=>e.value!==t)}otherClasses(t){return this.otherOptions(t).filter(Boolean).map(t=>t.value)}}},function(t,e,n){const r=n(440),{simplifyTextChanges:o}=n(443),i=n(446);function s({versions:t,createMarkers:e}){const n=[];for(let o=t.length-1;o>0;o--){const s=t[o].componentTree,a=t[o-1].componentTree,c=r.diff(s,a);if(e){const e=t[o-1].user,r=i(c.all,e);n.push(...r)}else n.push(...c.allSerialized)}return o(n),n}t.exports={createDiffCommands:({versions:t})=>s({versions:t}),createDiffMarkers:({versions:t})=>s({versions:t,createMarkers:!0})}},function(t,e,n){var r=n(126),o=n(444),i=n(9),s=n(0);t.exports=function(t,e){return(s(t)?r:o)(t,i(e,3))}},function(t,e,n){var r=n(9),o=n(445);t.exports=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,s=[],a=t.length;for(e=r(e,3);++i<a;){var c=t[i];e(c,i,t)&&(n.push(c),s.push(i))}return o(t,s),n}},function(t,e){t.exports=function(t,e){t.attr("src",e)}},function(t,e,n){var r=n(31),o=n(32),i=n(19).Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function c(){this.init(),this._w=a,o.call(this,64,56)}function u(t,e,n){return n^t&(e^n)}function p(t,e,n){return t&e|n&(t|e)}function l(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function h(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function d(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}r(c,o),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,o=0|this._b,i=0|this._c,a=0|this._d,c=0|this._e,f=0|this._f,m=0|this._g,g=0|this._h,v=0;v<16;++v)n[v]=t.readInt32BE(4*v);for(;v<64;++v)n[v]=0|(((e=n[v-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+n[v-7]+d(n[v-15])+n[v-16];for(var y=0;y<64;++y){var _=g+h(c)+u(c,f,m)+s[y]+n[y]|0,b=l(r)+p(r,o,i)|0;g=m,m=f,f=c,c=a+_|0,a=i,i=o,o=r,r=_+b|0}this._a=r+this._a|0,this._b=o+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0,this._f=f+this._f|0,this._g=m+this._g|0,this._h=g+this._h|0},c.prototype._hash=function(){var t=i.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=c},function(t,e,n){var r=n(31),o=n(32),i=n(19).Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function c(){this.init(),this._w=a,o.call(this,128,112)}function u(t,e,n){return n^t&(e^n)}function p(t,e,n){return t&e|n&(t|e)}function l(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function h(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function d(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function f(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function m(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function g(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function v(t,e){return t>>>0<e>>>0?1:0}r(c,o),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(t){for(var e=this._w,n=0|this._ah,r=0|this._bh,o=0|this._ch,i=0|this._dh,a=0|this._eh,c=0|this._fh,y=0|this._gh,_=0|this._hh,b=0|this._al,x=0|this._bl,C=0|this._cl,w=0|this._dl,I=0|this._el,E=0|this._fl,T=0|this._gl,S=0|this._hl,A=0;A<32;A+=2)e[A]=t.readInt32BE(4*A),e[A+1]=t.readInt32BE(4*A+4);for(;A<160;A+=2){var D=e[A-30],P=e[A-30+1],k=d(D,P),O=f(P,D),N=m(D=e[A-4],P=e[A-4+1]),R=g(P,D),j=e[A-14],M=e[A-14+1],L=e[A-32],q=e[A-32+1],B=O+M|0,U=k+j+v(B,O)|0;U=(U=U+N+v(B=B+R|0,R)|0)+L+v(B=B+q|0,q)|0,e[A]=U,e[A+1]=B}for(var $=0;$<160;$+=2){U=e[$],B=e[$+1];var V=p(n,r,o),F=p(b,x,C),z=l(n,b),W=l(b,n),H=h(a,I),G=h(I,a),X=s[$],J=s[$+1],Y=u(a,c,y),Z=u(I,E,T),K=S+G|0,Q=_+H+v(K,S)|0;Q=(Q=(Q=Q+Y+v(K=K+Z|0,Z)|0)+X+v(K=K+J|0,J)|0)+U+v(K=K+B|0,B)|0;var tt=W+F|0,et=z+V+v(tt,W)|0;_=y,S=T,y=c,T=E,c=a,E=I,a=i+Q+v(I=w+K|0,w)|0,i=o,w=C,o=r,C=x,r=n,x=b,n=Q+et+v(b=K+tt|0,K)|0}this._al=this._al+b|0,this._bl=this._bl+x|0,this._cl=this._cl+C|0,this._dl=this._dl+w|0,this._el=this._el+I|0,this._fl=this._fl+E|0,this._gl=this._gl+T|0,this._hl=this._hl+S|0,this._ah=this._ah+n+v(this._al,b)|0,this._bh=this._bh+r+v(this._bl,x)|0,this._ch=this._ch+o+v(this._cl,C)|0,this._dh=this._dh+i+v(this._dl,w)|0,this._eh=this._eh+a+v(this._el,I)|0,this._fh=this._fh+c+v(this._fl,E)|0,this._gh=this._gh+y+v(this._gl,T)|0,this._hh=this._hh+_+v(this._hl,S)|0},c.prototype._hash=function(){var t=i.allocUnsafe(64);function e(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=c},function(t,e,n){const r=n(116),o=n(278);o.ComponentRenderer=r,t.exports=o},function(t,e,n){var r=n(117),o=n(14);t.exports=function(t,e){return t&&r(t,e,o)}},function(t,e){t.exports=function(t){return function(e,n,r){for(var o=-1,i=Object(e),s=r(e),a=s.length;a--;){var c=s[t?a:++o];if(!1===n(i[c],c,i))break}return e}}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(10),o=n(4);t.exports=function(t){return o(t)&&"[object Arguments]"==r(t)}},function(t,e,n){var r=n(20),o=Object.prototype,i=o.hasOwnProperty,s=o.toString,a=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,a),n=t[a];try{t[a]=void 0;var r=!0}catch(t){}var o=s.call(t);return r&&(e?t[a]=n:delete t[a]),o}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(10),o=n(75),i=n(4),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!s[r(t)]}},function(t,e,n){var r=n(120)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(12);t.exports=function(t,e){return function(n,o){if(null==n)return n;if(!r(n))return t(n,o);for(var i=n.length,s=e?i:-1,a=Object(n);(e?s--:++s<i)&&!1!==o(a[s],s,a););return n}}},function(t,e,n){var r=n(23);t.exports=function(t){return"function"==typeof t?t:r}},function(t,e,n){var r=n(16)(n(6),"DataView");t.exports=r},function(t,e,n){var r=n(50),o=n(223),i=n(7),s=n(121),a=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,p=c.toString,l=u.hasOwnProperty,h=RegExp("^"+p.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?h:a).test(s(t))}},function(t,e,n){var r,o=n(224),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!i&&i in t}},function(t,e,n){var r=n(6)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(16)(n(6),"Promise");t.exports=r},function(t,e,n){var r=n(16)(n(6),"Set");t.exports=r},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(55),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():o.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(55);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(55);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(55);t.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},function(t,e,n){var r=n(54);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(54),o=n(77),i=n(78);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!o||s.length<199)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(s)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(239),o=n(54),i=n(77);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(t,e,n){var r=n(240),o=n(241),i=n(242),s=n(243),a=n(244);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=s,c.prototype.set=a,t.exports=c},function(t,e,n){var r=n(56);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(56),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(56),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},function(t,e,n){var r=n(56);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var r=n(57);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(57);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(57);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(57);t.exports=function(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},function(t,e,n){var r=n(25),o=n(58);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e,n){var r=n(7),o=n(49),i=n(252),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=o(t),n=[];for(var a in t)("constructor"!=a||!e&&s.call(t,a))&&n.push(a);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var r=n(25),o=n(80);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e,n){var r=n(25),o=n(128);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(84),o=n(257),i=n(258),s=n(259),a=n(132);t.exports=function(t,e,n){var c=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new c(+t);case"[object DataView]":return o(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(t,n);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(t);case"[object RegExp]":return i(t);case"[object Set]":return new c;case"[object Symbol]":return s(t)}}},function(t,e,n){var r=n(84);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(20),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},function(t,e,n){var r=n(261),o=n(22),i=n(76),s=i&&i.isMap,a=s?o(s):r;t.exports=a},function(t,e,n){var r=n(15),o=n(4);t.exports=function(t){return o(t)&&"[object Map]"==r(t)}},function(t,e,n){var r=n(263),o=n(22),i=n(76),s=i&&i.isSet,a=s?o(s):r;t.exports=a},function(t,e,n){var r=n(15),o=n(4);t.exports=function(t){return o(t)&&"[object Set]"==r(t)}},function(t,e){t.exports={eachNode(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++){const r=t[n];e(r),this.eachNode(r.children,e)}},eachElement(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++){const r=t[n];"tag"===r.type&&(e(r),this.eachElement(r.children,e))}},eachDirective(t,e){if(t)for(let n=0;n<t.length;n++){const r=t[n];"tag"===r.type&&(r.directives&&e(r,r.directives),this.eachDirective(r.children,e))}},createElem(t,e,...n){const r={type:"tag",name:t};if(e&&(r.attribs=e),!n.length)return r;r.children=[];for(let t=0;t<n.length;t++){const e=n[t];r.children[t]="string"==typeof e?{type:"text",data:e}:e}return r},escapeAttributeData(t){const e=JSON.stringify(t);return this.escapeHtml(e)},escapeHtml:t=>t?`${t}`.replace(/['"<>&]/g,t=>{switch(t){case"'":return"&#039;";case'"':return"&quot;";case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;"}}):""}},function(t,e,n){const r=n(2),o=n(18),i=n(268),s=n(141),{toString:a}=Object.prototype,c=/\s+/;t.exports=class{constructor(t){this.elem=t}attr(t,e){if(1===arguments.length)return this.getAttr(t);this.setAttr(t,e)}getAttr(t){return r(this,["elem","attribs",t],void 0)}setAttr(t,e){null==e?this.removeAttr(t):(this.elem.attribs||(this.elem.attribs={}),this.elem.attribs[t]=`${e}`)}removeAttr(t){((t,e)=>!!t.attribs&&t.attribs.hasOwnProperty(e))(this.elem,t)&&delete this.elem.attribs[t]}addClass(t){if(!t||"string"!=typeof t)return;const e=t.split(c),n=this.getAttr("class");if(n){let t=` ${n} `;e.forEach(e=>{e+=" ",-1===t.indexOf(` ${e}`)&&(t+=e)}),this.setAttr("class",t.trim())}else this.setAttr("class",e.join(" ").trim())}removeClass(t){if(!t||"string"!=typeof t)return;s(-1===t.trim().indexOf(" ")&&arguments.length<2,"DomElement#removeClass can only remove one class at a time");let e=this.getAttr("class");if(e){e=` ${e} `;const n=e.replace(` ${t} `," ");this.setAttr("class",n.trim())}}css(t,e){return 2===arguments.length?this.setCss(t,e):"[object Object]"===a.call(t)?this.setCss(t):this.getCss(t)}setCss(t,e){if(2===arguments.length){const n=this.getCss();""===e?delete n[t]:null!=e&&(n[t]=e),this.setAttr("style",function(t={}){return Object.keys(t).reduce((e,n)=>`${e}${e?" ":""}${n}: ${t[n]};`,"")}(n)||void 0)}else for(const e of Object.keys(t)){const n=t[e];this.setCss(e,n)}}getCss(t){if(!this.elem.attribs)return{};const e=function(t){return(t=(t||"").trim())?t.split(";").reduce((t,e)=>{const n=e.indexOf(":");return n<1||n===e.length-1||(t[e.slice(0,n).trim()]=e.slice(n+1).trim()),t},{}):{}}(this.elem.attribs.style);return o(t)?e[t]:Array.isArray(t)?i(e,t):e}}},function(t,e,n){var r=n(267);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},function(t,e,n){var r=n(78);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=t.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},function(t,e,n){var r=n(269),o=n(87)((function(t,e){return null==t?{}:r(t,e)}));t.exports=o},function(t,e,n){var r=n(136),o=n(138);t.exports=function(t,e){return r(t,e,(function(e,n){return o(t,n)}))}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(26),o=n(34),i=n(0),s=n(21),a=n(75),c=n(17);t.exports=function(t,e,n){for(var u=-1,p=(e=r(e,t)).length,l=!1;++u<p;){var h=c(e[u]);if(!(l=null!=t&&n(t,h)))break;t=t[h]}return l||++u!=p?l:!!(p=null==t?0:t.length)&&a(p)&&s(h,p)&&(i(t)||o(t))}},function(t,e,n){var r=n(88);t.exports=function(t){return(null==t?0:t.length)?r(t,1):[]}},function(t,e,n){var r=n(20),o=n(34),i=n(0),s=r?r.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(s&&t&&t[s])}},function(t,e,n){var r=n(275),o=n(123),i=n(23),s=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=s},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){t.exports={booleanAttributes:{__proto__:null,allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,hidden:!0,ismap:!0,loop:!0,multiple:!0,muted:!0,open:!0,readonly:!0,required:!0,reversed:!0,scoped:!0,seamless:!0,selected:!0,typemustmatch:!0},unencodedElements:{__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0},singleTags:{__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},blockElements:{h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,div:!0,p:!0,a:!0,ul:!0,ol:!0,li:!0,figure:!0,figcaption:!0,blockquote:!0,article:!0,section:!0,aside:!0,footer:!0}}},function(t){t.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},function(t,e,n){const r=n(279),o=n(284),i=n(8),s=n(285),a=n(151),c=n(201),u=n(437),p=n(186),l=n(438),h=n(196),{createDiffMarkers:d}=n(203),{getMergeCommands:f,getProposalMergeCommands:m}=n(447),{parseComponent:g}=n(43),v=n(3),y=n(30),_=n(452),b=n(457),x=n(468),C=n(470),w=n(472),I={validateDesign:t=>{try{return c.parse(t,{strict:!0}),{valid:!0}}catch(t){return{valid:!1,error:t}}},design:new u,parseComponent:g,createLivingdoc({content:t,design:e,proposals:n,layoutName:r,componentTree:o,config:i,handleViolation:a}){return this.config(i),s.create({content:t,design:e,proposals:n,layoutName:r,componentTree:o,handleViolation:a})},create(){return this.createLivingdoc.apply(this,arguments)},config(t){if(t&&(r(i,t),t.imageServices))for(const e of Object.keys(t.imageServices))o(i,`imageServices.${e}`,t.imageServices[e])},createDiffMarkers:t=>d({versions:t}),getMergeCommands:({baseComponentTree:t,remoteComponentTree:e,localComponentTree:n})=>f({baseTree:t,remoteTree:e,localTree:n}),getProposalMergeCommands:m,runCommandsOnComponentTree({componentTree:t,commands:e}){const{conflicts:n}=v.execCommands({componentTree:t,commands:e});return n||[]},rendering:h,imageServices:p,getImageService:t=>p.get(t),plugins:l,Livingdoc:s,ComponentTree:a,DesignCache:u};s.setLivingdocsApi(I),I.imageServices.add("default",y),I.imageServices.add("resrc.it",_),I.imageServices.add("sz",b),I.imageServices.add("imgix",x),I.imageServices.add("image.resizer",w),I.imageServices.add("liImageProxy",C),t.exports=I},function(t,e,n){var r=n(280),o=n(283)((function(t,e,n){r(t,e,n)}));t.exports=o},function(t,e,n){var r=n(53),o=n(146),i=n(117),s=n(281),a=n(7),c=n(58),u=n(147);t.exports=function t(e,n,p,l,h){e!==n&&i(n,(function(i,c){if(h||(h=new r),a(i))s(e,n,c,p,t,l,h);else{var d=l?l(u(e,c),i,c+"",e,n,h):void 0;void 0===d&&(d=i),o(e,c,d)}}),c)}},function(t,e,n){var r=n(146),o=n(125),i=n(132),s=n(38),a=n(133),c=n(34),u=n(0),p=n(93),l=n(35),h=n(50),d=n(7),f=n(40),m=n(47),g=n(147),v=n(282);t.exports=function(t,e,n,y,_,b,x){var C=g(t,n),w=g(e,n),I=x.get(w);if(I)r(t,n,I);else{var E=b?b(C,w,n+"",t,e,x):void 0,T=void 0===E;if(T){var S=u(w),A=!S&&l(w),D=!S&&!A&&m(w);E=w,S||A||D?u(C)?E=C:p(C)?E=s(C):A?(T=!1,E=o(w,!0)):D?(T=!1,E=i(w,!0)):E=[]:f(w)||c(w)?(E=C,c(C)?E=v(C):d(C)&&!h(C)||(E=a(w))):T=!1}T&&(x.set(w,E),_(E,w,y,b,x),x.delete(w)),r(t,n,E)}}},function(t,e,n){var r=n(25),o=n(58);t.exports=function(t){return r(t,o(t))}},function(t,e,n){var r=n(62),o=n(148);t.exports=function(t){return r((function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(s=t.length>3&&"function"==typeof s?(i--,s):void 0,a&&o(n[0],n[1],a)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var c=n[r];c&&t(e,c,r,s)}return e}))}},function(t,e,n){var r=n(137);t.exports=function(t,e,n){return null==t?t:r(t,e,n)}},function(t,e,n){const{EventEmitter:r}=n(94),{assert:o}=n(1),i=n(8),s=n(151),a=n(191),c=n(382),u=n(392),p=n(393),l=n(196);class h extends r{static create({content:t,design:e,proposals:n,layoutName:r,componentTree:i,handleViolation:a}){if(t)o(e,"Livingdoc.create(): missing param 'design'"),e=h.loadDesignIfNeeded(e),i=new s({content:t,design:e,proposals:n,handleViolation:a});else if(e)e=h.loadDesignIfNeeded(e),i=new s({design:e,proposals:n,handleViolation:a});else{if(i)return new h({componentTree:i,layoutName:r});o(!1,"Livingdoc.create(): Insufficient params;\n        pass either 'content' and 'design' or 'componentTree'")}return new h({componentTree:i,layoutName:r})}static setLivingdocsApi(t){h.api=t}static loadDesignIfNeeded(t){if(!t.isLiDesign){const{name:e,version:n}=t;t=h.api.design.get(e,n)}return t}constructor({componentTree:t,layoutName:e}){super(),this.componentTree=t,this.layoutName=e,this.interactiveView=void 0,this.readOnlyViews=[],this.design=this.componentTree.design,this.dependencies=new a({componentTree:this.componentTree}),this.fieldMapping=new u(this.design.metadata),this.metadataConfig=this.fieldMapping,this.fieldExtractor=new c(this.componentTree,this.fieldMapping),this.history=new p(this,i.history),this.forwardComponentTreeEvents()}forwardComponentTreeEvents(){this.componentTree.on("changed",()=>{this.emit("change",arguments)})}createComponent(){return this.componentTree.createComponent.apply(this.componentTree,arguments)}addJsDependency(t){this.dependencies.addJs(t)}addCssDependency(t){this.dependencies.addCss(t)}hasDependencies(){return this.dependencies&&(this.dependencies.hasJs()||this.dependencies.hasCss())}toHtml(){return this.render()}render({settings:t}={}){return l.render({componentTree:this.componentTree},t)}serialize(t){const e=this.componentTree.serialize(t);return e.layout=this.layoutName,e}toJson(t){const e=this.serialize();if(t){const t=null,n=2;return JSON.stringify(e,t,n)}return JSON.stringify(e)}printModel(){this.componentTree.print()}}t.exports=h},function(t,e){t.exports=function(t,e){return{add(n){e.on(t,n)},remove(n){e.removeListener(t,n)},fire(...n){e.emit(t,...n)}}}},function(t,e,n){var r=n(9),o=n(12),i=n(14);t.exports=function(t){return function(e,n,s){var a=Object(e);if(!o(e)){var c=r(n,3);e=i(e),n=function(t){return c(a[t],t,a)}}var u=t(e,n,s);return u>-1?a[c?e[u]:u]:void 0}}},function(t,e,n){var r=n(289),o=n(298),i=n(157);t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(53),o=n(96);t.exports=function(t,e,n,i){var s=n.length,a=s,c=!i;if(null==t)return!a;for(t=Object(t);s--;){var u=n[s];if(c&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++s<a;){var p=(u=n[s])[0],l=t[p],h=u[1];if(c&&u[2]){if(void 0===l&&!(p in t))return!1}else{var d=new r;if(i)var f=i(l,h,p,t,e,d);if(!(void 0===f?o(h,l,3,i,d):f))return!1}}return!0}},function(t,e,n){var r=n(53),o=n(155),i=n(294),s=n(297),a=n(15),c=n(0),u=n(35),p=n(47),l="[object Object]",h=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,d,f,m){var g=c(t),v=c(e),y=g?"[object Array]":a(t),_=v?"[object Array]":a(e),b=(y="[object Arguments]"==y?l:y)==l,x=(_="[object Arguments]"==_?l:_)==l,C=y==_;if(C&&u(t)){if(!u(e))return!1;g=!0,b=!1}if(C&&!b)return m||(m=new r),g||p(t)?o(t,e,n,d,f,m):i(t,e,y,n,d,f,m);if(!(1&n)){var w=b&&h.call(t,"__wrapped__"),I=x&&h.call(e,"__wrapped__");if(w||I){var E=w?t.value():t,T=I?e.value():e;return m||(m=new r),f(E,T,n,d,m)}}return!!C&&(m||(m=new r),s(t,e,n,d,f,m))}},function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e,n){var r=n(20),o=n(131),i=n(36),s=n(155),a=n(295),c=n(296),u=r?r.prototype:void 0,p=u?u.valueOf:void 0;t.exports=function(t,e,n,r,u,l,h){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!l(new o(t),new o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var d=a;case"[object Set]":var f=1&r;if(d||(d=c),t.size!=e.size&&!f)return!1;var m=h.get(t);if(m)return m==e;r|=2,h.set(t,e);var g=s(d(t),d(e),r,u,l,h);return h.delete(t),g;case"[object Symbol]":if(p)return p.call(t)==p.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},function(t,e,n){var r=n(129),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,i,s,a){var c=1&n,u=r(t),p=u.length;if(p!=r(e).length&&!c)return!1;for(var l=p;l--;){var h=u[l];if(!(c?h in e:o.call(e,h)))return!1}var d=a.get(t);if(d&&a.get(e))return d==e;var f=!0;a.set(t,e),a.set(e,t);for(var m=c;++l<p;){var g=t[h=u[l]],v=e[h];if(i)var y=c?i(v,g,h,e,t,a):i(g,v,h,t,e,a);if(!(void 0===y?g===v||s(g,v,n,i,a):y)){f=!1;break}m||(m="constructor"==h)}if(f&&!m){var _=t.constructor,b=e.constructor;_!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b)&&(f=!1)}return a.delete(t),a.delete(e),f}},function(t,e,n){var r=n(156),o=n(14);t.exports=function(t){for(var e=o(t),n=e.length;n--;){var i=e[n],s=t[i];e[n]=[i,s,r(s)]}return e}},function(t,e,n){var r=n(96),o=n(2),i=n(138),s=n(85),a=n(156),c=n(157),u=n(17);t.exports=function(t,e){return s(t)&&a(e)?c(u(t),e):function(n){var s=o(n,t);return void 0===s&&s===e?i(n,t):r(e,s,3)}}},function(t,e,n){var r=n(158),o=n(301),i=n(85),s=n(17);t.exports=function(t){return i(t)?r(s(t)):o(t)}},function(t,e,n){var r=n(60);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e,n){var r=n(303);t.exports=function(t){return t?(t=r(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},function(t,e,n){var r=n(7),o=n(27),i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var n=a.test(t);return n||c.test(t)?u(t.slice(2),n?2:8):s.test(t)?NaN:+t}},function(t,e){function n(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}n.Diff,n.prototype.diff_main=function(t,e,n,r){void 0===r&&(r=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var o=r;if(null==t||null==e)throw new Error("Null input. (diff_main)");if(t==e)return t?[[0,t]]:[];void 0===n&&(n=!0);var i=n,s=this.diff_commonPrefix(t,e),a=t.substring(0,s);t=t.substring(s),e=e.substring(s),s=this.diff_commonSuffix(t,e);var c=t.substring(t.length-s);t=t.substring(0,t.length-s),e=e.substring(0,e.length-s);var u=this.diff_compute_(t,e,i,o);return a&&u.unshift([0,a]),c&&u.push([0,c]),this.diff_cleanupMerge(u),u},n.prototype.diff_compute_=function(t,e,n,r){var o;if(!t)return[[1,e]];if(!e)return[[-1,t]];var i=t.length>e.length?t:e,s=t.length>e.length?e:t,a=i.indexOf(s);if(-1!=a)return o=[[1,i.substring(0,a)],[0,s],[1,i.substring(a+s.length)]],t.length>e.length&&(o[0][0]=o[2][0]=-1),o;if(1==s.length)return[[-1,t],[1,e]];var c=this.diff_halfMatch_(t,e);if(c){var u=c[0],p=c[1],l=c[2],h=c[3],d=c[4],f=this.diff_main(u,l,n,r),m=this.diff_main(p,h,n,r);return f.concat([[0,d]],m)}return n&&t.length>100&&e.length>100?this.diff_lineMode_(t,e,r):this.diff_bisect_(t,e,r)},n.prototype.diff_lineMode_=function(t,e,n){t=(p=this.diff_linesToChars_(t,e)).chars1,e=p.chars2;var r=p.lineArray,o=this.diff_main(t,e,!1,n);this.diff_charsToLines_(o,r),this.diff_cleanupSemantic(o),o.push([0,""]);for(var i=0,s=0,a=0,c="",u="";i<o.length;){switch(o[i][0]){case 1:a++,u+=o[i][1];break;case-1:s++,c+=o[i][1];break;case 0:if(s>=1&&a>=1){o.splice(i-s-a,s+a),i=i-s-a;for(var p,l=(p=this.diff_main(c,u,!1,n)).length-1;l>=0;l--)o.splice(i,0,p[l]);i+=p.length}a=0,s=0,c="",u=""}i++}return o.pop(),o},n.prototype.diff_bisect_=function(t,e,n){for(var r=t.length,o=e.length,i=Math.ceil((r+o)/2),s=i,a=2*i,c=new Array(a),u=new Array(a),p=0;p<a;p++)c[p]=-1,u[p]=-1;c[s+1]=0,u[s+1]=0;for(var l=r-o,h=l%2!=0,d=0,f=0,m=0,g=0,v=0;v<i&&!((new Date).getTime()>n);v++){for(var y=-v+d;y<=v-f;y+=2){for(var _=s+y,b=(E=y==-v||y!=v&&c[_-1]<c[_+1]?c[_+1]:c[_-1]+1)-y;E<r&&b<o&&t.charAt(E)==e.charAt(b);)E++,b++;if(c[_]=E,E>r)f+=2;else if(b>o)d+=2;else if(h){if((w=s+l-y)>=0&&w<a&&-1!=u[w])if(E>=(C=r-u[w]))return this.diff_bisectSplit_(t,e,E,b,n)}}for(var x=-v+m;x<=v-g;x+=2){for(var C,w=s+x,I=(C=x==-v||x!=v&&u[w-1]<u[w+1]?u[w+1]:u[w-1]+1)-x;C<r&&I<o&&t.charAt(r-C-1)==e.charAt(o-I-1);)C++,I++;if(u[w]=C,C>r)g+=2;else if(I>o)m+=2;else if(!h){if((_=s+l-x)>=0&&_<a&&-1!=c[_]){var E;b=s+(E=c[_])-_;if(E>=(C=r-C))return this.diff_bisectSplit_(t,e,E,b,n)}}}}return[[-1,t],[1,e]]},n.prototype.diff_bisectSplit_=function(t,e,n,r,o){var i=t.substring(0,n),s=e.substring(0,r),a=t.substring(n),c=e.substring(r),u=this.diff_main(i,s,!1,o),p=this.diff_main(a,c,!1,o);return u.concat(p)},n.prototype.diff_linesToChars_=function(t,e){var n=[],r={};function o(t){for(var e="",o=0,i=-1,s=n.length;i<t.length-1;){-1==(i=t.indexOf("\n",o))&&(i=t.length-1);var a=t.substring(o,i+1);o=i+1,(r.hasOwnProperty?r.hasOwnProperty(a):void 0!==r[a])?e+=String.fromCharCode(r[a]):(e+=String.fromCharCode(s),r[a]=s,n[s++]=a)}return e}return n[0]="",{chars1:o(t),chars2:o(e),lineArray:n}},n.prototype.diff_charsToLines_=function(t,e){for(var n=0;n<t.length;n++){for(var r=t[n][1],o=[],i=0;i<r.length;i++)o[i]=e[r.charCodeAt(i)];t[n][1]=o.join("")}},n.prototype.diff_commonPrefix=function(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),o=r,i=0;n<o;)t.substring(i,o)==e.substring(i,o)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return o},n.prototype.diff_commonSuffix=function(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,r=Math.min(t.length,e.length),o=r,i=0;n<o;)t.substring(t.length-o,t.length-i)==e.substring(e.length-o,e.length-i)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return o},n.prototype.diff_commonOverlap_=function(t,e){var n=t.length,r=e.length;if(0==n||0==r)return 0;n>r?t=t.substring(n-r):n<r&&(e=e.substring(0,n));var o=Math.min(n,r);if(t==e)return o;for(var i=0,s=1;;){var a=t.substring(o-s),c=e.indexOf(a);if(-1==c)return i;s+=c,0!=c&&t.substring(o-s)!=e.substring(0,s)||(i=s,s++)}},n.prototype.diff_halfMatch_=function(t,e){if(this.Diff_Timeout<=0)return null;var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||2*r.length<n.length)return null;var o=this;function i(t,e,n){for(var r,i,s,a,c=t.substring(n,n+Math.floor(t.length/4)),u=-1,p="";-1!=(u=e.indexOf(c,u+1));){var l=o.diff_commonPrefix(t.substring(n),e.substring(u)),h=o.diff_commonSuffix(t.substring(0,n),e.substring(0,u));p.length<h+l&&(p=e.substring(u-h,u)+e.substring(u,u+l),r=t.substring(0,n-h),i=t.substring(n+l),s=e.substring(0,u-h),a=e.substring(u+l))}return 2*p.length>=t.length?[r,i,s,a,p]:null}var s,a,c,u,p,l=i(n,r,Math.ceil(n.length/4)),h=i(n,r,Math.ceil(n.length/2));return l||h?(s=h?l&&l[4].length>h[4].length?l:h:l,t.length>e.length?(a=s[0],c=s[1],u=s[2],p=s[3]):(u=s[0],p=s[1],a=s[2],c=s[3]),[a,c,u,p,s[4]]):null},n.prototype.diff_cleanupSemantic=function(t){for(var e=!1,n=[],r=0,o=null,i=0,s=0,a=0,c=0,u=0;i<t.length;)0==t[i][0]?(n[r++]=i,s=c,a=u,c=0,u=0,o=t[i][1]):(1==t[i][0]?c+=t[i][1].length:u+=t[i][1].length,o&&o.length<=Math.max(s,a)&&o.length<=Math.max(c,u)&&(t.splice(n[r-1],0,[-1,o]),t[n[r-1]+1][0]=1,r--,i=--r>0?n[r-1]:-1,s=0,a=0,c=0,u=0,o=null,e=!0)),i++;for(e&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),i=1;i<t.length;){if(-1==t[i-1][0]&&1==t[i][0]){var p=t[i-1][1],l=t[i][1],h=this.diff_commonOverlap_(p,l),d=this.diff_commonOverlap_(l,p);h>=d?(h>=p.length/2||h>=l.length/2)&&(t.splice(i,0,[0,l.substring(0,h)]),t[i-1][1]=p.substring(0,p.length-h),t[i+1][1]=l.substring(h),i++):(d>=p.length/2||d>=l.length/2)&&(t.splice(i,0,[0,p.substring(0,d)]),t[i-1][0]=1,t[i-1][1]=l.substring(0,l.length-d),t[i+1][0]=-1,t[i+1][1]=p.substring(d),i++),i++}i++}},n.prototype.diff_cleanupSemanticLossless=function(t){function e(t,e){if(!t||!e)return 6;var r=t.charAt(t.length-1),o=e.charAt(0),i=r.match(n.nonAlphaNumericRegex_),s=o.match(n.nonAlphaNumericRegex_),a=i&&r.match(n.whitespaceRegex_),c=s&&o.match(n.whitespaceRegex_),u=a&&r.match(n.linebreakRegex_),p=c&&o.match(n.linebreakRegex_),l=u&&t.match(n.blanklineEndRegex_),h=p&&e.match(n.blanklineStartRegex_);return l||h?5:u||p?4:i&&!a&&c?3:a||c?2:i||s?1:0}for(var r=1;r<t.length-1;){if(0==t[r-1][0]&&0==t[r+1][0]){var o=t[r-1][1],i=t[r][1],s=t[r+1][1],a=this.diff_commonSuffix(o,i);if(a){var c=i.substring(i.length-a);o=o.substring(0,o.length-a),i=c+i.substring(0,i.length-a),s=c+s}for(var u=o,p=i,l=s,h=e(o,i)+e(i,s);i.charAt(0)===s.charAt(0);){o+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);var d=e(o,i)+e(i,s);d>=h&&(h=d,u=o,p=i,l=s)}t[r-1][1]!=u&&(u?t[r-1][1]=u:(t.splice(r-1,1),r--),t[r][1]=p,l?t[r+1][1]=l:(t.splice(r+1,1),r--))}r++}},n.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,n.whitespaceRegex_=/\s/,n.linebreakRegex_=/[\r\n]/,n.blanklineEndRegex_=/\n\r?\n$/,n.blanklineStartRegex_=/^\r?\n\r?\n/,n.prototype.diff_cleanupEfficiency=function(t){for(var e=!1,n=[],r=0,o=null,i=0,s=!1,a=!1,c=!1,u=!1;i<t.length;)0==t[i][0]?(t[i][1].length<this.Diff_EditCost&&(c||u)?(n[r++]=i,s=c,a=u,o=t[i][1]):(r=0,o=null),c=u=!1):(-1==t[i][0]?u=!0:c=!0,o&&(s&&a&&c&&u||o.length<this.Diff_EditCost/2&&s+a+c+u==3)&&(t.splice(n[r-1],0,[-1,o]),t[n[r-1]+1][0]=1,r--,o=null,s&&a?(c=u=!0,r=0):(i=--r>0?n[r-1]:-1,c=u=!1),e=!0)),i++;e&&this.diff_cleanupMerge(t)},n.prototype.diff_cleanupMerge=function(t){t.push([0,""]);for(var e,n=0,r=0,o=0,i="",s="";n<t.length;)switch(t[n][0]){case 1:o++,s+=t[n][1],n++;break;case-1:r++,i+=t[n][1],n++;break;case 0:r+o>1?(0!==r&&0!==o&&(0!==(e=this.diff_commonPrefix(s,i))&&(n-r-o>0&&0==t[n-r-o-1][0]?t[n-r-o-1][1]+=s.substring(0,e):(t.splice(0,0,[0,s.substring(0,e)]),n++),s=s.substring(e),i=i.substring(e)),0!==(e=this.diff_commonSuffix(s,i))&&(t[n][1]=s.substring(s.length-e)+t[n][1],s=s.substring(0,s.length-e),i=i.substring(0,i.length-e))),0===r?t.splice(n-o,r+o,[1,s]):0===o?t.splice(n-r,r+o,[-1,i]):t.splice(n-r-o,r+o,[-1,i],[1,s]),n=n-r-o+(r?1:0)+(o?1:0)+1):0!==n&&0==t[n-1][0]?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,o=0,r=0,i="",s=""}""===t[t.length-1][1]&&t.pop();var a=!1;for(n=1;n<t.length-1;)0==t[n-1][0]&&0==t[n+1][0]&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)==t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),a=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),a=!0)),n++;a&&this.diff_cleanupMerge(t)},n.prototype.diff_xIndex=function(t,e){var n,r=0,o=0,i=0,s=0;for(n=0;n<t.length&&(1!==t[n][0]&&(r+=t[n][1].length),-1!==t[n][0]&&(o+=t[n][1].length),!(r>e));n++)i=r,s=o;return t.length!=n&&-1===t[n][0]?s:s+(e-i)},n.prototype.diff_prettyHtml=function(t){for(var e=[],n=/&/g,r=/</g,o=/>/g,i=/\n/g,s=0;s<t.length;s++){var a=t[s][0],c=t[s][1].replace(n,"&amp;").replace(r,"&lt;").replace(o,"&gt;").replace(i,"&para;<br>");switch(a){case 1:e[s]='<ins style="background:#e6ffe6;">'+c+"</ins>";break;case-1:e[s]='<del style="background:#ffe6e6;">'+c+"</del>";break;case 0:e[s]="<span>"+c+"</span>"}}return e.join("")},n.prototype.diff_text1=function(t){for(var e=[],n=0;n<t.length;n++)1!==t[n][0]&&(e[n]=t[n][1]);return e.join("")},n.prototype.diff_text2=function(t){for(var e=[],n=0;n<t.length;n++)-1!==t[n][0]&&(e[n]=t[n][1]);return e.join("")},n.prototype.diff_levenshtein=function(t){for(var e=0,n=0,r=0,o=0;o<t.length;o++){var i=t[o][0],s=t[o][1];switch(i){case 1:n+=s.length;break;case-1:r+=s.length;break;case 0:e+=Math.max(n,r),n=0,r=0}}return e+=Math.max(n,r)},n.prototype.diff_toDelta=function(t){for(var e=[],n=0;n<t.length;n++)switch(t[n][0]){case 1:e[n]="+"+encodeURI(t[n][1]);break;case-1:e[n]="-"+t[n][1].length;break;case 0:e[n]="="+t[n][1].length}return e.join("\t").replace(/%20/g," ")},n.prototype.diff_fromDelta=function(t,e){for(var n=[],r=0,o=0,i=e.split(/\t/g),s=0;s<i.length;s++){var a=i[s].substring(1);switch(i[s].charAt(0)){case"+":try{n[r++]=[1,decodeURI(a)]}catch(t){throw new Error("Illegal escape in diff_fromDelta: "+a)}break;case"-":case"=":var c=parseInt(a,10);if(isNaN(c)||c<0)throw new Error("Invalid number in diff_fromDelta: "+a);var u=t.substring(o,o+=c);"="==i[s].charAt(0)?n[r++]=[0,u]:n[r++]=[-1,u];break;default:if(i[s])throw new Error("Invalid diff operation in diff_fromDelta: "+i[s])}}if(o!=t.length)throw new Error("Delta length ("+o+") does not equal source text length ("+t.length+").");return n},n.prototype.match_main=function(t,e,n){if(null==t||null==e||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,t.length)),t==e?0:t.length?t.substring(n,n+e.length)==e?n:this.match_bitap_(t,e,n):-1},n.prototype.match_bitap_=function(t,e,n){if(e.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var r=this.match_alphabet_(e),o=this;function i(t,r){var i=t/e.length,s=Math.abs(n-r);return o.Match_Distance?i+s/o.Match_Distance:s?1:i}var s=this.Match_Threshold,a=t.indexOf(e,n);-1!=a&&(s=Math.min(i(0,a),s),-1!=(a=t.lastIndexOf(e,n+e.length))&&(s=Math.min(i(0,a),s)));var c,u,p=1<<e.length-1;a=-1;for(var l,h=e.length+t.length,d=0;d<e.length;d++){for(c=0,u=h;c<u;)i(d,n+u)<=s?c=u:h=u,u=Math.floor((h-c)/2+c);h=u;var f=Math.max(1,n-u+1),m=Math.min(n+u,t.length)+e.length,g=Array(m+2);g[m+1]=(1<<d)-1;for(var v=m;v>=f;v--){var y=r[t.charAt(v-1)];if(g[v]=0===d?(g[v+1]<<1|1)&y:(g[v+1]<<1|1)&y|(l[v+1]|l[v])<<1|1|l[v+1],g[v]&p){var _=i(d,v-1);if(_<=s){if(s=_,!((a=v-1)>n))break;f=Math.max(1,2*n-a)}}}if(i(d+1,n)>s)break;l=g}return a},n.prototype.match_alphabet_=function(t){for(var e={},n=0;n<t.length;n++)e[t.charAt(n)]=0;for(n=0;n<t.length;n++)e[t.charAt(n)]|=1<<t.length-n-1;return e},n.prototype.patch_addContext_=function(t,e){if(0!=e.length){for(var n=e.substring(t.start2,t.start2+t.length1),r=0;e.indexOf(n)!=e.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)r+=this.Patch_Margin,n=e.substring(t.start2-r,t.start2+t.length1+r);r+=this.Patch_Margin;var o=e.substring(t.start2-r,t.start2);o&&t.diffs.unshift([0,o]);var i=e.substring(t.start2+t.length1,t.start2+t.length1+r);i&&t.diffs.push([0,i]),t.start1-=o.length,t.start2-=o.length,t.length1+=o.length+i.length,t.length2+=o.length+i.length}},n.prototype.patch_make=function(t,e,r){var o,i;if("string"==typeof t&&"string"==typeof e&&void 0===r)o=t,(i=this.diff_main(o,e,!0)).length>2&&(this.diff_cleanupSemantic(i),this.diff_cleanupEfficiency(i));else if(t&&"object"==typeof t&&void 0===e&&void 0===r)i=t,o=this.diff_text1(i);else if("string"==typeof t&&e&&"object"==typeof e&&void 0===r)o=t,i=e;else{if("string"!=typeof t||"string"!=typeof e||!r||"object"!=typeof r)throw new Error("Unknown call format to patch_make.");o=t,i=r}if(0===i.length)return[];for(var s=[],a=new n.patch_obj,c=0,u=0,p=0,l=o,h=o,d=0;d<i.length;d++){var f=i[d][0],m=i[d][1];switch(c||0===f||(a.start1=u,a.start2=p),f){case 1:a.diffs[c++]=i[d],a.length2+=m.length,h=h.substring(0,p)+m+h.substring(p);break;case-1:a.length1+=m.length,a.diffs[c++]=i[d],h=h.substring(0,p)+h.substring(p+m.length);break;case 0:m.length<=2*this.Patch_Margin&&c&&i.length!=d+1?(a.diffs[c++]=i[d],a.length1+=m.length,a.length2+=m.length):m.length>=2*this.Patch_Margin&&c&&(this.patch_addContext_(a,l),s.push(a),a=new n.patch_obj,c=0,l=h,u=p)}1!==f&&(u+=m.length),-1!==f&&(p+=m.length)}return c&&(this.patch_addContext_(a,l),s.push(a)),s},n.prototype.patch_deepCopy=function(t){for(var e=[],r=0;r<t.length;r++){var o=t[r],i=new n.patch_obj;i.diffs=[];for(var s=0;s<o.diffs.length;s++)i.diffs[s]=o.diffs[s].slice();i.start1=o.start1,i.start2=o.start2,i.length1=o.length1,i.length2=o.length2,e[r]=i}return e},n.prototype.patch_apply=function(t,e){if(0==t.length)return[e,[]];t=this.patch_deepCopy(t);var n=this.patch_addPadding(t);e=n+e+n,this.patch_splitMax(t);for(var r=0,o=[],i=0;i<t.length;i++){var s,a,c=t[i].start2+r,u=this.diff_text1(t[i].diffs),p=-1;if(u.length>this.Match_MaxBits?-1!=(s=this.match_main(e,u.substring(0,this.Match_MaxBits),c))&&(-1==(p=this.match_main(e,u.substring(u.length-this.Match_MaxBits),c+u.length-this.Match_MaxBits))||s>=p)&&(s=-1):s=this.match_main(e,u,c),-1==s)o[i]=!1,r-=t[i].length2-t[i].length1;else if(o[i]=!0,r=s-c,u==(a=-1==p?e.substring(s,s+u.length):e.substring(s,p+this.Match_MaxBits)))e=e.substring(0,s)+this.diff_text2(t[i].diffs)+e.substring(s+u.length);else{var l=this.diff_main(u,a,!1);if(u.length>this.Match_MaxBits&&this.diff_levenshtein(l)/u.length>this.Patch_DeleteThreshold)o[i]=!1;else{this.diff_cleanupSemanticLossless(l);for(var h,d=0,f=0;f<t[i].diffs.length;f++){var m=t[i].diffs[f];0!==m[0]&&(h=this.diff_xIndex(l,d)),1===m[0]?e=e.substring(0,s+h)+m[1]+e.substring(s+h):-1===m[0]&&(e=e.substring(0,s+h)+e.substring(s+this.diff_xIndex(l,d+m[1].length))),-1!==m[0]&&(d+=m[1].length)}}}}return[e=e.substring(n.length,e.length-n.length),o]},n.prototype.patch_addPadding=function(t){for(var e=this.Patch_Margin,n="",r=1;r<=e;r++)n+=String.fromCharCode(r);for(r=0;r<t.length;r++)t[r].start1+=e,t[r].start2+=e;var o=t[0],i=o.diffs;if(0==i.length||0!=i[0][0])i.unshift([0,n]),o.start1-=e,o.start2-=e,o.length1+=e,o.length2+=e;else if(e>i[0][1].length){var s=e-i[0][1].length;i[0][1]=n.substring(i[0][1].length)+i[0][1],o.start1-=s,o.start2-=s,o.length1+=s,o.length2+=s}if(0==(i=(o=t[t.length-1]).diffs).length||0!=i[i.length-1][0])i.push([0,n]),o.length1+=e,o.length2+=e;else if(e>i[i.length-1][1].length){s=e-i[i.length-1][1].length;i[i.length-1][1]+=n.substring(0,s),o.length1+=s,o.length2+=s}return n},n.prototype.patch_splitMax=function(t){for(var e=this.Match_MaxBits,r=0;r<t.length;r++)if(!(t[r].length1<=e)){var o=t[r];t.splice(r--,1);for(var i=o.start1,s=o.start2,a="";0!==o.diffs.length;){var c=new n.patch_obj,u=!0;for(c.start1=i-a.length,c.start2=s-a.length,""!==a&&(c.length1=c.length2=a.length,c.diffs.push([0,a]));0!==o.diffs.length&&c.length1<e-this.Patch_Margin;){var p=o.diffs[0][0],l=o.diffs[0][1];1===p?(c.length2+=l.length,s+=l.length,c.diffs.push(o.diffs.shift()),u=!1):-1===p&&1==c.diffs.length&&0==c.diffs[0][0]&&l.length>2*e?(c.length1+=l.length,i+=l.length,u=!1,c.diffs.push([p,l]),o.diffs.shift()):(l=l.substring(0,e-c.length1-this.Patch_Margin),c.length1+=l.length,i+=l.length,0===p?(c.length2+=l.length,s+=l.length):u=!1,c.diffs.push([p,l]),l==o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(l.length))}a=(a=this.diff_text2(c.diffs)).substring(a.length-this.Patch_Margin);var h=this.diff_text1(o.diffs).substring(0,this.Patch_Margin);""!==h&&(c.length1+=h.length,c.length2+=h.length,0!==c.diffs.length&&0===c.diffs[c.diffs.length-1][0]?c.diffs[c.diffs.length-1][1]+=h:c.diffs.push([0,h])),u||t.splice(++r,0,c)}}},n.prototype.patch_toText=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=t[n];return e.join("")},n.prototype.patch_fromText=function(t){var e=[];if(!t)return e;for(var r=t.split("\n"),o=0,i=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;o<r.length;){var s=r[o].match(i);if(!s)throw new Error("Invalid patch string: "+r[o]);var a=new n.patch_obj;for(e.push(a),a.start1=parseInt(s[1],10),""===s[2]?(a.start1--,a.length1=1):"0"==s[2]?a.length1=0:(a.start1--,a.length1=parseInt(s[2],10)),a.start2=parseInt(s[3],10),""===s[4]?(a.start2--,a.length2=1):"0"==s[4]?a.length2=0:(a.start2--,a.length2=parseInt(s[4],10)),o++;o<r.length;){var c=r[o].charAt(0);try{var u=decodeURI(r[o].substring(1))}catch(t){throw new Error("Illegal escape in patch_fromText: "+u)}if("-"==c)a.diffs.push([-1,u]);else if("+"==c)a.diffs.push([1,u]);else if(" "==c)a.diffs.push([0,u]);else{if("@"==c)break;if(""!==c)throw new Error('Invalid patch mode "'+c+'" in: '+u)}o++}}return e},n.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},n.patch_obj.prototype.toString=function(){for(var t,e=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],n=0;n<this.diffs.length;n++){switch(this.diffs[n][0]){case 1:t="+";break;case-1:t="-";break;case 0:t=" "}e[n+1]=t+encodeURI(this.diffs[n][1])+"\n"}return e.join("").replace(/%20/g," ")},t.exports=n,t.exports.diff_match_patch=n,t.exports.DIFF_DELETE=-1,t.exports.DIFF_INSERT=1,t.exports.DIFF_EQUAL=0},function(t,e,n){const{fromJson:r}=n(164),o={createComponent(t,e,n){const o=t.component;return o?{ok:!0,component:r(o,e.design)}:(n.push({type:"InvalidCommand",command:t}),{ok:!1})},getComponent(t,e,n){if(!t.component)return n.push({type:"InvalidCommand",command:t}),{ok:!1};const r=t.component.id,o=e.findById(r);return o?{ok:!0,component:o}:(n.push({type:"NotExistingComponent",command:t}),{ok:!1})},directive(t,e){if(t.directiveName&&e){const n=e.directives.get(t.directiveName);return n?{directive:n}:{conflict:{type:"NotExistingComponentForDirective",command:t}}}return{}},getPosition(t,e,n,r=!1){const i=o.getParentContainer(t,e);if(!i){const e="could not deserialize parent container";return n.push({type:"InvalidPosition",description:e,position:t}),{ok:!1}}const{previousId:s,nextId:a,containerInsertIndex:c}=t,u={parentContainer:i,containerInsertIndex:c};if("bottom"===a)u.next="bottom";else if("top"===s)u.previous="top";else if(i.hasChildren()){if(a&&!r){const r=e.findById(a);if(r)u.next=r;else{if(0!==c){const e="could not find 'next' component";return n.push({type:"InvalidPosition",description:e,position:t}),{ok:!1}}u.next=i.first}}if(s){const o=r?e.findAllNodeTypesById(s):e.findById(s);if(!o){const e="could not find 'previous' component";return n.push({type:"InvalidPosition",description:e,position:t}),{ok:!1}}u.previous=o}else r&&(u.previous="top")}return{ok:!0,position:u}},getParentContainer(t,e){const{parentId:n,parentContainerName:r}=t;if("root"===n)return e.root;if(n){const t=e.findById(n);if(!t)return;return t.containers.get(r)}}};t.exports=o},function(t,e,n){var r=n(307)("pickBy",n(99));r.placeholder=n(165),t.exports=r},function(t,e,n){var r=n(308),o=n(310);t.exports=function(t,e,n){return r(o,t,e,n)}},function(t,e,n){var r=n(309),o=n(165),i=Array.prototype.push;function s(t,e){return 2==e?function(e,n){return t(e,n)}:function(e){return t(e)}}function a(t){for(var e=t?t.length:0,n=Array(e);e--;)n[e]=t[e];return n}function c(t,e){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var o=r[0]=e.apply(void 0,r);return t.apply(void 0,r),o}}}t.exports=function t(e,n,u,p){var l="function"==typeof n,h=n===Object(n);if(h&&(p=u,u=n,n=void 0),null==u)throw new TypeError;p||(p={});var d=!("cap"in p)||p.cap,f=!("curry"in p)||p.curry,m=!("fixed"in p)||p.fixed,g=!("immutable"in p)||p.immutable,v=!("rearg"in p)||p.rearg,y=l?u:o,_="curry"in p&&p.curry,b="fixed"in p&&p.fixed,x="rearg"in p&&p.rearg,C=l?u.runInContext():void 0,w=l?u:{ary:e.ary,assign:e.assign,clone:e.clone,curry:e.curry,forEach:e.forEach,isArray:e.isArray,isError:e.isError,isFunction:e.isFunction,isWeakMap:e.isWeakMap,iteratee:e.iteratee,keys:e.keys,rearg:e.rearg,toInteger:e.toInteger,toPath:e.toPath},I=w.ary,E=w.assign,T=w.clone,S=w.curry,A=w.forEach,D=w.isArray,P=w.isError,k=w.isFunction,O=w.isWeakMap,N=w.keys,R=w.rearg,j=w.toInteger,M=w.toPath,L=N(r.aryMethod),q={castArray:function(t){return function(){var e=arguments[0];return D(e)?t(a(e)):t.apply(void 0,arguments)}},iteratee:function(t){return function(){var e=arguments[0],n=arguments[1],r=t(e,n),o=r.length;return d&&"number"==typeof n?(n=n>2?n-2:1,o&&o<=n?r:s(r,n)):r}},mixin:function(t){return function(e){var n=this;if(!k(n))return t(n,Object(e));var r=[];return A(N(e),(function(t){k(e[t])&&r.push([t,n.prototype[t]])})),t(n,Object(e)),A(r,(function(t){var e=t[1];k(e)?n.prototype[t[0]]=e:delete n.prototype[t[0]]})),n}},nthArg:function(t){return function(e){var n=e<0?1:j(e)+1;return S(t(e),n)}},rearg:function(t){return function(e,n){var r=n?n.length:0;return S(t(e,n),r)}},runInContext:function(n){return function(r){return t(e,n(r),p)}}};function B(t,e){if(d){var n=r.iterateeRearg[t];if(n)return function(t,e){return z(t,(function(t){var n=e.length;return function(t,e){return 2==e?function(e,n){return t.apply(void 0,arguments)}:function(e){return t.apply(void 0,arguments)}}(R(s(t,n),e),n)}))}(e,n);var o=!l&&r.iterateeAry[t];if(o)return function(t,e){return z(t,(function(t){return"function"==typeof t?s(t,e):t}))}(e,o)}return e}function U(t,e,n){if(m&&(b||!r.skipFixed[t])){var o=r.methodSpread[t],s=o&&o.start;return void 0===s?I(e,n):function(t,e){return function(){for(var n=arguments.length,r=n-1,o=Array(n);n--;)o[n]=arguments[n];var s=o[e],a=o.slice(0,e);return s&&i.apply(a,s),e!=r&&i.apply(a,o.slice(e+1)),t.apply(this,a)}}(e,s)}return e}function $(t,e,n){return v&&n>1&&(x||!r.skipRearg[t])?R(e,r.methodRearg[t]||r.aryRearg[n]):e}function V(t,e){for(var n=-1,r=(e=M(e)).length,o=r-1,i=T(Object(t)),s=i;null!=s&&++n<r;){var a=e[n],c=s[a];null==c||k(c)||P(c)||O(c)||(s[a]=T(n==o?c:Object(c))),s=s[a]}return i}function F(e,n){var o=r.aliasToReal[e]||e,i=r.remap[o]||o,s=p;return function(e){var r=l?C:w,a=l?C[i]:n,c=E(E({},s),e);return t(r,o,a,c)}}function z(t,e){return function(){var n=arguments.length;if(!n)return t();for(var r=Array(n);n--;)r[n]=arguments[n];var o=v?0:n-1;return r[o]=e(r[o]),t.apply(void 0,r)}}function W(t,e,n){var o,i=r.aliasToReal[t]||t,s=e,u=q[i];return u?s=u(e):g&&(r.mutate.array[i]?s=c(e,a):r.mutate.object[i]?s=c(e,function(t){return function(e){return t({},e)}}(e)):r.mutate.set[i]&&(s=c(e,V))),A(L,(function(t){return A(r.aryMethod[t],(function(e){if(i==e){var n=r.methodSpread[i],a=n&&n.afterRearg;return o=a?U(i,$(i,s,t),t):$(i,U(i,s,t),t),o=function(t,e,n){return _||f&&n>1?S(e,n):e}(0,o=B(i,o),t),!1}})),!o})),o||(o=s),o==e&&(o=_?S(o,1):function(){return e.apply(this,arguments)}),o.convert=F(i,e),o.placeholder=e.placeholder=n,o}if(!h)return W(n,u,y);var H=u,G=[];return A(L,(function(t){A(r.aryMethod[t],(function(t){var e=H[r.remap[t]||t];e&&G.push([t,W(t,e,H)])}))})),A(N(H),(function(t){var e=H[t];if("function"==typeof e){for(var n=G.length;n--;)if(G[n][0]==t)return;e.convert=F(t,e),G.push([t,e])}})),A(G,(function(t){H[t[0]]=t[1]})),H.convert=function(t){return H.runInContext.convert(t)(void 0)},H.placeholder=H,A(N(H),(function(t){A(r.realToAlias[t]||[],(function(e){H[e]=H[t]}))})),H}},function(t,e){e.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},e.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},e.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},e.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},e.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},e.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},e.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},e.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},e.realToAlias=function(){var t=Object.prototype.hasOwnProperty,n=e.aliasToReal,r={};for(var o in n){var i=n[o];t.call(r,i)?r[i].push(o):r[i]=[o]}return r}(),e.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},e.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},e.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},function(t,e,n){t.exports={ary:n(311),assign:n(124),clone:n(177),curry:n(329),forEach:n(46),isArray:n(0),isError:n(330),isFunction:n(50),isWeakMap:n(331),iteratee:n(332),keys:n(48),rearg:n(333),toInteger:n(64),toPath:n(334)}},function(t,e,n){var r=n(100);t.exports=function(t,e,n){return e=n?void 0:e,e=t&&null==e?t.length:e,r(t,128,void 0,void 0,void 0,void 0,e)}},function(t,e,n){var r=n(67),o=n(6);t.exports=function(t,e,n){var i=1&e,s=r(t);return function e(){var r=this&&this!==o&&this instanceof e?s:t;return r.apply(i?n:this,arguments)}}},function(t,e,n){var r=n(89),o=n(67),i=n(168),s=n(171),a=n(176),c=n(105),u=n(6);t.exports=function(t,e,n){var p=o(t);return function o(){for(var l=arguments.length,h=Array(l),d=l,f=a(o);d--;)h[d]=arguments[d];var m=l<3&&h[0]!==f&&h[l-1]!==f?[]:c(h,f);if((l-=m.length)<n)return s(t,e,i,o.placeholder,void 0,h,m,void 0,void 0,n-l);var g=this&&this!==u&&this instanceof o?p:t;return r(g,this,h)}}},function(t,e){t.exports=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}},function(t,e,n){var r=n(101),o=n(172),i=n(317),s=n(319);t.exports=function(t){var e=i(t),n=s[e];if("function"!=typeof n||!(e in r.prototype))return!1;if(t===n)return!0;var a=o(n);return!!a&&t===a[0]}},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(318),o=Object.prototype.hasOwnProperty;t.exports=function(t){for(var e=t.name+"",n=r[e],i=o.call(r,e)?n.length:0;i--;){var s=n[i],a=s.func;if(null==a||a==t)return s.name}return e}},function(t,e){t.exports={}},function(t,e,n){var r=n(101),o=n(173),i=n(102),s=n(0),a=n(4),c=n(320),u=Object.prototype.hasOwnProperty;function p(t){if(a(t)&&!s(t)&&!(t instanceof r)){if(t instanceof o)return t;if(u.call(t,"__wrapped__"))return c(t)}return new o(t)}p.prototype=i.prototype,p.prototype.constructor=p,t.exports=p},function(t,e,n){var r=n(101),o=n(173),i=n(38);t.exports=function(t){if(t instanceof r)return t.clone();var e=new o(t.__wrapped__,t.__chain__);return e.__actions__=i(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}},function(t,e){var n=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;t.exports=function(t){var e=t.match(n);return e?e[1].split(r):[]}},function(t,e){var n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;t.exports=function(t,e){var r=e.length;if(!r)return t;var o=r-1;return e[o]=(r>1?"& ":"")+e[o],e=e.join(r>2?", ":" "),t.replace(n,"{\n/* [wrapped with "+e+"] */\n")}},function(t,e,n){var r=n(46),o=n(103),i=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];t.exports=function(t,e){return r(i,(function(n){var r="_."+n[0];e&n[1]&&!o(t,r)&&t.push(r)})),t.sort()}},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}},function(t,e,n){var r=n(38),o=n(21),i=Math.min;t.exports=function(t,e){for(var n=t.length,s=i(e.length,n),a=r(t);s--;){var c=e[s];t[s]=o(c,n)?a[c]:void 0}return t}},function(t,e,n){var r=n(89),o=n(67),i=n(6);t.exports=function(t,e,n,s){var a=1&e,c=o(t);return function e(){for(var o=-1,u=arguments.length,p=-1,l=s.length,h=Array(l+u),d=this&&this!==i&&this instanceof e?c:t;++p<l;)h[p]=s[p];for(;u--;)h[p++]=arguments[++o];return r(d,a?n:this,h)}}},function(t,e,n){var r=n(169),o=n(170),i=n(105),s=Math.min;t.exports=function(t,e){var n=t[1],a=e[1],c=n|a,u=c<131,p=128==a&&8==n||128==a&&256==n&&t[7].length<=e[8]||384==a&&e[7].length<=e[8]&&8==n;if(!u&&!p)return t;1&a&&(t[2]=e[2],c|=1&n?0:4);var l=e[3];if(l){var h=t[3];t[3]=h?r(h,l,e[4]):l,t[4]=h?i(t[3],"__lodash_placeholder__"):e[4]}return(l=e[5])&&(h=t[5],t[5]=h?o(h,l,e[6]):l,t[6]=h?i(t[5],"__lodash_placeholder__"):e[6]),(l=e[7])&&(t[7]=l),128&a&&(t[8]=null==t[8]?e[8]:s(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=c,t}},function(t,e,n){var r=n(100);function o(t,e,n){var i=r(t,8,void 0,void 0,void 0,void 0,void 0,e=n?void 0:e);return i.placeholder=o.placeholder,i}o.placeholder={},t.exports=o},function(t,e,n){var r=n(10),o=n(4),i=n(40);t.exports=function(t){if(!o(t))return!1;var e=r(t);return"[object Error]"==e||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!i(t)}},function(t,e,n){var r=n(15),o=n(4);t.exports=function(t){return o(t)&&"[object WeakMap]"==r(t)}},function(t,e,n){var r=n(52),o=n(9);t.exports=function(t){return o("function"==typeof t?t:r(t,1))}},function(t,e,n){var r=n(100),o=n(87),i=o((function(t,e){return r(t,256,void 0,void 0,void 0,e)}));t.exports=i},function(t,e,n){var r=n(11),o=n(38),i=n(0),s=n(27),a=n(134),c=n(17),u=n(86);t.exports=function(t){return i(t)?r(t,c):s(t)?[t]:o(a(u(t)))}},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}var o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var i=n(107);e.Parser=i.Parser;var s=n(180);e.DomHandler=s.DomHandler,e.DefaultHandler=s.DomHandler,e.parseDOM=function(t,e){var n=new s.DomHandler(void 0,e);return new i.Parser(n,e).end(t),n.dom},e.createDomStream=function(t,e,n){var r=new s.DomHandler(t,e,n);return new i.Parser(r,e)};var a=n(179);e.Tokenizer=a.default;var c=o(n(337));e.ElementType=c,e.EVENTS={attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0},r(n(181)),r(n(347)),r(n(350));var u=o(n(182));e.DomUtils=u;var p=n(181);e.RssHandler=p.FeedHandler},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=new Map([["tag",1],["script",1],["style",1],["directive",1],["text",3],["cdata",4],["comment",8]]),s=function(){function t(t){this.type=t,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return i.get(this.type)||1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent||null},set:function(t){this.parent=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){return this.prev||null},set:function(t){this.prev=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){return this.next||null},set:function(t){this.next=t},enumerable:!0,configurable:!0}),t}();e.Node=s;var a=function(t){function e(e,n){var r=t.call(this,e)||this;return r.data=n,r}return o(e,t),Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.data},set:function(t){this.data=t},enumerable:!0,configurable:!0}),e}(s);e.DataNode=a;var c=function(t){function e(e,n){var r=t.call(this,"directive",n)||this;return r.name=e,r}return o(e,t),e}(a);e.ProcessingInstruction=c;var u=function(t){function e(e,n){var r=t.call(this,e)||this;return r.children=n,r}return o(e,t),Object.defineProperty(e.prototype,"firstChild",{get:function(){return this.children[0]||null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.children},set:function(t){this.children=t},enumerable:!0,configurable:!0}),e}(s);e.NodeWithChildren=u;var p=function(t){function e(e,n){var r=t.call(this,"script"===e?"script":"style"===e?"style":"tag",[])||this;return r.name=e,r.attribs=n,r.attribs=n,r}return o(e,t),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.name},set:function(t){this.name=t},enumerable:!0,configurable:!0}),e}(u);e.Element=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTag=function(t){return"tag"===t.type||"script"===t.type||"style"===t.type},e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(41),i=r(n(340));e.getOuterHTML=i.default,e.getInnerHTML=function(t,n){return o.hasChildren(t)?t.children.map((function(t){return e.getOuterHTML(t,n)})).join(""):""},e.getText=function t(e){return Array.isArray(e)?e.map(t).join(""):o.isTag(e)?"br"===e.name?"\n":t(e.children):o.isCDATA(e)?t(e.children):o.isText(e)?e.data:""}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTag=function(t){return"tag"===t.type||"script"===t.type||"style"===t.type},e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"},function(t,e,n){var r=n(341),o=n(61),i=n(342);i.elementNames.__proto__=null,i.attributeNames.__proto__=null;var s={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0};var a={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},c=t.exports=function(t,e){Array.isArray(t)||t.cheerio||(t=[t]),e=e||{};for(var n="",o=0;o<t.length;o++){var i=t[o];"root"===i.type?n+=c(i.children,e):r.isTag(i)?n+=p(i,e):i.type===r.Directive?n+=l(i):i.type===r.Comment?n+=f(i):i.type===r.CDATA?n+=d(i):n+=h(i,e)}return n},u=["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"];function p(t,e){"foreign"===e.xmlMode&&(t.name=i.elementNames[t.name]||t.name,t.parent&&u.indexOf(t.parent.name)>=0&&(e=Object.assign({},e,{xmlMode:!1}))),!e.xmlMode&&["svg","math"].indexOf(t.name)>=0&&(e=Object.assign({},e,{xmlMode:"foreign"}));var n="<"+t.name,r=function(t,e){if(t){var n,r="";for(var s in t)n=t[s],r&&(r+=" "),"foreign"===e.xmlMode&&(s=i.attributeNames[s]||s),r+=s,(null!==n&&""!==n||e.xmlMode)&&(r+='="'+(e.decodeEntities?o.encodeXML(n):n.replace(/\"/g,"&quot;"))+'"');return r}}(t.attribs,e);return r&&(n+=" "+r),!e.xmlMode||t.children&&0!==t.children.length?(n+=">",t.children&&(n+=c(t.children,e)),a[t.name]&&!e.xmlMode||(n+="</"+t.name+">")):n+="/>",n}function l(t){return"<"+t.data+">"}function h(t,e){var n=t.data||"";return!e.decodeEntities||t.parent&&t.parent.name in s||(n=o.encodeXML(n)),n}function d(t){return"<![CDATA["+t.children[0].data+"]]>"}function f(t){return"\x3c!--"+t.data+"--\x3e"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTag=function(t){return"tag"===t.type||"script"===t.type||"style"===t.type},e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"},function(t){t.exports=JSON.parse('{"elementNames":{"altglyph":"altGlyph","altglyphdef":"altGlyphDef","altglyphitem":"altGlyphItem","animatecolor":"animateColor","animatemotion":"animateMotion","animatetransform":"animateTransform","clippath":"clipPath","feblend":"feBlend","fecolormatrix":"feColorMatrix","fecomponenttransfer":"feComponentTransfer","fecomposite":"feComposite","feconvolvematrix":"feConvolveMatrix","fediffuselighting":"feDiffuseLighting","fedisplacementmap":"feDisplacementMap","fedistantlight":"feDistantLight","fedropshadow":"feDropShadow","feflood":"feFlood","fefunca":"feFuncA","fefuncb":"feFuncB","fefuncg":"feFuncG","fefuncr":"feFuncR","fegaussianblur":"feGaussianBlur","feimage":"feImage","femerge":"feMerge","femergenode":"feMergeNode","femorphology":"feMorphology","feoffset":"feOffset","fepointlight":"fePointLight","fespecularlighting":"feSpecularLighting","fespotlight":"feSpotLight","fetile":"feTile","feturbulence":"feTurbulence","foreignobject":"foreignObject","glyphref":"glyphRef","lineargradient":"linearGradient","radialgradient":"radialGradient","textpath":"textPath"},"attributeNames":{"definitionurl":"definitionURL","attributename":"attributeName","attributetype":"attributeType","basefrequency":"baseFrequency","baseprofile":"baseProfile","calcmode":"calcMode","clippathunits":"clipPathUnits","diffuseconstant":"diffuseConstant","edgemode":"edgeMode","filterunits":"filterUnits","glyphref":"glyphRef","gradienttransform":"gradientTransform","gradientunits":"gradientUnits","kernelmatrix":"kernelMatrix","kernelunitlength":"kernelUnitLength","keypoints":"keyPoints","keysplines":"keySplines","keytimes":"keyTimes","lengthadjust":"lengthAdjust","limitingconeangle":"limitingConeAngle","markerheight":"markerHeight","markerunits":"markerUnits","markerwidth":"markerWidth","maskcontentunits":"maskContentUnits","maskunits":"maskUnits","numoctaves":"numOctaves","pathlength":"pathLength","patterncontentunits":"patternContentUnits","patterntransform":"patternTransform","patternunits":"patternUnits","pointsatx":"pointsAtX","pointsaty":"pointsAtY","pointsatz":"pointsAtZ","preservealpha":"preserveAlpha","preserveaspectratio":"preserveAspectRatio","primitiveunits":"primitiveUnits","refx":"refX","refy":"refY","repeatcount":"repeatCount","repeatdur":"repeatDur","requiredextensions":"requiredExtensions","requiredfeatures":"requiredFeatures","specularconstant":"specularConstant","specularexponent":"specularExponent","spreadmethod":"spreadMethod","startoffset":"startOffset","stddeviation":"stdDeviation","stitchtiles":"stitchTiles","surfacescale":"surfaceScale","systemlanguage":"systemLanguage","tablevalues":"tableValues","targetx":"targetX","targety":"targetY","textlength":"textLength","viewbox":"viewBox","viewtarget":"viewTarget","xchannelselector":"xChannelSelector","ychannelselector":"yChannelSelector","zoomandpan":"zoomAndPan"}}')},function(t,e,n){"use strict";function r(t){return t.children||null}function o(t){return t.parent||null}function i(t,e){return t.attribs&&t.attribs[e]}Object.defineProperty(e,"__esModule",{value:!0}),e.getChildren=r,e.getParent=o,e.getSiblings=function(t){var e=o(t);return e?r(e):[t]},e.getAttributeValue=i,e.hasAttrib=function(t,e){return!!i(t,e)},e.getName=function(t){return t.name}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeElement=function(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){var e=t.parent.children;e.splice(e.lastIndexOf(t),1)}},e.replaceElement=function(t,e){var n=e.prev=t.prev;n&&(n.next=e);var r=e.next=t.next;r&&(r.prev=e);var o=e.parent=t.parent;if(o){var i=o.children;i[i.lastIndexOf(t)]=e}},e.appendChild=function(t,e){if(e.parent=t,1!==t.children.push(e)){var n=t.children[t.children.length-2];n.next=e,e.prev=n,e.next=null}},e.append=function(t,e){var n=t.parent,r=t.next;if(e.next=r,e.prev=t,t.next=e,e.parent=n,r){if(r.prev=e,n){var o=n.children;o.splice(o.lastIndexOf(r),0,e)}}else n&&n.children.push(e)},e.prepend=function(t,e){var n=t.parent;if(n){var r=n.children;r.splice(r.lastIndexOf(t),0,e)}t.prev&&(t.prev.next=e),e.parent=n,e.prev=t.prev,e.next=t,t.prev=e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(183),o=n(41);function i(t){return"text"===t.type}var s={tag_name:function(t){return"function"==typeof t?function(e){return o.isTag(e)&&t(e.name)}:"*"===t?o.isTag:function(e){return o.isTag(e)&&e.name===t}},tag_type:function(t){return"function"==typeof t?function(e){return t(e.type)}:function(e){return e.type===t}},tag_contains:function(t){return"function"==typeof t?function(e){return i(e)&&t(e.data)}:function(e){return i(e)&&e.data===t}}};function a(t,e){return"function"==typeof e?function(n){return o.isTag(n)&&e(n.attribs[t])}:function(n){return o.isTag(n)&&n.attribs[t]===e}}function c(t,e){return function(n){return t(n)||e(n)}}function u(t){var e=Object.keys(t).map((function(e){var n=t[e];return e in s?s[e](n):a(e,n)}));return 0===e.length?null:e.reduce(c)}e.testElement=function(t,e){var n=u(t);return!n||n(e)},e.getElements=function(t,e,n,o){void 0===o&&(o=1/0);var i=u(t);return i?r.filter(i,e,n,o):[]},e.getElementById=function(t,e,n){return void 0===n&&(n=!0),Array.isArray(e)||(e=[e]),r.findOne(a("id",t),e,n)},e.getElementsByTagName=function(t,e,n,o){return void 0===o&&(o=1/0),r.filter(s.tag_name(t),e,n,o)},e.getElementsByTagType=function(t,e,n,o){return void 0===n&&(n=!0),void 0===o&&(o=1/0),r.filter(s.tag_type(t),e,n,o)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(41);function o(t,e){var n=[],o=[];if(t===e)return 0;for(var i=r.hasChildren(t)?t:t.parent;i;)n.unshift(i),i=i.parent;for(i=r.hasChildren(e)?e:e.parent;i;)o.unshift(i),i=i.parent;for(var s=0;n[s]===o[s];)s++;if(0===s)return 1;var a=n[s-1],c=a.children,u=n[s],p=o[s];return c.indexOf(u)>c.indexOf(p)?a===e?20:4:a===t?10:2}e.removeSubsets=function(t){for(var e=t.length;--e>=0;){var n=t[e];if(e>0&&t.lastIndexOf(n,e-1)>=0)t.splice(e,1);else for(var r=n.parent;r;r=r.parent)if(t.indexOf(r)>-1){t.splice(e,1);break}}return t},e.compareDocumentPosition=o,e.uniqueSort=function(t){return(t=t.filter((function(t,e,n){return!n.includes(t,e+1)}))).sort((function(t,e){var n=o(t,e);return 2&n?-1:4&n?1:0})),t}},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(107),s=n(348),a=n(349);var c=function(t){function e(e,n){var r=t.call(this,{decodeStrings:!1})||this;return r._decoder=new a.StringDecoder,r._parser=new i.Parser(e,n),r}return o(e,t),e.prototype._write=function(t,e,n){(function(t,e){return"buffer"===e})(0,e)&&(t=this._decoder.write(t)),this._parser.write(t),n()},e.prototype._final=function(t){this._parser.end(this._decoder.end()),t()},e}(s.Writable);e.WritableStream=c},function(t,e){t.exports=require("stream")},function(t,e){t.exports=require("string_decoder")},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,(function(t){for(var e,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];n.events.push([t].concat(r)),n._cbs[t]&&(e=n._cbs)[t].apply(e,r)}))||this;return n._cbs=e,n.events=[],n}return o(e,t),e.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},e.prototype.restart=function(){var t;this._cbs.onreset&&this._cbs.onreset();for(var e=0;e<this.events.length;e++){var n=this.events[e],r=n[0],o=n.slice(1);this._cbs[r]&&(t=this._cbs)[r].apply(t,o)}},e}(i(n(351)).default);e.CollectingHandler=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this._func=t}return t.prototype.onattribute=function(t,e){this._func("onattribute",t,e)},t.prototype.oncdatastart=function(){this._func("oncdatastart")},t.prototype.oncdataend=function(){this._func("oncdataend")},t.prototype.ontext=function(t){this._func("ontext",t)},t.prototype.onprocessinginstruction=function(t,e){this._func("onprocessinginstruction",t,e)},t.prototype.oncomment=function(t){this._func("oncomment",t)},t.prototype.oncommentend=function(){this._func("oncommentend")},t.prototype.onclosetag=function(t){this._func("onclosetag",t)},t.prototype.onopentag=function(t,e){this._func("onopentag",t,e)},t.prototype.onopentagname=function(t){this._func("onopentagname",t)},t.prototype.onerror=function(t){this._func("onerror",t)},t.prototype.onend=function(){this._func("onend")},t.prototype.onparserinit=function(t){this._func("onparserinit",t)},t.prototype.onreset=function(){this._func("onreset")},t}();e.default=r},function(t,e,n){const r=n(353),o=/\s+/g,i={normalizeWhitespace:!1,withStartIndices:!1,withReferences:!0};t.exports=class t{constructor(t,e){this._callback=e||function(){},this._options=t||i,this._done=!1,this._tagStack=[],this._parser=this._parser||null,this.dom=[]}onparserinit(t){this._parser=t}onreset(){t.call(this,this._callback,this._options)}onend(){this._done||(this._done=!0,this._parser=null,this._callback(null,this.dom))}onerror(t){this.error=t,this._callback(t)}onopentag(t,e){let n=r.Tag;"script"===t?n=r.Script:"style"===t&&r.Style;const o={type:n,name:t,attribs:e,children:[]};this._addDomElement(o),this._tagStack.push(o)}onclosetag(){this._tagStack.pop()}ontext(t){const e=this._options.normalizeWhitespace,n=this._getLastTag();n&&n.type===r.Text?e?n.data=(n.data+t).replace(o," "):n.data+=t:(e&&(t=t.replace(o," ")),this._addDomElement({data:t,type:r.Text}))}oncomment(t){const e=this._tagStack[this._tagStack.length-1];if(e&&e.type===r.Comment)return void(e.data+=t);const n={data:t,type:r.Comment};this._addDomElement(n),this._tagStack.push(n)}oncommentend(){this._tagStack.pop()}oncdatastart(){this.onerror(new Error("cdata is not supported"))}onprocessinginstruction(t,e){this.onerror(new Error("processing instructions are not supported"))}_addDomElement(t){const e=this._tagStack[this._tagStack.length-1],n=e?e.children:this.dom;if(this._options.withStartIndices&&(t.startIndex=this._parser.startIndex),this._options.withReferences){const r=n[n.length-1];t.parent=e||null,t.next=null,r?(t.prev=r,r.next=t):t.prev=null}n.push(t)}_getLastTag(){if(this._tagStack.length){const t=this._tagStack[this._tagStack.length-1],{children:e}=t;if(e.length)return e[e.length-1]}else if(this.dom.length)return this.dom[this.dom.length-1]}}},function(t,e){t.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:t=>"tag"===t.type||"script"===t.type||"style"===t.type}},function(t,e,n){const{notOk:r,getError:o,corruptPositionViolation:i}=n(66);t.exports=class{constructor(t){const{ok:e,conflicts:n}=function(t){const{parentContainer:e,previous:n,next:o}=t;if(!e)return r(i({message:"missing a parentContainer"}));if("string"==typeof n||"string"==typeof o)return n&&o?r(i({message:"previous and next cannot both be set when 'top' or 'bottom' are used"})):"top"===n||"bottom"===o?{ok:!0}:r(i({message:"previous can only be set to 'top' and next to 'bottom' no other values are allowed"}));if(function(t,e,n){return t&&t.parentContainer!==n||e&&e.parentContainer!==n}(n,o,e))return r(i({message:"parentContainer does not match component container"}));if(n&&o){if(!(n.next===o&&o.previous===n))return r(i({message:"previous and next are not siblings"}))}else if(!n&&!o&&e.first)return r(i({message:"next or previous must be set for a non-empty container"}));return{ok:!0}}(t);if(!e)throw o(n);t=function(t){const{parentContainer:e,previous:n,next:r}=t;return"top"===n?{parentContainer:e,previous:void 0,next:e.first}:"bottom"===r?{parentContainer:e,previous:e.last,next:void 0}:n?{parentContainer:e,previous:n,next:n.next}:r?{parentContainer:e,previous:r.previous,next:r}:{parentContainer:e}}(t);const{parentContainer:s,previous:a,next:c}=t;this.parentContainer=s,this.previous=a,this.next=c}get position(){const{parentContainer:t,previous:e,next:n}=this;return{parentContainer:t,previous:e,next:n}}get componentTree(){return this.parentContainer.getComponentTree()}isDifferentContainer(t){return this.parentContainer!==t.parentContainer}insert(t,e,n=!1){const o=this.position;if(function(t,e){const{parentContainer:n,previous:r,next:o}=t;if(r&&(r===e||r.next===e))return!0;if(o&&(o===e||o.previous===e))return!0;if(!o&&!r&&n===e.parentContainer)return!0}(o,t))return{ok:!0};const{ok:i,conflicts:s}=n?t.isValidPosition(o):{ok:!0};return i?("component"===t.nodeType?o.parentContainer.attachComponent(t,o,e):o.parentContainer.attachTreeNode(t,o,e),{ok:!0}):r(s)}}},function(t,e,n){const r=n(184),o=n(3);t.exports=class extends r{constructor({id:t}={}){super({id:t,nodeType:"placeholder"})}toJson(){return{}}canRemove(){return!0}isValidPosition(){return{ok:!0}}remove(){o.execTrusted("rejectProposal",{componentId:this.id,componentTree:this.componentTree})}destroy(){}}},function(t,e){t.exports={getPositionAfterNode:t=>(t=t.treeNode).next?{previous:t.next,next:t.next.next?t.next.next:void 0,parentContainer:t.parentContainer}:{parentContainer:t.parentContainer},getPositionBeforeNode:t=>(t=t.treeNode).previous?{previous:t.previous.previous?t.previous.previous:void 0,next:t.previous,parentContainer:t.parentContainer}:{next:t.next,parentContainer:t.parentContainer}}},function(t,e){class n{constructor(t){this.components=t||[],this.length=t.length;for(let t=0;t<this.components.length;t++)this[t]=this.components[t]}get first(){return this[0]}get last(){return this[this.length-1]}each(t){for(const e of this.components)t(e);return this}remove(){for(const t of this.components)t.remove();return this}}n.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],t.exports=n},function(t,e,n){const r=n(5),o=n(359),i=n(360),s=n(363),a=n(364),c=n(365),u=n(366),p=n(367);t.exports={create({component:t,structureDirective:e}){return new(this.getDirectiveConstructor(e.type))({component:t,structureDirective:e})},getDirectiveConstructor(t){switch(t){case"editable":return o;case"image":return i;case"html":return s;case"link":return a;case"include":return c;case"toggle":return u;case"style":return p;default:r(!1,`Unsupported component directive: ${t}`)}}}},function(t,e,n){const r=n(42),o=n(106),i=n(39),s=n(178),a=n(3),c=/[\n\r]/g;class u extends r{constructor(){super(...arguments),this.tagWhitelist?this.editableValidator=new s({whitelist:this.tagWhitelist}):this.tagBlacklist&&(this.editableValidator=new s({blacklist:this.tagBlacklist}))}get placeholder(){return this.structureDirective.placeholder}getText(t={newlineReplacement:" "}){const e=this.getContent(),n=o(e),r=i(n,{plainText:!0,decodeHTML:!0});return!1===t.newlineReplacement?r:r.replace(c,t.newlineReplacement)}setContent(t){a.execTrusted("updateEditableDirective",{component:this.component,directive:this,value:t})}}u.prototype.isEditable=!0,t.exports=u},function(t,e,n){const r=n(361),o=n(40),i=n(5),s=n(186),a=n(108);let c=!1,u=!1;const p=n(3);class l extends a{setContent({originalUrl:t,url:e,mediaId:n,width:r,height:o,mimeType:i,imageService:s,origins:a,crop:c}){p.execTrusted("updateImageDirective",{component:this.component,directive:this,value:{originalUrl:t,url:e,mediaId:n,width:r,height:o,mimeType:i,imageService:s,origins:a,crop:c,suppressEvents:!1}})}setTemporaryImage(t){p.execTrusted("updateTmpImageDirective",{component:this.component,directive:this,value:t})}setBase64Image(t){c||(c=!0,console.warn("ImageDirective.setBase64Image() is deprecated. Please use #setTemporaryImage().")),this.setTemporaryImage(t)}setImage({originalUrl:t,url:e,mediaId:n,width:r,height:o,mimeType:i,imageService:s,origins:a},c){p.execTrusted("updateImageDirective",{component:this.component,directive:this,value:{originalUrl:t,url:e,mediaId:n,width:r,height:o,mimeType:i,imageService:s,origins:a,suppressEvents:c}})}setCrop(t,e){p.execTrusted("updateImageDirective",{component:this.component,directive:this,value:{crop:t,suppressEvents:e}})}resetCrop(){this.setCrop(void 0)}hasDifferentContent(t){return this.getProcessedUrl()!==t}isBackgroundImage(){return!!this.setAsBackground}isInlineImage(){return!this.setAsBackground}isTemporaryImage(){return!!this.temporaryImage}isBase64(){return u||(u=!0,console.warn("ImageDirective.isBase64() is deprecated. Please use #isTemporaryImage().")),this.isTemporaryImage()}isGif(){return"image/gif"===this.content.mimeType}getOrigins(){return this.content.origins}getUrl(){return this.getOriginalUrl()}getOriginalUrl(){return this.content.originalUrl||this.content.url}getMediaId(){return this.content.mediaId}getTemporaryUrl(){return this.temporaryImage}getMimeType(){return this.content.mimeType}getCrop(){return this.content.crop}getUncroppedUrl(){const t=this.getImageService(),e=this.getOriginalUrl();return t.getUncroppedUrl(e)}getProcessedUrl(t={}){const e=this.getOriginalUrl();if(this.hasDefaultImageService())return e;{const n=this.getImageService(),r=Object.assign({crop:this.content.crop},t);return n.getUrl(e,r)}}getImageUrl(){return console.warn("ImageDirective.getImageUrl() is deprecated. Use getProcessedUrl() instead"),this.getProcessedUrl()}getOriginalImageDimensions(){const{width:t,height:e}=this.content;return{width:t,height:e}}getImageService(){const t=this.content.imageService||void 0;return s.get(t)}getImageServiceName(){return this.getImageService().name}hasDefaultImageService(){return"default"===this.getImageServiceName()}processImageUrl(){this.hasDefaultImageService()||(this.content.originalUrl=this.getOriginalUrl(),this.content.url=this.getProcessedUrl())}setOrigins(t){t&&(Array.isArray(t)||(t=[t]),this.content.origins=t.map(t=>(i(t&&t.name&&t.identifier,"Error: setOrigins() must be called with an array name and identifier keys"),{name:t.name,identifier:t.identifier})))}setImageService(t){t&&function(t,e){i(s.has(e),`Error: could not find image service ${e}`);const n=s.get(e),r=t.getMimeType(),o=t.isBackgroundImage();return n.canProcessAsset(r,o)}(this,t)&&(this.content.imageService=t)}reset(){this.temporaryImage=void 0,this.content={}}serialize(){return r(this.content,t=>null==t)}deserialize(t){"string"==typeof t?this.content.url=t:super.deserialize(t)}correctValueType(t){return null==t||o(t)||"string"==typeof t}}l.prototype.isImage=!0,t.exports=l},function(t,e,n){var r=n(9),o=n(362),i=n(99);t.exports=function(t,e){return i(t,o(r(e)))}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw new TypeError("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}},function(t,e,n){const r=n(42),o=n(3);class i extends r{get placeholder(){return this.structureDirective.placeholder}setEmbedHandler(t){this.setData("_embedHandler",t)}getEmbedHandler(){return this.getData("_embedHandler")}setContent(t){o.execTrusted("updateHtmlDirective",{component:this.component,directive:this,value:t})}}i.prototype.isHtml=!0,t.exports=i},function(t,e,n){const r=n(42),o=n(3);class i extends r{setContent(t){o.execTrusted("updateLinkDirective",{component:this.component,directive:this,value:t})}}i.prototype.isLink=!0,t.exports=i},function(t,e,n){const r=n(51),o=n(18),i=n(5),s=n(108),a=n(3);t.exports=class extends s{constructor(){super(arguments[0]),this.validate(),this.service?this.initService({service:this.service,defaultParams:this.defaultParams,label:this.label}):this.initServices()}initService(t){if(t){const{service:e,label:n,defaultParams:r,config:o}=t,i={service:e};n&&(i.label=n),r&&(i.params=r),o&&(this.config=o),this.content=i}else{const e={service:t.service};this.defaultParams&&(e.params=this.defaultParams),this.label&&(e.label=this.label),this.content=e}}initServices(){const t=this.services[0];return this.initService(t)}changeService(t){t!==this.getService()&&a.execTrusted("updateIncludeDirective",{component:this.component,directive:this,value:{service:t}})}hasServices(){return!r(this.getServices())}get placeholder(){return this.structureDirective.placeholder}get isInclude(){return!0}getService(){return this.content.service}getServices(){return(this.services||[]).map(t=>({service:t.service,label:t.label}))}getParams(){return this.content.params}setContent(t){a.execTrusted("updateIncludeDirective",{component:this.component,directive:this,value:t})}setParams(t){const e={...this.content,params:t};this.setContent(e)}addParams(t){const e=this.getParams()||{};this.setParams({...e,...t})}getLabel(){return this.content.label}refresh(){this&&this.component&&this.component.requestDirectiveViewUpdate(this.name)}validate(){const t=!r(this.service),e=!r(this.services);i(t||e,`include directive: service or services is required for directive: ${this.name}`),t?i(o(this.service),`include directive: service is expected to be a string for directive: ${this.name}`):(i(Array.isArray(this.services),`include directive: services is expected to be an array for directive: ${this.name}`),i(!r(this.services),"include directive: services is expected to contain at least "+`one service for directive ${this.name}`))}isResolved(){if(this.resolvedValue||""===this.resolvedValue)return!0}resolve(t){this.resolvedValue=t||(""===t?"":void 0)}}},function(t,e,n){const r=n(161),o=n(42),i=n(28),s=n(3);class a extends o{constructor(){super(...arguments),this.label=this.label||i.humanize(this.name);const t=!1!==this.default;this.deserialize(t)}setContent(t){s.execTrusted("updateToggleDirective",{component:this.component,directive:this,value:t})}deserialize(t){t=function(t){return!r(t)||t}(t),super.deserialize(t)}getLabel(){return this.label}isEmpty(){return null==this.getContent()}correctValueType(t){return!t||!0===t||!1===t}}a.prototype.isToggle=!0,t.exports=a},function(t,e,n){const r=n(108),o=n(3);t.exports=class extends r{get styles(){return this.properties}setContent(t){o.execTrusted("updateStyleDirective",{component:this.component,directive:this,value:t})}setStyle(t,e){this.setContent({...this.content,[t]:e})}hasStyle(t){return!!this.properties[t]}getStyle(t){return this.content[t]}getStyleConfig(t){return this.properties[t]}listStyleNames(){return Object.keys(this.properties)}}},function(t,e,n){const{notOk:r}=n(66),{fixedPositionViolation:o,prohibitedPositionViolation:i}=n(95);t.exports=class{constructor(t,e){this.component=t,this.initPositionRules(e)}initPositionRules(t){this.component.isPositionFixed="fixed"===t}resetPositionRules(){this.component.isPositionFixed=void 0}setPosition(t){this.resetPositionRules(),this.initPositionRules(t)}isValidPosition(t){const{component:e}=this;if(e.parentContainer&&e.isPositionFixed)return r(o({component:this.component}));if(t){const{next:e,previous:n}=t,o=e&&e.isPositionFixed,s=n&&n.isPositionFixed,a=s&&(!e||o);if(o&&(!n||s)||a)return r(i({component:this.component,message:"A sibling has a fixed position and does not allow other components to be prepended or appended."}))}return{ok:!0}}isParentOfFixedPosition(){let t=!1;return this.component.descendants((function(e){e.isPositionFixed&&(t=!0)})),t}canRemove(){return!this.component.isPositionFixed&&!this.isParentOfFixedPosition()}}},function(t,e,n){const{assert:r}=n(1);t.exports=class{constructor({container:t,component:e,componentTree:n}){this.current=void 0,e?this.nextComponent=this.root=e:t||n?this.nextComponent=(this.root=t||n.root).first:r(!1,"new ComponentTreeIterator(): specify one of these params: container, component or componentTree")}hasNext(){return!!this.nextComponent}next({skipChildren:t}={}){if(this.current=this.nextComponent,!this.current)return;let e;if(!t)for(let t=0;t<this.current.containers.length;t++){const n=this.current.containers[t];if(n.first){e=n.first;break}}return e||(e=this.getNextComponent(this.current)),this.nextComponent=e,this.current}getNextComponent(t){if(!t||t===this.root)return;if(t.next)return t.next;const e=t.parentContainer;if(!e||e===this.root)return;let n=e;for(;n=n.getNextContainer();)if(n.first)return n.first;return this.getNextComponent(e.parentComponent)}}},function(t,e,n){const r=n(189),o=n(69),i=n(373),s=n(378),{serializePosition:a}=n(65);function c(t){const e=[...t.descendantsIterator({allTreeNodes:!0})];return o(e,(t,e,n)=>(t[e.id]=n,t),{})}t.exports=class{constructor({componentTree:t}){this.componentTree=t,this.proposals={}}get(t){if(this.proposals[t])return this.proposals[t]}getProposalComponent(t){if(this.proposals[t])return this.proposals[t].component}getPlaceholder(t){const e=this.proposals[t];if(e&&"proposeInsert"===e.type)return e.component.treeNode}get all(){return this.proposals}get count(){return Object.keys(this.proposals).length}get hasProposals(){return!!Object.keys(this.proposals).length}applyAllProposals(){for(const t in this.proposals)this.proposals[t].apply()}rejectAllProposals(){for(const t in this.proposals)this.proposals[t].reject()}rejectProposal(t){const e=this.proposals[t.id];e&&e.reject()}setStatus(t,e){const n=this.proposals[t];n&&n.setStatus(e)}getSortedProposals(){const t=c(this.componentTree);return i(this.proposals,e=>t[e.id])}serialize(){const t=c(this.componentTree),e=i(this.proposals,e=>t[e.id]);return r(e,t=>{const e={type:t.type,componentId:t.id};if(t.status&&(e.proposalStatus=t.status),t.data&&(e.proposalData=t.data),"proposeInsert"===t.type||"proposeUpdate"===t.type){e.component=t.component.toJson();const n=t.component.placeholder;n&&(e.position=a(n.getPosition()))}return e})}_upsertComponent({component:t,proposalStatus:e,proposalData:n}){const r=t.placeholder?"proposeInsert":"proposeUpdate",o=new s({type:r,id:t.id,component:t,status:e||this.defaultStatus,data:n,componentTree:this.componentTree});return this.proposals[o.id]=o,o}_removeComponent({id:t,proposalStatus:e,proposalData:n}){const r=new s({type:"proposeRemoval",id:t,status:e||this.defaultStatus,data:n,componentTree:this.componentTree});return this.proposals[r.id]=r,r}_setDefaultStatus(t){this.defaultStatus=t}_restoreDefaultStatus(){this.defaultStatus=void 0}}},function(t,e){t.exports=function(t,e,n,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}},function(t,e){t.exports=function(t,e,n,r,o){return o(t,(function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)})),n}},function(t,e,n){var r=n(88),o=n(374),i=n(62),s=n(148),a=i((function(t,e){if(null==t)return[];var n=e.length;return n>1&&s(t,e[0],e[1])?e=[]:n>2&&s(e[0],e[1],e[2])&&(e=[e[0]]),o(t,r(e,1),[])}));t.exports=a},function(t,e,n){var r=n(11),o=n(9),i=n(190),s=n(375),a=n(22),c=n(376),u=n(23);t.exports=function(t,e,n){var p=-1;e=r(e.length?e:[u],a(o));var l=i(t,(function(t,n,o){return{criteria:r(e,(function(e){return e(t)})),index:++p,value:t}}));return s(l,(function(t,e){return c(t,e,n)}))}},function(t,e){t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},function(t,e,n){var r=n(377);t.exports=function(t,e,n){for(var o=-1,i=t.criteria,s=e.criteria,a=i.length,c=n.length;++o<a;){var u=r(i[o],s[o]);if(u)return o>=c?u:u*("desc"==n[o]?-1:1)}return t.index-e.index}},function(t,e,n){var r=n(27);t.exports=function(t,e){if(t!==e){var n=void 0!==t,o=null===t,i=t==t,s=r(t),a=void 0!==e,c=null===e,u=e==e,p=r(e);if(!c&&!p&&!s&&t>e||s&&a&&u&&!c&&!p||o&&a&&u||!n&&u||!i)return 1;if(!o&&!s&&!p&&t<e||p&&n&&i&&!o&&!s||c&&n&&i||!a&&i||!u)return-1}return 0}},function(t,e,n){const r=n(3);t.exports=class{constructor({type:t,id:e,status:n,data:r,component:o,componentTree:i}){this.id=e,this.type=t,this.componentTree=i,o&&(this.component=o),n&&(this.status=n),r&&(this.data=r)}setStatus(t){r.execTrusted("updateProposalStatus",{proposalStatus:t,componentId:this.id,componentTree:this.componentTree})}setData(t){r.execTrusted("updateProposalData",{proposalData:t,componentId:this.id,componentTree:this.componentTree})}get tmpData(){return this._tmpData}set tmpData(t){this._tmpData=t}apply(){r.execTrusted("applyProposal",{componentId:this.id,componentTree:this.componentTree})}reject(){r.execTrusted("rejectProposal",{componentId:this.id,componentTree:this.componentTree})}}},function(t,e,n){const{assert:r}=n(1);t.exports=class{constructor({type:t,src:e,code:n,name:o,version:i,namespace:s,isExecuteOnly:a,component:c}){this.type=t,this.src=e,this.code=n,this.namespace=s,this.name=o,this.version=i,this.isExecuteOnly=a,r(this.src||this.code,'Dependency: No "src" or "code" param provided'),r(!(this.src&&this.code),'Dependency: Only provide one of "src" or "code" params'),r(this.type,"Dependency: Param type must be specified"),r(["js","css"].includes(this.type),`Dependency: Unrecognized type: ${this.type}`),this.code&&(this.inline=!0),this.components={},this.componentCount=0,c&&this.addComponent(c)}isJs(){return"js"===this.type}isCss(){return"css"===this.type}hasComponent(t){return null!=this.components[t.id]}addComponent(t){this.hasComponent(t)||(this.componentCount+=1,this.components[t.id]=!0)}forceExecution(){this.isExecuteOnly=!0}removeComponent(t){return!this.hasComponent(t)||(this.componentCount-=1,this.components[t.id]=void 0,0!==this.componentCount)}isSameAs(t){return this.type===t.type&&(this.namespace===t.namespace&&(t.src?this.src===t.src:this.code===t.code))}serialize(){r(!this.isExecuteOnly,"engine//dependency.js: Cannot serialize a temporary dependency");const t={};for(const e of["src","code","inline","name","version","namespace"])this[e]&&(t[e]=this[e]);for(const e in this.components)t.componentIds||(t.componentIds=[]),t.componentIds.push(e);return t}}},function(t,e,n){const r=n(381);t.exports={printJs:function(t){let e="";for(const n of Array.from(t.js))n.inline?e+=this.printInlineScript({codeBlock:n.code}):e+=this.printScriptTag({src:n.src}),e+="\n";return e},printCss:function(t){let e="";for(const n of Array.from(t.css))n.inline?e+=this.printInlineCss({styles:n.code}):e+=this.printCssLink({src:n.src}),e+="\n";return e},printScriptTag:function({src:t}){return`<script src="${t}"><\/script>`},printInlineScript:function({codeBlock:t}){return`<script> ${t=r.prepareInlineCode(t)} <\/script>`},printCssLink:function({src:t,head:e}){"boolean"!=typeof e&&(e=!0);if(e)return`<link rel="stylesheet" type="text/css" href="${t}">`;return`<link rel="stylesheet" type="text/css" href="${t}">`},printInlineCss:function({styles:t}){return`<style> ${t=r.prepareInlineStyles(t)} </style>`},printComment:function(t){return`\x3c!-- ${t} --\x3e`}}},function(t,e){const n=/<style[^>]*>|<\/style>/gi,r=/<script[^>]*>|<\/script>/gi;t.exports={prepareInlineStyles:t=>t.replace(n,""),prepareInlineCode:t=>t.replace(r,"")}},function(t,e,n){const r=n(2),o=n(13),i=n(73),s=n(383),a=n(387),c=n(390),u=n(5),p=n(192);t.exports=class{constructor(t,e){this.onTreeChange=this.onTreeChange.bind(this),this.extractAll=this.extractAll.bind(this),this.onComponentChange=this.onComponentChange.bind(this),this.componentTree=t,this.fieldMapping=e,this.metadataConfig=e,this.fields={},this.initEvents(),this.extractAll(),this.setupListeners()}setupListeners(){this.componentTree.on("componentAdded",this.onTreeChange),this.componentTree.on("componentRemoved",this.onTreeChange),this.componentTree.on("componentMoved",this.onTreeChange),this.componentTree.on("componentContentChanged",this.onComponentChange)}onTreeChange(t){const e=t.componentName,n=this.fieldMapping.getComponentMap()[e],r={};let i=!1;const s=this.extractFields(n);for(const t in s){const e=s[t];o(this.fields[t],e)||(i=!0,r[t]=this.fields[t]=e)}i&&this.fieldsChanged.fire(r,this.fields)}isFieldCandidate(t,e){const n=e.component.componentName,r=e.name;return this.fieldMapping.getFieldsBySource(n,r).includes(t)}extractAll(){const t=this.fieldMapping.getListOfFields();return this.fields=this.extractFields(t),this.fieldsChanged.fire(this.fields,this.fields),this.fields}extractFields(t){const e={},n=new Map,r=this.fieldMapping.getComponentMap();for(const e of Object.keys(r)){const o=a(r[e],t);o.length&&n.set(e,o)}for(const t of this.componentTree.descendantsIterator()){const r=t.componentName;if(0===n.size)break;const o=n.get(r);if(!o)continue;const i=this.extractFieldsFromComponent(t,o);for(const t of Object.keys(i)){const r=i[t];for(const[e,r]of n){const o=c(r,t);o.length?n.set(e,o):n.delete(e)}e[t]=r}}return e}extractFieldsFromComponent(t,e){const n={},r=t.componentName;return e.forEach(e=>{this.fieldMapping.getDirectivesByComponentAndField(r,e).forEach(r=>{if(n[e])return;const o=t.directives.get(r);if(o.isEmpty())return;const i=this.extractFieldFromDirective(o,e);n[e]=i})}),n}onComponentChange(t,e){const n=t.componentName,r=this.fieldMapping.getFieldsBySource(n,e),o={},a=[],c=t.directives.get(e);for(const e of r){const n=c.isEmpty()?void 0:this.extractFieldFromDirective(c,e),r=this.checkChangedField(e,n,t);r&&(r.needsExtraction&&a.push(e),r.hasChanged&&(this.fields[e]=o[e]=n))}a.length&&i(this.extractFields(a),(t,e)=>{o[e]=t,this.fields[e]=t}),s(o)&&this.fieldsChanged.fire(o,this.fields)}checkChangedField(t,e,n){const i=null==e,s=null==this.fields[t],a=r(this.fields[t],"component.id")===n.id,c=n.componentTree;if(i&&a)return{hasChanged:!0,needsExtraction:!0};if((()=>(s||a)&&!o(this.fields[t],e))())return{hasChanged:!0};if(!i&&!a){const e=c.indexOf(this.fields[t].component),r=c.indexOf(n),o=()=>-1!==r&&-1===e;if((()=>e>r)()||o())return{hasChanged:!0}}return{hasChanged:!1}}initEvents(){this.fieldsChanged=p()}extractFieldFromDirective(t,e){const n=this.fieldMapping.getConfigMap()[e],r=n.type;if("text"===r)return this.extractTextField(t);if("image"===r){if(!t.isTemporaryImage())return this.extractImageField(t)}else{if("cssProperty"===r)return this.extractStyleField(t,n.cssProperty);u(!1,`Unknown template type ${r}`)}}extractTextField(t){return{content:t.getContent(),component:t.component,directiveName:t.name,text:t.getText(),type:"text"}}extractImageField(t){return{component:t.component,directiveName:t.name,type:"image",image:{originalUrl:t.getOriginalUrl(),url:t.getProcessedUrl(),mediaId:t.getMediaId(),width:r(t.getOriginalImageDimensions(),"width"),height:r(t.getOriginalImageDimensions(),"height"),mimeType:t.getMimeType(),imageService:t.getImageServiceName()}}}extractStyleField(t,e){const n={content:t.getContent(),component:t.component,directiveName:t.name,type:"cssProperty"};return e&&(n.cssProperty=t.getStyle(e)),n}getFields(){return this.fields}}},function(t,e,n){var r=n(48),o=n(15),i=n(12),s=n(18),a=n(384);t.exports=function(t){if(null==t)return 0;if(i(t))return s(t)?a(t):t.length;var e=o(t);return"[object Map]"==e||"[object Set]"==e?t.size:r(t).length}},function(t,e,n){var r=n(385),o=n(193),i=n(386);t.exports=function(t){return o(t)?i(t):r(t)}},function(t,e,n){var r=n(158)("length");t.exports=r},function(t,e){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+o+")"+"?",u="[\\ufe0e\\ufe0f]?"+c+("(?:\\u200d(?:"+[i,s,a].join("|")+")[\\ufe0e\\ufe0f]?"+c+")*"),p="(?:"+[i+r+"?",r,s,a,n].join("|")+")",l=RegExp(o+"(?="+o+")|"+p+u,"g");t.exports=function(t){for(var e=l.lastIndex=0;l.test(t);)++e;return e}},function(t,e,n){var r=n(11),o=n(388),i=n(62),s=n(389),a=i((function(t){var e=r(t,s);return e.length&&e[0]===t[0]?o(e):[]}));t.exports=a},function(t,e,n){var r=n(97),o=n(103),i=n(194),s=n(11),a=n(22),c=n(98),u=Math.min;t.exports=function(t,e,n){for(var p=n?i:o,l=t[0].length,h=t.length,d=h,f=Array(h),m=1/0,g=[];d--;){var v=t[d];d&&e&&(v=s(v,a(e))),m=u(v.length,m),f[d]=!n&&(e||l>=120&&v.length>=120)?new r(d&&v):void 0}v=t[0];var y=-1,_=f[0];t:for(;++y<l&&g.length<m;){var b=v[y],x=e?e(b):b;if(b=n||0!==b?b:0,!(_?c(_,x):p(g,x,n))){for(d=h;--d;){var C=f[d];if(!(C?c(C,x):p(t[d],x,n)))continue t}_&&_.push(x),g.push(b)}}return g}},function(t,e,n){var r=n(93);t.exports=function(t){return r(t)?t:[]}},function(t,e,n){var r=n(391),o=n(62),i=n(93),s=o((function(t,e){return i(t)?r(t,e):[]}));t.exports=s},function(t,e,n){var r=n(97),o=n(103),i=n(194),s=n(11),a=n(22),c=n(98);t.exports=function(t,e,n,u){var p=-1,l=o,h=!0,d=t.length,f=[],m=e.length;if(!d)return f;n&&(e=s(e,a(n))),u?(l=i,h=!1):e.length>=200&&(l=c,h=!1,e=new r(e));t:for(;++p<d;){var g=t[p],v=null==n?g:n(g);if(g=u||0!==g?g:0,h&&v==v){for(var y=m;y--;)if(e[y]===v)continue t;f.push(g)}else l(e,v,u)||f.push(g)}return f}},function(t,e){t.exports=class{constructor(t){this.fieldsArray=[],this.fieldMap={},this.configMap={},this.componentDirectiveMap={},this.componentMap={},t&&t.length&&this.parse(t)}parse(t){for(const e of t){const t=e.identifier;this.fieldsArray.push(t),this.configMap[t]=e,this.fieldMap[t]||(this.fieldMap[t]={});for(const n of e.matches){const[e,r]=n.split(".");this.componentDirectiveMap[e]||(this.componentDirectiveMap[e]={}),this.componentDirectiveMap[e][r]||(this.componentDirectiveMap[e][r]=[]),this.componentDirectiveMap[e][r].push(t),this.componentMap[e]||(this.componentMap[e]=[]),this.componentMap[e].push(t),this.fieldMap[t][e]||(this.fieldMap[t][e]=[]),this.fieldMap[t][e].push(r)}}}getListOfFields(){return this.fieldsArray}getConfigMap(){return this.configMap}getComponentMap(){return this.componentMap}getFieldsBySource(t,e){return this.componentDirectiveMap[t]&&this.componentDirectiveMap[t][e]||[]}getDirectivesByComponentAndField(t,e){return this.fieldMap[e][t]}}},function(t,e,n){const r=n(394),o=n(396),i=n(68);t.exports=class{constructor(t,e,r){this._livingdoc=t,this._config=e,this._events=r||n(398),this.state={undo:[],redo:[],group:!1,undone:!1,redone:!1,enabled:!1}}enable(){this.state.enabled||(Object.keys(this._events).map(t=>{this._livingdoc.componentTree.on(t,r.bind(this,t,this._events[t]))}),this.state.enabled=!0)}undo(){return o.call(this,"undo")}redo(){return o.call(this,"redo")}hasUndo(){return!(!this.state.enabled||!this.state.undo.length)}hasRedo(){return!(!this.state.enabled||!this.state.redo.length)}startEventGroup(t){return this.state.group=t||i.next("event-group"),this.state.group}stopEventGroup(){return!!this.state.group&&(this.state.group=!1,!0)}}},function(t,e,n){const r=n(395),o=n(63),{eventSources:i}=n(3);t.exports=function(t,e,n,...s){const a=e.getContext(n,...s);if(!a)return;const c={context:a,event:t,model:n};c.group=this.state.grouped||this.state.group;const u=this.state.undone?"redo":"undo";return a.eventSource===i.remote&&function(t,e,n){return!o(t,t=>t.context.directive&&n.directive&&t.context.directive.component.id===n.directive.component.id&&t.context.directive.index===n.directive.index||!n.directive&&e.id===t.model.id)}(this.state[u],n,a)?void 0:("undo"!==u||this.state.redone||(this.state.redo=[]),this.state.undone=this.state.redone=this.state.grouped=!1,this.state[u].push(c),this.state[u]=r(this.state[u],this._config.limit),e)}},function(t,e,n){var r=n(109),o=n(64);t.exports=function(t,e,n){var i=null==t?0:t.length;return i?(e=n||void 0===e?1:o(e),r(t,(e=i-e)<0?0:e,i)):[]}},function(t,e,n){const{log:r}=n(1),{rollbackText:o}=n(397);t.exports=function t(e,n,i={}){if(!this.state.enabled)return r.warn("History API not enabled"),!1;const s=this.state[e];if(!s||!s.length)return!1;const a=s.pop();return!!Object.keys(this._events).includes(a.event)&&("undo"===e&&(this.state.undone=!0),"redo"===e&&(this.state.redone=!0),this.state.grouped=a.group,this._events[a.event].revert(this._livingdoc,a.model,a.context),function(t,e,n){if(!t)return!1;const r=e&&e===t;if((e||!t)&&!r)return!1;const o=n.length&&n[n.length-1],i=o?o.group:void 0;return!o||i===t}(a.group,n,s)?t.call(this,e,a.group):("undo"===e&&o(this.state,a,i,t.bind(this)),!0))}},function(t,e,n){const{decodeHTML:r}=n(61),o=n(8),i=n(68);function s(t,e,n){const r="beforeComponentContentChanged";if(function(t,e){return t.context&&e&&e.context&&t.context.directive!==e.context.directive}(t,e))return!1;if(!e||e.event!==r||t.event!==r)return!1;const i=o.history.groupingInterval;if(n.time-e.context.time>i)return!1;const s=a(n.content),c=a(e.context.content),u=s.replace(c,"");if(u.length===s.length)return!0;const p=u.replace(/(\.|,|\?|!)+\s*$/,"").split(/\.|,|\?|!/).length,l=u.split(/\s/).length;return p<2&&l<6}t.exports={rollbackText:function(t,e,n,r){const o=t.undo,a=o[o.length-1];let c=n.count+1||1;const u=n.context||e.context;if(s(e,a,u))return r("undo",e.group,{count:c,context:u});const p=i.next("event-group"),l=t.redo;for(;c;)c-=1,l[l.length-c-1]&&(l[l.length-c-1].group=p)},shouldMoreTextBeRolledback:s};const a=t=>r(t).replace(/\s/g," ")},function(t,e,n){t.exports={beforeComponentAdded:n(399),beforeComponentRemoved:n(195),beforeComponentMoved:n(195),beforeComponentContentChanged:n(400),beforeComponentHtmlChanged:n(401)}},function(t,e){t.exports.revert=(t,e)=>e.remove(),t.exports.getContext=(t,e)=>({model:t,eventSource:e})},function(t,e,n){const r=n(177);t.exports.revert=(t,e,n)=>{if(!n.directive)return!1;n.directive.setContent(n.content)},t.exports.getContext=(t,e,n)=>{const o=t.directives.all[e];if(!o)return!1;let i=o.getContent();const s=new Date;return i&&i.originalUrl&&(i=r(i),i.url=i.originalUrl),{directive:o,content:i,time:s,eventSource:n}}},function(t,e){t.exports.revert=(t,e,n)=>e.setStyle(n.name,n.value),t.exports.getContext=(t,e,n,r)=>"style"===e&&(n.eventSource=r,n)},function(t,e){t.exports=function(t,e,n,r){for(var o=-1,i=null==t?0:t.length;++o<i;){var s=t[o];e(r,s,n(s),t)}return r}},function(t,e,n){var r=n(33);t.exports=function(t,e,n,o){return r(t,(function(t,r,i){e(o,t,n(t),i)})),o}},function(t,e,n){const r=n(5),o=n(28),i=n(187),s=n(185);function a(t,e){return t.name>e.name?1:t.name<e.name?-1:0}t.exports=class{constructor({name:t,label:e,description:n,iconUrl:s,directives:a,properties:c,allowedParents:u,excludeFromTextCount:p}){this.name=t,this.properties=c,this.allowedParents=u,this.description=n,this.iconUrl=s,this.excludeFromTextCount=p,r.param(this.name,"new ComponentStructure()","name"),this.label=e||o.humanize(this.name),this.styles=this.properties=this.properties||{},this.directives=new i({directives:a}),this.allowedParents&&r(this.allowedParents.length,"AllowedParents must be an array or undefined")}setDesign(t){this.design=t,this.identifier=`${t.name}.${this.name}`}setSkin(t){this.skin=t}getSkin(){return this.skin?this.skin:this.design?this.design.getComponentSkin(this.name):void 0}createModel({id:t}={}){return new s({id:t,structure:this})}equals(t){if(this.design&&t&&t.design)return this.design.identifier===t.design.identifier&&this.name===t.name;throw new Error("Can not determine component structure equality: not implemented")}info(){const t={name:this.name,directives:[],styles:[]};for(const{name:e,type:n}of this.directives)t.directives.push({name:e,type:n});for(const e of Object.keys(this.properties))t.properties.push({name:e,type:"cssModificator"});return t.directives.sort(a),t.properties.sort(a),t}isSkinCompatible(t){}}},function(t,e,n){const r=n(5),o=n(39);t.exports=class{constructor({name:t,dom:e}){this.name=t,this.dom=e,r.param(this.name,"new ComponentSkin","name"),r.param(this.dom,"new ComponentSkin","dom"),this.assertRootElem()}assertRootElem(){r(1===this.dom.length,`Invalid HTML Template: The component '${this.name}' has more than one `+"root element in its HTML template. Please wrap your markup in one element.")}toHtml(t){return o(this.dom,t)}}},function(t,e,n){const r=n(407),o=n(106),i=n(414);t.exports=function(t){const e=o(r(t));if(!e.length)throw new Error("no template provided");if(e.length>1)throw new Error("more than one root element. Please wrap your markup in one element");const n=new i(e);return{directives:n.directives,skin:n.tree.children}}},function(t,e,n){var r=n(135),o=n(408),i=n(409),s=n(410),a=n(411),c=n(86),u=/^\s+|\s+$/g;t.exports=function(t,e,n){if((t=c(t))&&(n||void 0===e))return t.replace(u,"");if(!t||!(e=r(e)))return t;var p=a(t),l=a(e),h=s(p,l),d=i(p,l)+1;return o(p,h,d).join("")}},function(t,e,n){var r=n(109);t.exports=function(t,e,n){var o=t.length;return n=void 0===n?o:n,!e&&n>=o?t:r(t,e,n)}},function(t,e,n){var r=n(104);t.exports=function(t,e){for(var n=t.length;n--&&r(e,t[n],0)>-1;);return n}},function(t,e,n){var r=n(104);t.exports=function(t,e){for(var n=-1,o=t.length;++n<o&&r(e,t[n],0)>-1;);return n}},function(t,e,n){var r=n(412),o=n(193),i=n(413);t.exports=function(t){return o(t)?i(t):r(t)}},function(t,e){t.exports=function(t){return t.split("")}},function(t,e){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+o+")"+"?",u="[\\ufe0e\\ufe0f]?"+c+("(?:\\u200d(?:"+[i,s,a].join("|")+")[\\ufe0e\\ufe0f]?"+c+")*"),p="(?:"+[i+r+"?",r,s,a,n].join("|")+")",l=RegExp(o+"(?="+o+")|"+p+u,"g");t.exports=function(t){return t.match(l)||[]}},function(t,e,n){const r=n(415),o=n(417),i=n(2),{decodeHTML:s}=n(61),{log:a}=n(1),c=n(28),u=n(421),p=n(39),l=n(110),h=n(422);t.exports=class{constructor(t){this.directives=[],this.tree=this.parseNode({type:"fragment",children:t})}parseNode(t){switch(t.type){case"text":return this.parseTextNode(t);case"tag":case"fragment":return this.parseElementNode(t);case"comment":case"script":return;default:throw new Error(`Parsing component template: Unrecognized node type '${t.type}'`)}}parseTextNode(t){return{type:"text",data:t.data}}parseElementNode(t){let e=!1;const n={type:t.type};if(t.name&&(n.name=t.name),t.attribs){const r=h.parseAttributes(t.attribs),o=r.attributes;if(o&&(n.attribs=o),r.directives){const o=this.parseDirectives(r.directives,t),i=o.directives;e=o.skipChildren;const s={};for(const t of i)s[t.type]=t.name;n.directives=s,this.directives=this.directives.concat(i)}}if(!e&&t.children&&t.children.length)for(const e of t.children){const t=this.parseNode(e);t&&(n.children||(n.children=[]),n.children.push(t))}return n}parseDirectives(t,e){let n,o={};for(const{name:r,type:i}of Array.from(t)){l.doesOverwriteContent(i)&&(n=!0);const t=this.createDirective(r,i,e);o[i]=t}return o=this.processOptionalDirective(o,e),{directives:t=r(o),skipChildren:n}}createDirective(t,e,n){const r={type:e,name:t};let o,i;switch(e){case"editable":o=this.getText(n),o=c.trim(o),o=s(o),r.placeholder=o,r.tag=n.name;break;case"image":r.tag=n.name,r.setAsBackground="img"!==n.name;break;case"html":case"include":i=this.getContentHtml(n),r.placeholder=i}return r}processOptionalDirective(t,e){if(t.optional){let n;return(n=t.editable)?n.optional=!0:a.error(`<${e.name}>: doc-optional can only be used in conjunction with doc-editable`),o(t,"optional")}return t}getText(t){let e,n="";const r=new u({firstNode:t,isRoot:!0});for(;e=r.next();)"text"===e.type&&(n+=e.data);return n}getContentHtml(t){if(i(t,"children.length"))return p(t.children)}}},function(t,e,n){var r=n(416),o=n(14);t.exports=function(t){return null==t?[]:r(t,o(t))}},function(t,e,n){var r=n(11);t.exports=function(t,e){return r(e,(function(e){return t[e]}))}},function(t,e,n){var r=n(11),o=n(52),i=n(199),s=n(26),a=n(25),c=n(420),u=n(87),p=n(83),l=u((function(t,e){var n={};if(null==t)return n;var u=!1;e=r(e,(function(e){return e=s(e,t),u||(u=e.length>1),e})),a(t,p(t),n),u&&(n=o(n,7,c));for(var l=e.length;l--;)i(n,e[l]);return n}));t.exports=l},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,n){var r=n(60),o=n(109);t.exports=function(t,e){return e.length<2?t:r(t,o(e,0,-1))}},function(t,e,n){var r=n(40);t.exports=function(t){return r(t)?void 0:t}},function(t,e){t.exports=class{constructor({firstNode:t,isRoot:e}){this._next=t,this.current=t,e&&(this.root=t)}next(){let t=this.current=this._next;if(this.current){let e;if(t.children&&t.children.length&&(e=t.children[0]),e&&"tag"===t.type)this._next=e;else{let e;for(;t&&t!==this.root&&!(e=t.next);)t=t.parent;this._next=e}}return this.current}nextElement(){for(;this.next()&&"tag"!==this.current.type;);return this.current}detach(){this.root=null,this._next=null,this.current=null}}},function(t,e,n){const r=/^(doc-|data-doc-|x-doc-)(.*)/,o=/(^| )doc-section($| )/,i=n(110);t.exports={parseAttributes(t){let e,n;for(const r of Object.keys(t)){const o=t[r],i=this.scanAttribute(r,o,!0);i?(n||(n=[]),n.push(i)):(e||(e={}),e[r]=o)}return{attributes:e,directives:n}},getDirectiveTypes(t){if(!t||!t.length)return;const e={};let n=!1;for(const r of Array.from(t||[])){const t=r.name||r.nodeName,o=r.value||r.nodeValue,i=this.scanAttribute(t,o);i&&(n=!0,e[i.type]=i.name)}return n?e:void 0},scanAttribute(t,e,n){let s=r.exec(t);if(s){const r=s[2];if(i.exists(r))return{type:r,name:e};if(n)throw new Error(`Unrecognized directive attribute '${t}'`)}else if("class"===t&&(s=o.exec(e),s))return{type:"container",name:"content"}},convertBrowserAttributes(t){if(t&&t.length)return Array.from(t||[]).reduce((t,e)=>(t[e.name||e.nodeName]=e.value||e.nodeValue,t),{})}}},function(t,e,n){const r=n(200),o=n(112),i=r.new();t.exports=i,i.add("container",{type:"string",name:"string",allowedChildren:"array of string, optional",defaultContent:"array of object, optional",defaultComponents:{__validate:"optional",paragraph:"string, optional",image:"string, optional"},__additionalProperty:(t,e)=>!1}),i.add("editable",{type:"string",name:"string",tag:"string",placeholder:"string, optional",optional:"boolean, optional",plainText:"boolean, optional",tagWhitelist:"array of string, optional",tagBlacklist:"array of string, optional",excludeFromTextCount:"boolean, optional",maxLength:"number, optional",__additionalProperty:(t,e)=>!1}),i.add("html",{type:"string",name:"string",placeholder:"string, optional",__additionalProperty:(t,e)=>!1}),i.add("include",{type:"string",name:"string",label:"string, optional",placeholder:"string, optional",service:"string, optional",defaultParams:"object, optional",services:"array of service, optional",config:"object, optional",__additionalProperty:(t,e)=>!1}),i.add("image",{type:"string",name:"string",tag:"string",setAsBackground:"boolean",imageRatios:"array of imageRatio, optional",allowOriginalRatio:"boolean, optional",srcSet:{__validate:"optional",defaultWidth:"number, optional",widths:"array of number, optional",sizes:"array of string, optional"},backgroundImage:{__validate:"optional",maxWidth:"number, optional"},__additionalProperty:(t,e)=>!1}),i.add("imageRatio",(function(t){return t instanceof o||"must be an ImageRatio instance"})),i.add("service",{service:"string",label:"string",defaultParams:"object, optional",config:"object, optional",__additionalProperty:(t,e)=>!1}),i.add("link",{type:"string",name:"string",prefill:"object, optional",__additionalProperty:(t,e)=>!1}),i.add("optional",{type:"string",name:"string, optional",__additionalProperty:(t,e)=>!1}),i.add("toggle",{type:"string",name:"string",default:"boolean, optional",label:"string, optional",__additionalProperty:(t,e)=>!1}),i.add("style",{type:"string",name:"string",properties:"object, optional",__additionalProperty:(t,e)=>!1})},function(t,e,n){var r,o,i,s;o=n(425),r=n(426),s=n(427),i=n(111),t.exports=function(){var t;function e(){this.validators=Object.create(s),this.schemas={},this.propertiesRequired=!0,this.allowAdditionalProperties=!0}return t=/^[a-zA-Z]\w*$/,e.prototype.configure=function(t){this.propertiesRequired=t.propertiesRequired,this.allowAdditionalProperties=t.allowAdditionalProperties},e.prototype.add=function(t,e){return i.isFunction(e)?this.addValidator(t,e):this.addSchema(t,this.parseConfigObj(e,void 0,t)),this},e.prototype.addSchema=function(t,e){if(null!=this.validators[t])throw new Error("A validator is alredy registered under this name: "+t);var n;return this.schemas[t]=e,this.validators[t]=(n=this,function(t){var r;return!(r=n.recursiveValidate(e,t)).hasErrors()||r}),this},e.prototype.addValidator=function(t,e){return this.validators[t]=e,this},e.prototype.validate=function(t,e){var n;return this.errors=void 0,null==(n=this.schemas[t])?(this.errors=new o,this.errors.add("missing schema",{location:t}),!1):(this.errors=this.recursiveValidate(n,e).setRoot(t),!this.errors.hasErrors())},e.prototype.hasErrors=function(){var t;return null!=(t=this.errors)?t.hasErrors():void 0},e.prototype.getErrorMessages=function(){var t;return null!=(t=this.errors)?t.getMessages():void 0},e.prototype.recursiveValidate=function(t,e){var n,r,s,a,c;for(r in s=t.__validator,n=new o,s.validate(e,n),e)c=e[r],null!=t[r]?(a=t[r].__validator).validate(c,n)&&null==a.childSchemaName&&i.isObject(c)&&n.join(this.recursiveValidate(t[r],c)):s.validateOtherProperty(r,c,n);return n},e.prototype.parseConfigObj=function(t,e){var n,o,s;for(n in null==e&&(e=new r({inputString:"object",scheme:this})),t)s=t[n],this.addParentValidator(e,n,s)||(i.isString(s)?(o=new r({inputString:s,property:n,parent:e,scheme:this}),t[n]={__validator:o}):i.isObject(s)&&(o=new r({inputString:"object",property:n,parent:e,scheme:this}),t[n]=this.parseConfigObj(s,o)));return t.__validator=e,t},e.prototype.addParentValidator=function(t,e,n){switch(e){case"__validate":t.addValidations(n);break;case"__additionalProperty":i.isFunction(n)&&(t.otherPropertyValidator=n);break;default:return!1}return!0},e.prototype.writeProperty=function(e){return t.test(e)?"."+e:"['"+e+"']"},e}()},function(t,e,n){var r;r=n(111),t.exports=function(){function t(){}return t.prototype.hasErrors=function(){return null!=this.errors},t.prototype.setRoot=function(t){return this.root=t,this},t.prototype.add=function(e,n){var o,i,s,a;if(s=(a=null!=n?n:{}).location,o=a.defaultMessage,!1===e&&(e=o),void 0===e&&(e="validator returned undefined. Check your validator implementation."),null==this.errors&&(this.errors=[]),r.isString(e))this.errors.push({path:s,message:e});else if(e instanceof t)this.join(e,{location:s});else{if(!e.path||!e.message)throw new Error("ValidationError.add() unknown error type");i=e,this.errors.push({path:s+i.path,message:i.message})}return!1},t.prototype.join=function(t,e){var n,r,o,i,s,a;if(r=t.errors,o=(null!=e?e:{}).location,null!=r&&r.length){for(null==this.errors&&(this.errors=[]),a=[],i=0,s=r.length;i<s;i++)n=r[i],a.push(this.errors.push({path:(o||"")+n.path,message:n.message}));return a}},t.prototype.getMessages=function(){var t,e,n,r,o;for(e=[],n=0,r=(o=this.errors||[]).length;n<r;n++)t=o[n],e.push(""+(this.root||"")+t.path+": "+t.message);return e},t}()},function(t,e){t.exports=function(){var t;function e(t){var e;this.inputString=t.inputString,this.scheme=t.scheme,this.property=t.property,this.parent=t.parent,this.validators=[],this.location=this.getLocation(),this.scheme.propertiesRequired&&null!=(e=this.parent)&&e.addRequiredProperty(this.property),this.addValidations(this.inputString)}return t=/\w[\w ]*\w/g,e.prototype.getLocation=function(){return null==this.property?"":null!=this.parent?this.parent.location+this.scheme.writeProperty(this.property):this.scheme.writeProperty(this.property)},e.prototype.getPropLocation=function(t){return""+this.location+this.scheme.writeProperty(t)},e.prototype.addValidations=function(e){for(var n,r;n=t.exec(e);)"optional"===(r=n[0])?this.parent.removeRequiredProperty(this.property):"required"===r?this.parent.addRequiredProperty(this.property):0===r.indexOf("array of ")?(this.validators.push("array"),this.arrayValidator=r.slice(9)):-1!==r.indexOf(" or ")?(r.split(" or "),console.log("todo")):this.validators.push(r)},e.prototype.validate=function(t,e){var n,r,o,i,s,a,c,u;if(n=!0,null==t&&this.isOptional())return n;for(s=this.scheme.validators,a=0,c=(u=this.validators||[]).length;a<c;a++){if(null==(i=s[r=u[a]]))return e.add("missing validator "+r,{location:this.location});!0!==(o=i(t))&&(e.add(o,{location:this.location,defaultMessage:r+" validator failed"}),n=!1)}return!!(n=this.validateArray(t,e))&&(!!(n=this.validateRequiredProperties(t,e))&&n)},e.prototype.validateArray=function(t,e){var n,r,o,i,s,a,c,u;if(null==this.arrayValidator)return!0;if(r=!0,null==(s=this.scheme.validators[this.arrayValidator]))return e.add("missing validator "+this.arrayValidator,{location:this.location});for(n=a=0,c=(u=t||[]).length;a<c;n=++a)!0!==(i=s(u[n]))&&(o=this.location+"["+n+"]",e.add(i,{location:o,defaultMessage:this.arrayValidator+" validator failed"}),r=!1);return r},e.prototype.validateOtherProperty=function(t,e,n){return null!=this.otherPropertyValidator?(this.scheme.errors=void 0,!!this.otherPropertyValidator.call(this,t,e)||(null!=this.scheme.errors?n.join(this.scheme.errors,{location:this.getPropLocation(t)}):n.add("additional property check failed",{location:this.getPropLocation(t)}),!1)):!!this.scheme.allowAdditionalProperties||(n.add("unspecified additional property",{location:this.getPropLocation(t)}),!1)},e.prototype.validateRequiredProperties=function(t,e){var n,r,o,i;for(o in r=!0,i=this.requiredProperties)n=i[o],null==t[o]&&n&&(e.add("required property missing",{location:this.getPropLocation(o)}),r=!1);return r},e.prototype.addRequiredProperty=function(t){return null==this.requiredProperties&&(this.requiredProperties={}),this.requiredProperties[t]=!0},e.prototype.removeRequiredProperty=function(t){var e;return null!=(e=this.requiredProperties)?e[t]=void 0:void 0},e.prototype.isOptional=function(){if(null!=this.parent)return!0==!this.parent.requiredProperties[this.property]},e}()},function(t,e,n){var r;r=n(111),t.exports={object:function(t){return r.isObject(t)},string:function(t){return r.isString(t)},boolean:function(t){return r.isBoolean(t)},number:function(t){return r.isNumber(t)},function:function(t){return r.isFunction(t)},date:function(t){return r.isDate(t)},regexp:function(t){return r.isRegExp(t)},array:function(t){return r.isArray(t)},falsy:function(t){return!1==!!t},truthy:function(t){return!0==!!t},"not empty":function(t){return!0==!!t},deprecated:function(t){return!0}}},function(t,e){const n={format:"text/html",prettyHtml:!1,decodeHtml:!1,renderDirectiveInfo:!1};t.exports=class{constructor({settings:t}){this.settings={...n,...t}}}},function(t,e,n){const r=n(116);t.exports={render({req:t,components:e}){if("text/json"===t.settings.format)return this.renderJson({req:t,components:e});let n="";for(const o of e)n+=r.renderComponent(o,t.settings);return n},renderJson({req:t,components:e}){const n=[];for(const o of e)n.push(r.renderComponent(o,t.settings));return n}}},function(t,e,n){const{assert:r}=n(1),o=n(202),i=n(113),s=n(112),a=n(435),{parseComponent:c}=n(43);t.exports={parse(t,e={}){this.validateSchema(t);const n=this.parseDesignInfo(t),r=new i(n);try{return this.parseDesignConfig(t,r,e)}catch(t){throw t.message=`Parsing design ${r.identifier}: ${t.message}`,t}},parseDesignInfo(t){const{name:e,label:n,version:r,author:o,description:i}=t;return{name:e,label:n,version:r,author:o,description:i}},parseDesignConfig(t,e,n){e.metadata=t.metadata,e.wrapper=t.wrapper,e.groups=t.groups,e.layouts=t.layouts,e.defaultLayout=t.defaultLayout,e.defaultContent=t.defaultContent,e.prefilledComponents=t.prefilledComponents;const{assets:r,imageRatios:o,componentProperties:i}=t;e.dependencies.parseAssetsDeclaration(r),this.addImageRatios(o,e),e.properties=this.parseComponentProperties(i);const{components:s,defaultComponents:a}=t;return this.addComponents(s,e,n),this.parseDefaultComponents(a,e),e},parseComponentProperties:t=>t?Object.keys(t).reduce((e,n)=>{const r=t[n];return r.name=n,e[n]=new o(r),e},{}):{},addImageRatios(t,e){if(t)for(const n of Object.keys(t)){const{ratio:r,label:o}=t[n];e.imageRatios[n]=new s({name:n,label:o,ratio:r})}},addComponents(t,e,{strict:n}={}){t.forEach(t=>{try{const n=c(t,e);e.addComponent(n)}catch(e){if("DuplicateComponentError"===e.name&&!n)return;throw e.message=`component ${t.name}: ${e.message}`,e}})},parseDefaultComponents(t,e){if(!t)return;const{paragraph:n,image:r,html:o}=t,i=e.getMissingComponents(n,r,o);if(i)throw new Error(`Could not find components '${i.join("', '")}'`);e.setDefaultParagraph({name:n}),e.setDefaultImage({name:r}),e.setDefaultHtml({name:o})},assertComponent(t,e){t&&r(e.hasComponent(t),`Could not find component '${t}'`)},validateSchema(t){if(a.validate("design",t))return!0;throw new Error(a.getErrorMessages())}}},function(t,e){var n;e=t.exports=l,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("SEMVER"),console.log.apply(console,t)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var r=Number.MAX_SAFE_INTEGER||9007199254740991,o=e.re=[],i=e.src=[],s=e.tokens={},a=0;function c(t){s[t]=a++}c("NUMERICIDENTIFIER"),i[s.NUMERICIDENTIFIER]="0|[1-9]\\d*",c("NUMERICIDENTIFIERLOOSE"),i[s.NUMERICIDENTIFIERLOOSE]="[0-9]+",c("NONNUMERICIDENTIFIER"),i[s.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*",c("MAINVERSION"),i[s.MAINVERSION]="("+i[s.NUMERICIDENTIFIER]+")\\.("+i[s.NUMERICIDENTIFIER]+")\\.("+i[s.NUMERICIDENTIFIER]+")",c("MAINVERSIONLOOSE"),i[s.MAINVERSIONLOOSE]="("+i[s.NUMERICIDENTIFIERLOOSE]+")\\.("+i[s.NUMERICIDENTIFIERLOOSE]+")\\.("+i[s.NUMERICIDENTIFIERLOOSE]+")",c("PRERELEASEIDENTIFIER"),i[s.PRERELEASEIDENTIFIER]="(?:"+i[s.NUMERICIDENTIFIER]+"|"+i[s.NONNUMERICIDENTIFIER]+")",c("PRERELEASEIDENTIFIERLOOSE"),i[s.PRERELEASEIDENTIFIERLOOSE]="(?:"+i[s.NUMERICIDENTIFIERLOOSE]+"|"+i[s.NONNUMERICIDENTIFIER]+")",c("PRERELEASE"),i[s.PRERELEASE]="(?:-("+i[s.PRERELEASEIDENTIFIER]+"(?:\\."+i[s.PRERELEASEIDENTIFIER]+")*))",c("PRERELEASELOOSE"),i[s.PRERELEASELOOSE]="(?:-?("+i[s.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+i[s.PRERELEASEIDENTIFIERLOOSE]+")*))",c("BUILDIDENTIFIER"),i[s.BUILDIDENTIFIER]="[0-9A-Za-z-]+",c("BUILD"),i[s.BUILD]="(?:\\+("+i[s.BUILDIDENTIFIER]+"(?:\\."+i[s.BUILDIDENTIFIER]+")*))",c("FULL"),c("FULLPLAIN"),i[s.FULLPLAIN]="v?"+i[s.MAINVERSION]+i[s.PRERELEASE]+"?"+i[s.BUILD]+"?",i[s.FULL]="^"+i[s.FULLPLAIN]+"$",c("LOOSEPLAIN"),i[s.LOOSEPLAIN]="[v=\\s]*"+i[s.MAINVERSIONLOOSE]+i[s.PRERELEASELOOSE]+"?"+i[s.BUILD]+"?",c("LOOSE"),i[s.LOOSE]="^"+i[s.LOOSEPLAIN]+"$",c("GTLT"),i[s.GTLT]="((?:<|>)?=?)",c("XRANGEIDENTIFIERLOOSE"),i[s.XRANGEIDENTIFIERLOOSE]=i[s.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",c("XRANGEIDENTIFIER"),i[s.XRANGEIDENTIFIER]=i[s.NUMERICIDENTIFIER]+"|x|X|\\*",c("XRANGEPLAIN"),i[s.XRANGEPLAIN]="[v=\\s]*("+i[s.XRANGEIDENTIFIER]+")(?:\\.("+i[s.XRANGEIDENTIFIER]+")(?:\\.("+i[s.XRANGEIDENTIFIER]+")(?:"+i[s.PRERELEASE]+")?"+i[s.BUILD]+"?)?)?",c("XRANGEPLAINLOOSE"),i[s.XRANGEPLAINLOOSE]="[v=\\s]*("+i[s.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+i[s.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+i[s.XRANGEIDENTIFIERLOOSE]+")(?:"+i[s.PRERELEASELOOSE]+")?"+i[s.BUILD]+"?)?)?",c("XRANGE"),i[s.XRANGE]="^"+i[s.GTLT]+"\\s*"+i[s.XRANGEPLAIN]+"$",c("XRANGELOOSE"),i[s.XRANGELOOSE]="^"+i[s.GTLT]+"\\s*"+i[s.XRANGEPLAINLOOSE]+"$",c("COERCE"),i[s.COERCE]="(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])",c("COERCERTL"),o[s.COERCERTL]=new RegExp(i[s.COERCE],"g"),c("LONETILDE"),i[s.LONETILDE]="(?:~>?)",c("TILDETRIM"),i[s.TILDETRIM]="(\\s*)"+i[s.LONETILDE]+"\\s+",o[s.TILDETRIM]=new RegExp(i[s.TILDETRIM],"g");c("TILDE"),i[s.TILDE]="^"+i[s.LONETILDE]+i[s.XRANGEPLAIN]+"$",c("TILDELOOSE"),i[s.TILDELOOSE]="^"+i[s.LONETILDE]+i[s.XRANGEPLAINLOOSE]+"$",c("LONECARET"),i[s.LONECARET]="(?:\\^)",c("CARETTRIM"),i[s.CARETTRIM]="(\\s*)"+i[s.LONECARET]+"\\s+",o[s.CARETTRIM]=new RegExp(i[s.CARETTRIM],"g");c("CARET"),i[s.CARET]="^"+i[s.LONECARET]+i[s.XRANGEPLAIN]+"$",c("CARETLOOSE"),i[s.CARETLOOSE]="^"+i[s.LONECARET]+i[s.XRANGEPLAINLOOSE]+"$",c("COMPARATORLOOSE"),i[s.COMPARATORLOOSE]="^"+i[s.GTLT]+"\\s*("+i[s.LOOSEPLAIN]+")$|^$",c("COMPARATOR"),i[s.COMPARATOR]="^"+i[s.GTLT]+"\\s*("+i[s.FULLPLAIN]+")$|^$",c("COMPARATORTRIM"),i[s.COMPARATORTRIM]="(\\s*)"+i[s.GTLT]+"\\s*("+i[s.LOOSEPLAIN]+"|"+i[s.XRANGEPLAIN]+")",o[s.COMPARATORTRIM]=new RegExp(i[s.COMPARATORTRIM],"g");c("HYPHENRANGE"),i[s.HYPHENRANGE]="^\\s*("+i[s.XRANGEPLAIN]+")\\s+-\\s+("+i[s.XRANGEPLAIN]+")\\s*$",c("HYPHENRANGELOOSE"),i[s.HYPHENRANGELOOSE]="^\\s*("+i[s.XRANGEPLAINLOOSE]+")\\s+-\\s+("+i[s.XRANGEPLAINLOOSE]+")\\s*$",c("STAR"),i[s.STAR]="(<|>)?=?\\s*\\*";for(var u=0;u<a;u++)n(u,i[u]),o[u]||(o[u]=new RegExp(i[u]));function p(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof l)return t;if("string"!=typeof t)return null;if(t.length>256)return null;if(!(e.loose?o[s.LOOSE]:o[s.FULL]).test(t))return null;try{return new l(t,e)}catch(t){return null}}function l(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof l){if(t.loose===e.loose)return t;t=t.version}else if("string"!=typeof t)throw new TypeError("Invalid Version: "+t);if(t.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof l))return new l(t,e);n("SemVer",t,e),this.options=e,this.loose=!!e.loose;var i=t.trim().match(e.loose?o[s.LOOSE]:o[s.FULL]);if(!i)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map((function(t){if(/^[0-9]+$/.test(t)){var e=+t;if(e>=0&&e<r)return e}return t})):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}e.parse=p,e.valid=function(t,e){var n=p(t,e);return n?n.version:null},e.clean=function(t,e){var n=p(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null},e.SemVer=l,l.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},l.prototype.toString=function(){return this.version},l.prototype.compare=function(t){return n("SemVer.compare",this.version,this.options,t),t instanceof l||(t=new l(t,this.options)),this.compareMain(t)||this.comparePre(t)},l.prototype.compareMain=function(t){return t instanceof l||(t=new l(t,this.options)),d(this.major,t.major)||d(this.minor,t.minor)||d(this.patch,t.patch)},l.prototype.comparePre=function(t){if(t instanceof l||(t=new l(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var e=0;do{var r=this.prerelease[e],o=t.prerelease[e];if(n("prerelease compare",e,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return d(r,o)}while(++e)},l.prototype.compareBuild=function(t){t instanceof l||(t=new l(t,this.options));var e=0;do{var r=this.build[e],o=t.build[e];if(n("prerelease compare",e,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return d(r,o)}while(++e)},l.prototype.inc=function(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e),this.inc("pre",e);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+t)}return this.format(),this.raw=this.version,this},e.inc=function(t,e,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new l(t,n).inc(e,r).version}catch(t){return null}},e.diff=function(t,e){if(v(t,e))return null;var n=p(t),r=p(e),o="";if(n.prerelease.length||r.prerelease.length){o="pre";var i="prerelease"}for(var s in n)if(("major"===s||"minor"===s||"patch"===s)&&n[s]!==r[s])return o+s;return i},e.compareIdentifiers=d;var h=/^[0-9]+$/;function d(t,e){var n=h.test(t),r=h.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1}function f(t,e,n){return new l(t,n).compare(new l(e,n))}function m(t,e,n){return f(t,e,n)>0}function g(t,e,n){return f(t,e,n)<0}function v(t,e,n){return 0===f(t,e,n)}function y(t,e,n){return 0!==f(t,e,n)}function _(t,e,n){return f(t,e,n)>=0}function b(t,e,n){return f(t,e,n)<=0}function x(t,e,n,r){switch(e){case"===":return"object"==typeof t&&(t=t.version),"object"==typeof n&&(n=n.version),t===n;case"!==":return"object"==typeof t&&(t=t.version),"object"==typeof n&&(n=n.version),t!==n;case"":case"=":case"==":return v(t,n,r);case"!=":return y(t,n,r);case">":return m(t,n,r);case">=":return _(t,n,r);case"<":return g(t,n,r);case"<=":return b(t,n,r);default:throw new TypeError("Invalid operator: "+e)}}function C(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof C){if(t.loose===!!e.loose)return t;t=t.value}if(!(this instanceof C))return new C(t,e);n("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===w?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}e.rcompareIdentifiers=function(t,e){return d(e,t)},e.major=function(t,e){return new l(t,e).major},e.minor=function(t,e){return new l(t,e).minor},e.patch=function(t,e){return new l(t,e).patch},e.compare=f,e.compareLoose=function(t,e){return f(t,e,!0)},e.compareBuild=function(t,e,n){var r=new l(t,n),o=new l(e,n);return r.compare(o)||r.compareBuild(o)},e.rcompare=function(t,e,n){return f(e,t,n)},e.sort=function(t,n){return t.sort((function(t,r){return e.compareBuild(t,r,n)}))},e.rsort=function(t,n){return t.sort((function(t,r){return e.compareBuild(r,t,n)}))},e.gt=m,e.lt=g,e.eq=v,e.neq=y,e.gte=_,e.lte=b,e.cmp=x,e.Comparator=C;var w={};function I(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof I)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new I(t.raw,e);if(t instanceof C)return new I(t.value,e);if(!(this instanceof I))return new I(t,e);if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map((function(t){return this.parseRange(t.trim())}),this).filter((function(t){return t.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+t);this.format()}function E(t,e){for(var n=!0,r=t.slice(),o=r.pop();n&&r.length;)n=r.every((function(t){return o.intersects(t,e)})),o=r.pop();return n}function T(t){return!t||"x"===t.toLowerCase()||"*"===t}function S(t,e,n,r,o,i,s,a,c,u,p,l,h){return((e=T(n)?"":T(r)?">="+n+".0.0":T(o)?">="+n+"."+r+".0":">="+e)+" "+(a=T(c)?"":T(u)?"<"+(+c+1)+".0.0":T(p)?"<"+c+"."+(+u+1)+".0":l?"<="+c+"."+u+"."+p+"-"+l:"<="+a)).trim()}function A(t,e,r){for(var o=0;o<t.length;o++)if(!t[o].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(o=0;o<t.length;o++)if(n(t[o].semver),t[o].semver!==w&&t[o].semver.prerelease.length>0){var i=t[o].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}function D(t,e,n){try{e=new I(e,n)}catch(t){return!1}return e.test(t)}function P(t,e,n,r){var o,i,s,a,c;switch(t=new l(t,r),e=new I(e,r),n){case">":o=m,i=b,s=g,a=">",c=">=";break;case"<":o=g,i=_,s=m,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(D(t,e,r))return!1;for(var u=0;u<e.set.length;++u){var p=e.set[u],h=null,d=null;if(p.forEach((function(t){t.semver===w&&(t=new C(">=0.0.0")),h=h||t,d=d||t,o(t.semver,h.semver,r)?h=t:s(t.semver,d.semver,r)&&(d=t)})),h.operator===a||h.operator===c)return!1;if((!d.operator||d.operator===a)&&i(t,d.semver))return!1;if(d.operator===c&&s(t,d.semver))return!1}return!0}C.prototype.parse=function(t){var e=this.options.loose?o[s.COMPARATORLOOSE]:o[s.COMPARATOR],n=t.match(e);if(!n)throw new TypeError("Invalid comparator: "+t);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new l(n[2],this.options.loose):this.semver=w},C.prototype.toString=function(){return this.value},C.prototype.test=function(t){if(n("Comparator.test",t,this.options.loose),this.semver===w||t===w)return!0;if("string"==typeof t)try{t=new l(t,this.options)}catch(t){return!1}return x(t,this.operator,this.semver,this.options)},C.prototype.intersects=function(t,e){if(!(t instanceof C))throw new TypeError("a Comparator is required");var n;if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),""===this.operator)return""===this.value||(n=new I(t.value,e),D(this.value,n,e));if(""===t.operator)return""===t.value||(n=new I(this.value,e),D(t.semver,n,e));var r=!(">="!==this.operator&&">"!==this.operator||">="!==t.operator&&">"!==t.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==t.operator&&"<"!==t.operator),i=this.semver.version===t.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==t.operator&&"<="!==t.operator),a=x(this.semver,"<",t.semver,e)&&(">="===this.operator||">"===this.operator)&&("<="===t.operator||"<"===t.operator),c=x(this.semver,">",t.semver,e)&&("<="===this.operator||"<"===this.operator)&&(">="===t.operator||">"===t.operator);return r||o||i&&s||a||c},e.Range=I,I.prototype.format=function(){return this.range=this.set.map((function(t){return t.join(" ").trim()})).join("||").trim(),this.range},I.prototype.toString=function(){return this.range},I.prototype.parseRange=function(t){var e=this.options.loose;t=t.trim();var r=e?o[s.HYPHENRANGELOOSE]:o[s.HYPHENRANGE];t=t.replace(r,S),n("hyphen replace",t),t=t.replace(o[s.COMPARATORTRIM],"$1$2$3"),n("comparator trim",t,o[s.COMPARATORTRIM]),t=(t=(t=t.replace(o[s.TILDETRIM],"$1~")).replace(o[s.CARETTRIM],"$1^")).split(/\s+/).join(" ");var i=e?o[s.COMPARATORLOOSE]:o[s.COMPARATOR],a=t.split(" ").map((function(t){return function(t,e){return n("comp",t,e),t=function(t,e){return t.trim().split(/\s+/).map((function(t){return function(t,e){n("caret",t,e);var r=e.loose?o[s.CARETLOOSE]:o[s.CARET];return t.replace(r,(function(e,r,o,i,s){var a;return n("caret",t,e,r,o,i,s),T(r)?a="":T(o)?a=">="+r+".0.0 <"+(+r+1)+".0.0":T(i)?a="0"===r?">="+r+"."+o+".0 <"+r+"."+(+o+1)+".0":">="+r+"."+o+".0 <"+(+r+1)+".0.0":s?(n("replaceCaret pr",s),a="0"===r?"0"===o?">="+r+"."+o+"."+i+"-"+s+" <"+r+"."+o+"."+(+i+1):">="+r+"."+o+"."+i+"-"+s+" <"+r+"."+(+o+1)+".0":">="+r+"."+o+"."+i+"-"+s+" <"+(+r+1)+".0.0"):(n("no pr"),a="0"===r?"0"===o?">="+r+"."+o+"."+i+" <"+r+"."+o+"."+(+i+1):">="+r+"."+o+"."+i+" <"+r+"."+(+o+1)+".0":">="+r+"."+o+"."+i+" <"+(+r+1)+".0.0"),n("caret return",a),a}))}(t,e)})).join(" ")}(t,e),n("caret",t),t=function(t,e){return t.trim().split(/\s+/).map((function(t){return function(t,e){var r=e.loose?o[s.TILDELOOSE]:o[s.TILDE];return t.replace(r,(function(e,r,o,i,s){var a;return n("tilde",t,e,r,o,i,s),T(r)?a="":T(o)?a=">="+r+".0.0 <"+(+r+1)+".0.0":T(i)?a=">="+r+"."+o+".0 <"+r+"."+(+o+1)+".0":s?(n("replaceTilde pr",s),a=">="+r+"."+o+"."+i+"-"+s+" <"+r+"."+(+o+1)+".0"):a=">="+r+"."+o+"."+i+" <"+r+"."+(+o+1)+".0",n("tilde return",a),a}))}(t,e)})).join(" ")}(t,e),n("tildes",t),t=function(t,e){return n("replaceXRanges",t,e),t.split(/\s+/).map((function(t){return function(t,e){t=t.trim();var r=e.loose?o[s.XRANGELOOSE]:o[s.XRANGE];return t.replace(r,(function(r,o,i,s,a,c){n("xRange",t,r,o,i,s,a,c);var u=T(i),p=u||T(s),l=p||T(a),h=l;return"="===o&&h&&(o=""),c=e.includePrerelease?"-0":"",u?r=">"===o||"<"===o?"<0.0.0-0":"*":o&&h?(p&&(s=0),a=0,">"===o?(o=">=",p?(i=+i+1,s=0,a=0):(s=+s+1,a=0)):"<="===o&&(o="<",p?i=+i+1:s=+s+1),r=o+i+"."+s+"."+a+c):p?r=">="+i+".0.0"+c+" <"+(+i+1)+".0.0"+c:l&&(r=">="+i+"."+s+".0"+c+" <"+i+"."+(+s+1)+".0"+c),n("xRange return",r),r}))}(t,e)})).join(" ")}(t,e),n("xrange",t),t=function(t,e){return n("replaceStars",t,e),t.trim().replace(o[s.STAR],"")}(t,e),n("stars",t),t}(t,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(a=a.filter((function(t){return!!t.match(i)}))),a=a.map((function(t){return new C(t,this.options)}),this)},I.prototype.intersects=function(t,e){if(!(t instanceof I))throw new TypeError("a Range is required");return this.set.some((function(n){return E(n,e)&&t.set.some((function(t){return E(t,e)&&n.every((function(n){return t.every((function(t){return n.intersects(t,e)}))}))}))}))},e.toComparators=function(t,e){return new I(t,e).set.map((function(t){return t.map((function(t){return t.value})).join(" ").trim().split(" ")}))},I.prototype.test=function(t){if(!t)return!1;if("string"==typeof t)try{t=new l(t,this.options)}catch(t){return!1}for(var e=0;e<this.set.length;e++)if(A(this.set[e],t,this.options))return!0;return!1},e.satisfies=D,e.maxSatisfying=function(t,e,n){var r=null,o=null;try{var i=new I(e,n)}catch(t){return null}return t.forEach((function(t){i.test(t)&&(r&&-1!==o.compare(t)||(o=new l(r=t,n)))})),r},e.minSatisfying=function(t,e,n){var r=null,o=null;try{var i=new I(e,n)}catch(t){return null}return t.forEach((function(t){i.test(t)&&(r&&1!==o.compare(t)||(o=new l(r=t,n)))})),r},e.minVersion=function(t,e){t=new I(t,e);var n=new l("0.0.0");if(t.test(n))return n;if(n=new l("0.0.0-0"),t.test(n))return n;n=null;for(var r=0;r<t.set.length;++r){t.set[r].forEach((function(t){var e=new l(t.semver.version);switch(t.operator){case">":0===e.prerelease.length?e.patch++:e.prerelease.push(0),e.raw=e.format();case"":case">=":n&&!m(n,e)||(n=e);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+t.operator)}}))}if(n&&t.test(n))return n;return null},e.validRange=function(t,e){try{return new I(t,e).range||"*"}catch(t){return null}},e.ltr=function(t,e,n){return P(t,e,"<",n)},e.gtr=function(t,e,n){return P(t,e,">",n)},e.outside=P,e.prerelease=function(t,e){var n=p(t,e);return n&&n.prerelease.length?n.prerelease:null},e.intersects=function(t,e,n){return t=new I(t,n),e=new I(e,n),t.intersects(e)},e.coerce=function(t,e){if(t instanceof l)return t;"number"==typeof t&&(t=String(t));if("string"!=typeof t)return null;var n=null;if((e=e||{}).rtl){for(var r;(r=o[s.COERCERTL].exec(t))&&(!n||n.index+n[0].length!==t.length);)n&&r.index+r[0].length===n.index+n[0].length||(n=r),o[s.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;o[s.COERCERTL].lastIndex=-1}else n=t.match(o[s.COERCE]);if(null===n)return null;return p(n[2]+"."+(n[3]||"0")+"."+(n[4]||"0"),e)}},function(t,e,n){t.exports=n(433)},function(t,e){t.exports=function(t){return t&&t.length?t[0]:void 0}},function(t,e){t.exports=class{constructor(t){this.design=t,this.components=this.design.components}getTransformations({structure:t,componentName:e,oneWay:n=!1,directives:r,filter:o}){e&&(t=this.design.getComponentStructure(e));const i=[];return this.design.eachStructure(e=>{if(t.name===e.name)return;if(o&&!o(e))return;const s=this.isCompatible(t,e,{oneWay:n,directives:r});s.isCompatible&&(s.structure=e,i.push(s))}),i.length?i:void 0}getOptionsList({structure:t,componentName:e,oneWay:n,directives:r,filter:o}){e&&(t=this.design.getComponentStructure(e));const i=this.getTransformations({structure:t,oneWay:n,directives:r,filter:o}),s=[];for(const n of Array.from(i||[]))e=n.name,t=n.structure,s.push({label:t.label,componentName:e});return s}isCompatible(t,e,n={}){const r={name:e.name,isCompatible:!0,mapping:{}},o=this.getSelectedDirectives(t,n);for(const n of o){const{name:o,type:i}=n;if(!["editable","image","link"].includes(i)){r.isCompatible=!1;continue}const s=e.directives.get(o);1===t.directives.count(i)&&1===e.directives.count(i)?r.mapping[o]=e.directives[i][0].name:s&&s.type===i?r.mapping[o]=o:(r.mapping[o]=null,r.isCompatible=!1)}return n.oneWay||t.directives.length===e.directives.length||(r.isCompatible=!1),r}getSelectedDirectives(t,e){let n;return e.directives?(e.oneWay=!0,n=e.directives.map(e=>t.directives.get(e))):n=t.directives,n||[]}}},function(t,e,n){const r=n(200).new();t.exports=r,r.add("styleType",t=>"option"===t||"select"===t||"style"===t);const o=/(\d+)\.(\d+)\.(\d+)(.+)?/;r.add("semVer",t=>o.test(t)),r.add("wrapper",(function(t){return!!new RegExp("<.* (?:[^>]* |)class=(\"|')[^'\"]*doc-section[^'\"]*\\1(?: [^>]*|)>").test(t)||`design.wrapper is missing a 'doc-section' class ('${t}').`})),r.add("one empty option",(function(t){let e=0;for(const n in t){t[n].value||(e+=1)}return 1===e})),r.add("design",{name:"string",label:"string, optional",version:"string, semVer",author:"string, optional",description:"string, optional",assets:{__validate:"optional",css:"array of string",js:"array of string, optional",basePath:"string, optional"},components:"array of component",componentProperties:{__validate:"optional",__additionalProperty:(t,e)=>r.validate("componentProperty",e)},defaultComponents:{__validate:"optional",paragraph:"string, optional",image:"string, optional"},imageRatios:{__validate:"optional",__additionalProperty:(t,e)=>r.validate("imageRatio",e)},groups:"array of group, optional",metadata:"array of object, optional",wrapper:"string, wrapper, optional",layouts:"array of layout, optional",defaultLayout:"string, optional",defaultContent:"array of object, optional",prefilledComponents:"object, optional"}),r.add("component",{name:"string",label:"string, optional",description:"string, optional",iconUrl:"string, optional",html:"string",directives:"object, optional",properties:"array of string, optional",allowedParents:"array of string, optional",excludeFromTextCount:"boolean, optional",__additionalProperty:(t,e)=>!1}),r.add("group",{label:"string",components:"array of string"}),r.add("componentProperty",{label:"string, optional",type:"string, styleType",value:"string, optional",options:"array of styleOption, one empty option, optional"}),r.add("imageRatio",{label:"string, optional",ratio:"string"}),r.add("styleOption",{caption:"string",value:"string, optional"}),r.add("layout",{name:"string",caption:"string",wrapper:"wrapper",icon:"string, optional"})},function(t,e,n){const r=n(69),o=n(113),i=n(202),{parseComponent:s}=n(43);t.exports=function({v:t,name:e,version:n,designSettings:a={},components:c}){const{componentGroups:u,defaultComponents:p,componentProperties:l}=a,{fieldExtractor:h,assets:d,prefilledComponents:f}=a,m=new o({name:e,version:n});if(m.metadata=h,m.groups=u,m.prefilledComponents=f,l&&(m.properties=r(l,(t,e)=>{const n=new i(e);return t[n.name]=n,t},{})),c.forEach(t=>{try{const e=s(t,m);m.addComponent(e)}catch(e){throw e.message=`component ${t.name}: ${e.message}`,e}}),p){const{paragraph:t,image:e,html:n}=p,r=m.getMissingComponents(t,e,n);if(r)throw new Error(`Could not find components '${r.join("', '")}'`);m.setDefaultParagraph({name:t}),m.setDefaultImage({name:e}),m.setDefaultHtml({name:n})}return m.dependencies.parseAssetsDeclaration(d),m}},function(t,e,n){const r=n(5),o=n(113),i=n(201);t.exports=class{constructor(){this.designs={}}load(t,{basePath:e}={}){r(t,"design.load() was called with undefined.");const{name:n,version:s}=t;if(r(n&&s,"design.load(): The design configuration needs a name and version"),this.has(n,s))return this.get(n,s);e&&t.assets&&(t.assets.basePath=e);const a=i.parse(t);if(!a)throw new Error(o.parser.errors);return this.add(a)}add(t){return t.isNewerThan(this.designs[t.name])&&(this.designs[t.name]=t),this.designs[t.identifier]=t,this.designs[t.identifier]}has(t,e){if(!e)return!1;const n=o.getIdentifier(t,e);return!!this.designs[n]}get(t,e){r(this.has(t,e),`Error: design '${t}@${e}' is not loaded.`);const n=o.getIdentifier(t,e);return this.designs[n]}remove(t){delete this.designs[t.identifier]}resetCache(){this.designs={}}}},function(t,e,n){const r=n(439);t.exports={includes:{render(t){r.renderFunction=t}}}},function(t,e,n){const r=n(18);t.exports={renderFunction:null,renderInclude({serviceName:t,params:e},n){return!!this.renderFunction&&this.renderFunction({serviceName:t,params:e},(t,e)=>t?n(t):r(e)?n(null,{html:e}):n(null,e&&!1!==e?e:{doNotRender:!0}))}}},function(t,e,n){const{setPlacingOnRemovedComponentPatches:r}=n(441),{diffComponent:o}=n(162),i=n(442),s=n(163);function a(t,e){return t&&e&&t.id===e.id||!t&&!e}function c(t,e,n){const r=function({component:t,workingTree:e}){if(t.parentContainer.isRoot)return e.root;return e.findById(t.parentId).containers.get(t.parentContainer.name)}({component:t,workingTree:e}),o=t.previous?e.findById(t.previous.id):void 0,i={parentContainer:r,previous:o,next:o?o.next:r.first};n.moveComponent(t,i)}t.exports={diff:(t,e,n)=>(function(t,e,n){e.each((function(e){const r=t.findById(e.id);if(r)o(r,e,n);else{const r=function(t,e){const{parentContainer:n}=t.getPosition();let{previous:r,next:o}=t.getPosition();const i=t=>{const r=e.findById(t.id);return r&&!function(t,e){return t.componentId===e.componentId&&t.name===e.name}(r.parentContainer,n)};let s=0;for(;r&&i(r)&&s<1e3;)r=r.previous,s+=1;if(!r)for(;o&&i(o)&&s<2e3;)o=o.next,s+=1;return{parentContainer:n,previous:r,next:r?void 0:o||"bottom"}}(e,t),o=e.getIndex();n.insertComponent(e,r,o)}}))}(t,e,n=n||new s),function(t,e,n){const o=[];t.each((function(i){if(!e.findById(i.id)){const s=i.parentId,a=s&&o.includes(s);if(i.containers.length>0&&o.push(i.id),!a){const o=n.removeComponent(i);r(e,t,o)}}}))}(t,e,n),function(t,e,n){const r=t.clone(),o=e.getAllComponents(),s=new i(n);s.applyToWorkingTree(r);for(let t=0;t<o.length;t++){const e=o[t],i=r.findById(e.id);if(!i)throw new Error("Diff: invalid component tree structure");(a(e.next,i.next)||a(e.previous,i.previous))&&e.parentId===i.parentId||(c(e,r,n),s.applyToWorkingTree(r))}for(let t=0;t<o.length;t++){const e=o[t],i=r.findById(e.id);if(!i)throw new Error("Diff: invalid component tree structure");a(e.next,i.next)&&a(e.previous,i.previous)||(c(e,r,n),s.applyToWorkingTree(r))}if(!s.hasSameStructure(r,e))throw new Error("Diff: failed to create move commands to recreate componentTree structure")}(t,e,n),n)}},function(t,e){t.exports={setPlacingOnRemovedComponentPatches(t,e,n){const r=e.findById(n.component.id);n.position={},r&&(function(t,e,n){if(t.previous){const r=e.findById(t.previous.id);if(r)return n.position.previousId=r.id,!0}return!1}(r,t,n)||function(t,e,n){if(t.next){const r=e.findById(t.next.id);if(r)return n.position.nextId=r.id,!0}return!1}(r,t,n)||function(t,e){if(t.next)return e.position.nextId=t.next.id,!0;return!1}(r,n)||function(t,e){if(t.previous)return e.position.previousId=t.previous.id,!0}(r,n))}}},function(t,e,n){const r=n(154),{deserializeCommand:o}=n(65),i={insertComponent:!0,removeComponent:!0,moveComponent:!0};t.exports=class{constructor(t){this.diffCommands=t,this.executedIndex=0}get commands(){return this.diffCommands.serialized}applyToWorkingTree(t){const e=this.commands.length;for(let n=this.executedIndex;n<e;n++){this.executedIndex+=1;const e=this.commands[n],{type:s}=e;if(!i[s])continue;const{conflicts:a,command:c}=o(e,t);if(a.length){const[t]=a;throw new Error(`Diff: deserializing generated command error '${t.type}'`)}try{r.handle(c)}catch(t){throw t.message=`Diff applying ${c.type} command: ${t.message}`,t}}}hasSameStructure(t,e){const n=t.getAllComponents(),r=e.getAllComponents();if(r.length!==n.length)return!1;for(let t=0;t<r.length;t++){const e=n[t],o=r[t];if(e.id!==o.id||e.parentId!==o.parentId)return!1}return!0}}},function(t,e,n){const r=n(204),o=n(205),i=n(24),s=n(13),a=n(159),c=n(69),u=n(73);function p(t,e){for(let o=0;o<e.length-1;o++){const s=t[e[o]],a=t[e[o+1]],c=i(a.diffPatches);l(c,(n=s.diffPatches,r(n,t=>-1===t[0])),s.diffPatches),h(c,C(s.diffPatches),s.diffPatches),t[e[o]]=void 0,c.forEach(t=>{t.length>3&&t.pop()}),a.diffPatches=c}var n;return t}function l(t,e,n){e.forEach(e=>{const r=w(t),o=_(g(n,e,x(r),"",v),r);o.insertPosition=I(o,r,t),0!==o.matchIndex?b(t,t[o.insertPosition],o.matchIndex,e,0):t.splice(o.insertPosition,0,e)})}function h(t,e,n){e.forEach(e=>{e.push("isPreviousAddedPatch");const r=w(t),o=_(g(n,e,x(r),e[1],y),r);o.insertPosition=I(o,r,t),function(t,e,n){let r=t.insertPosition,o=m(e,n,n[r],0,t.matchIndex);for(;e[1].length-o>0;){const t=r;if(r=f(n,r),-1===r)return;const i=d(t,r,n);o=m(e,n,n[r],o+i,0)}}(o,e,t)})}function d(t,e,n){let r=0;for(let o=t+1;o<e;o++)-1===n[o][0]&&(r+=n[o][1].length);return r}function f(t,e){let n=e;for(n++;n<t.length&&0!==t[n][0];)n++;return t.length===n?-1:n}function m(t,e,n,r,o){const c=i(t);if(n&&-1!==n[0]){let t=c[1].length;return n[1].length<c[1].length-r?(c[1]=c[1].substring(r,r+n[1].length),t=r+n[1].length):c[1]=c[1].substring(r,c[1].length),0!==o&&0===r?(t=n[1].length-o,c[1]=c[1].substring(0,t),b(e,n,o,c,c[1].length)):function(t,e,n){const r=a(n,e=>s(e,t));t[1]=t[1].replace(e[1],""),""===t[1]?n.splice(r,1,e):n.splice(r,0,e)}(n,c,e),t}return n[1].length-o}function g(t,e,n,r,o){const i=a(t,t=>s(t,e));let c=0;if(t.length>i+1){const e=o(t,i+1);-1!==e&&(r+=t[e][1])}i-1>=0&&(c=r.length,c=(r=t[i-1][1]+r).length-c);let u=n.indexOf(r);return i-1>=0&&c>0&&(u+=c),u}function v(t,e){let n=e;for(;-1===t[n][0];)if(n++,t.length-1<=n)return-1;return n}function y(t,e){return t.length>e?e:-1}function _(t,e){let n="";for(let r=0;r<e.length;r++){const o=n;if(n+=e[r][1],n.length>t)return{insertPosition:r,matchIndex:t-o.length}}return{insertPosition:e.length-1,matchIndex:0}}function b(t,e,n,r,o){const c=a(t,t=>s(t,e)),u=i(e);e[1]=e[1].substring(0,n),u[1]=u[1].substring(n+o),""!==u[1]&&t.splice(c+1,0,u),t.splice(c+1,0,r)}function x(t){let e="";return t.forEach(t=>{e+=t[1]}),e}function C(t){return r(t,t=>1===t[0])}function w(t){return r(t,t=>1!==t[0]||function(t){return 4===t.length}(t))}function I(t,e,n){return a(n,n=>s(n,e[t.insertPosition]))}t.exports={simplifyTextChanges(t){const e=function(t){return c(t,(function(t,e,n){if("textChange"===e.type){const r=e.componentId+e.directiveName;(t[r]||(t[r]=[])).push(n)}return t}),{})}(t);return u(e,(function(e,n){t=p(t,e)})),function(t){o(t,t=>void 0===t)}(t),t},mergeTextChanges:p}},function(t,e,n){var r=n(33);t.exports=function(t,e){var n=[];return r(t,(function(t,r,o){e(t,r,o)&&n.push(t)})),n}},function(t,e,n){var r=n(199),o=n(21),i=Array.prototype.splice;t.exports=function(t,e){for(var n=t?e.length:0,s=n-1;n--;){var a=e[n];if(n==s||a!==c){var c=a;o(a)?i.call(t,a,1):r(t,a)}}return t}},function(t,e){t.exports=function(t,e){if(!t)return[];const r=[];return t.forEach(t=>{const o=n[t.type](t);o&&(e&&function(t,e){t.user=e,"textChange"===t.type&&t.diffPatches.forEach(t=>{t[2]||t.push(e)})}(o,e),r.unshift(o))}),r};const n={insertComponent:({component:t})=>({type:"componentAdded",componentId:t.id}),transformComponent:({component:t})=>({type:"componentTransformed",componentId:t.id}),moveComponent:({component:t,position:e})=>({type:"componentMoved",componentId:t.id,nextId:e.next?e.next.id:void 0,previousId:e.previous?e.previous.id:void 0}),removeComponent:({component:t,position:e})=>({type:"componentRemoved",componentId:t.id,removedComponent:t.toJson({deep:!0}),nextComponentId:e.nextId,previousComponentId:e.previousId}),updateComponentStyle:({component:t})=>r(t),updateComponentData:({component:t})=>r(t),updateEditableDirective:({component:t,directive:e,diffPatches:n,value:r})=>({type:"textChange",componentId:t.id,directiveName:e.name,diffPatches:n}),updateImageDirective:({component:t,directive:e,value:n})=>r(t),updateTmpImageDirective(){},updateLinkDirective:({component:t})=>r(t),updateHtmlDirective:({component:t})=>r(t),updateToggleDirective:({component:t})=>r(t),updateIncludeDirective:({component:t})=>r(t),updateStyleDirective:({component:t})=>r(t),updateDirectiveTmpData(){}};function r(t){return{type:"componentModified",componentId:t.id}}},function(t,e,n){const r=n(205),o=n(13),i=n(448),{createDiffCommands:s}=n(203),a=n(449),{mergeProposals:c}=n(451);t.exports={getMergeCommands({baseTree:t,remoteTree:e,localTree:n}){const c=s({versions:[{componentTree:e,user:""},{componentTree:t,user:""}]}),u=s({versions:[{componentTree:n,user:""},{componentTree:t,user:""}]}),p=a(u,c),l=i(p,t=>t.commands);return r(c,t=>l.some(e=>o(e,t))),{localCommands:u,remoteCommands:c,conflicts:p}},getProposalMergeCommands:({baseProposals:t,localProposals:e,remoteProposals:n})=>c(t,e,n)}},function(t,e,n){var r=n(88),o=n(189);t.exports=function(t,e){return r(o(t,e),1)}},function(t,e,n){const r=n(450),o=n(204),i=n(63),s=n(13);t.exports=function(t,e){const n=[],a=function(t,e){const n=r(e,t=>t.type),o=r(t,t=>t.type),s=[];n.moveComponent&&n.moveComponent.forEach(t=>{const e=i(o.moveComponent,e=>e.component.id===t.component.id&&e.position.previousId===t.position.previousId&&e.position.nextId===t.position.nextId);if(e)s.push({type:"DuplicatedCommand",componentId:t.component.id,commands:[t],localCommand:e});else{const e=i(o.moveComponent,e=>e.component.id===t.component.id||e.component.id===t.position.nextId||e.component.id===t.position.previousId||e.position.previousId===t.component.id||e.position.nextId===t.component.id);e&&s.push({type:"ComponentAlreadyMoved",componentId:t.component.id,commands:[t],localCommand:e})}});return s}(t,e),c=function(t,e){const n=[];return t.forEach(t=>{const r=o(e,e=>e.component.id===t.component.id);if(r.length>0){let e=!1;r.forEach(r=>{s(r,t)&&(n.push({type:"DuplicatedCommand",componentId:t.component.id,commands:[r],localCommand:t}),e=!0),t.type.includes("Directive")&&!e&&t.component.id===r.component.id&&t.directiveName===r.directiveName&&n.push({type:"DirectiveAlreadyModified",componentId:t.component.id,directiveName:t.directiveName,commands:[r],localCommand:t})}),"removeComponent"!==t.type||e||n.push({type:"ComponentLocallyRemoved",componentId:t.component.id,commands:r,localCommand:t})}}),n}(t,e);return n.push(...a),n.push(...c),n}},function(t,e,n){var r=n(37),o=n(198),i=Object.prototype.hasOwnProperty,s=o((function(t,e,n){i.call(t,n)?t[n].push(e):r(t,n,[e])}));t.exports=s},function(t,e,n){const r=n(45),o=n(69),i=n(13),s=n(197),a={mergeProposals(t,e,n){const o=a.diffProposals(t,e),i=a.diffProposals(t,n),s=[];return r(i,t=>{const e=o[t.id];if("removed"!==t.action)if("added"!==t.action){if("updated"===t.action){const{hasChanged:n}=u(e,t);if(e&&!n)return;const r={type:"updateProposal",componentId:t.command.componentId};t.changes.proposalStatus&&(r.proposalStatus=t.command.proposalStatus),t.changes.proposalData&&(r.proposalData=t.command.proposalData),t.changes.component&&(r.component=t.command.component),t.changes.position&&(r.position=t.command.position),s.push(r)}}else s.push(t.command);else s.push({type:"rejectProposal",componentId:t.command.componentId})}),{commands:s}},diffProposals(t,e){const n=function(t,e){const n=[];return o(e,(e,n)=>{const r=t[n.id];if(r){const{hasChanged:t,changes:o}=u(r,n);t&&(n.action="updated",n.changes=o,e.push(n))}else n.action="added",e.push(n);return e},n),o(t,(t,n)=>(e[n.id]||(n.action="removed",t.push(n)),t),n),n}(c(t),c(e));return s(n,"id")}};function c(t){return o(t,(t,e)=>{const n={id:e.componentId,command:e,type:e.type};return"proposeInsert"===e.type&&(n.insertPosition=function(t){const{parentId:e,parentContainerName:n,previousId:r}=t;return`${e}:${n}:${r}`}(e.position)),t[e.componentId]=n,t},{})}function u(t,e){if(!t||!e)return{hasChanged:!1,changes:{}};const n=t.command,r=e.command;l(n),l(r);const o={};return n.type!==r.type&&(o.type={value:r.type}),n.proposalStatus!==r.proposalStatus&&(o.proposalStatus={value:r.proposalStatus}),n.componentId!==r.componentId&&(o.componentId={value:r.componentId}),i(n.proposalData,r.proposalData)||(o.proposalData={value:r.proposalData}),i(n.component,r.component)||(o.component={value:r.component}),i(n.position,r.position)||(o.position={value:r.position}),{hasChanged:!!Object.keys(o).length,changes:o}}t.exports=a;const p={type:!0,proposalStatus:!0,proposalData:!0,componentId:!0,component:!0,position:!0};function l(t){const e=Object.keys(t);for(const t of e)if(!p[t])throw new Error(`unknown command property '${t}'`)}},function(t,e,n){const r=n(453),o=n(454),i=n(30),s=n(456),a=n(44);t.exports={name:"resrc.it",hasBrowserPlugin:!0,supportsCrop:!0,supportsBackgroundImages:!0,allowedMimeTypes:["image/gif","image/jpeg","image/png","image/webp"],disabledMimeTypes:[],createBrowserPlugin:function(t){return s({window:t})},canProcessAsset:function(t,e){return!(e&&!this.supportsBackgroundImages)&&a(t,this.allowedMimeTypes,this.disabledMimeTypes)},getUrl:function(t,e){return r.getUrl(t,e)},getUncroppedUrl:function(t){return this.getUrl(t)},set:function(t,e){const n=e.getProcessedUrl();return!n||e.isTemporaryImage()?(o.resetMarkup(t,"resrc"),i.set(t,e)):e.isInlineImage()?o.setInlineImage(t,n,"resrc"):e.isBackgroundImage()&&o.setBackgroundImage(t,n,"resrc"),!1},reset:function(t,e){o.resetMarkup(t,"resrc")}}},function(t,e,n){const r=n(2),o=n(29),i=n(5),s=n(8);t.exports={getUrl:function(t,{host:e,crop:n,ratio:o,size:i,quality:l}={}){const h=n?a(n):"",d=o?c(o):"",f=i?u(i):"",m=p(l||r(s,["imageServices","resrc.it","quality"]));return`${e||r(s,["imageServices","resrc.it","host"])}${h}${d}${f}${m}/${t}`}};const a=function({x:t,y:e,width:n,height:r}={}){return i(o(t),"x should be a number"),i(o(e),"y should be a number"),i(o(n),"width should be a number"),i(o(r),"height should be a number"),`/C=W${n},H${r},X${t},Y${e}`},c=function({x:t,y:e}={}){return i(o(t),"x should be a number"),i(o(e),"y should be a number"),`/C=AR${t}x${e}`},u=function({w:t,h:e}={}){t&&i(o(t),"w should be a number"),e&&i(o(e),"h should be a number");let n="";return t&&e?n=`W${t}M,H${e}M`:t?n=`W${t}`:e&&(n=`H${e}`),`/S=${n}`},p=function(t){return`/O=${t}`}},function(t,e,n){const r=n(70),o=n(455);t.exports={setInlineImage:function(t,e,n){o(t.attr("src"))&&t.attr("src",""),n&&t.addClass(n),t.attr("data-src",e)},setBackgroundImage:function(t,e,n){t.addClass(n),r(t,e)},resetMarkup:function(t,e){t.removeClass(e),t.removeAttr("data-src"),t.css("background-image","")}}},function(t,e){t.exports=function(t){return/^(data:|blob:)/.test(t)}},function(t,e,n){const r=n(2),{log:o}=n(1),i=n(8);t.exports=function({window:t}={}){return{name:"browserPlugins.resrcit",initialized:!1,dependencies:{js:[{src:r(i,["imageServices","resrc.it","scriptUrl"])}]},init:function(){const e=r(i,["imageServices","resrc.it","quality"]),n=r(i,["imageServices","resrc.it","host"]).replace(/https?:\/\//,""),o=r(i,["imageServices","resrc.it","host"]);t.resrc&&(t.resrc.configure({imageQuality:e,server:n,ssl:/^https/.test(o)}),this.initialized=!0)},updateDirective:function(e,n){this.initialized||this.init();try{if(n.isInlineImage())t.resrc.run(e[0]);else{const r=n.getProcessedUrl();t.resrc.setImageUrl(e[0],r)}}catch(t){o(t,n)}}}}},function(t,e,n){const r=n(2),o=n(458),i=n(72),s=n(8),a=n(30),c=n(44);t.exports={name:"sz",supportsBackgroundImages:!1,allowedMimeTypes:["image/gif","image/jpeg","image/png","image/webp"],disabledMimeTypes:[],canProcessAsset:function(t,e){return!(e&&!this.supportsBackgroundImages)&&c(t,this.allowedMimeTypes,this.disabledMimeTypes)},getUrl:function(t,e){return o.getUrl(t,e)},getUncroppedUrl:function(t){return t},set:function(t,e){if(e.isTemporaryImage())i.reset(t),a.set(t,e);else{const n=[];for(const t in r(s,"imageServices.sz.srcSet.widths")){const o=r(s,"imageServices.sz.srcSet.widths")[t],i=this.getUrl(e.getOriginalUrl(),{width:o,crop:e.getCrop()});n.push({width:o,url:i})}const o=this.getUrl(e.getOriginalUrl(),{width:r(s,"imageServices.sz.srcSet.defaultWidth"),crop:e.getCrop()}),a=r(s,"imageServices.sz.srcSet.sizes");i.set(t,o,n,a)}}}},function(t,e,n){const r=n(2),o=n(71),{log:i,assert:s}=n(1),a=n(29),c=n(8),u=n(459);t.exports={getUrl:function(t,{crop:e,width:n}={}){const{pathname:r}=h(t),o=r.split("/");if(o.length<3)return i.error(`SZ Image service: can not parse path ${r}`),"";const s=o[o.length-1],a=o[o.length-2],u=`image/${o[o.length-3]}/${a}${e?p(e):""}${n?`/${n}`:""}/${s}`,m=l(`/${u}`);return`${d(c)}/${u}?h=${m}&hv=${f(c)}`}};const p=function({x:t,y:e,width:n,height:r}){return s(a(t),"x should be a number"),s(a(e),"y should be a number"),s(a(n),"width should be a number"),s(a(r),"height should be a number"),`/t${e}l${t}w${n}h${r}`},l=function(t){return u({secret:r(c,"imageServices.sz.shaSecret"),valueToHash:t})},h=function(t){const e=o.parse(t);return{hostname:e.hostname,pathname:e.pathname,query:e.query}},d=function(t){return r(t,"imageServices.sz.host")},f=function(t){return r(t,"imageServices.sz.hashVersion")}},function(t,e,n){"use strict";const r=n(460),{notStrictEqual:o,strictEqual:i}=n(141);t.exports=function({secret:t,valueToHash:e,hashLength:n=32}={}){o(t,void 0,"please provide »secret«!"),o(e,void 0,"please provide »valueToHash«!"),i(typeof e,"string","»valueToHash« must be a string!");const s=`${t}/${e}`;return r("sha256").update(s,"utf-8").digest("hex").substr(0,n)}},function(t,e,n){(e=t.exports=function(t){t=t.toLowerCase();var n=e[t];if(!n)throw new Error(t+" is not supported (we accept pull requests)");return new n}).sha=n(461),e.sha1=n(465),e.sha224=n(466),e.sha256=n(207),e.sha384=n(467),e.sha512=n(208)},function(t,e,n){var r=n(31),o=n(32),i=n(19).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,o.call(this,64,56)}function u(t){return t<<30|t>>>2}function p(t,e,n,r){return 0===t?e&n|~e&r:2===t?e&n|e&r|n&r:e^n^r}r(c,o),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,o=0|this._b,i=0|this._c,a=0|this._d,c=0|this._e,l=0;l<16;++l)n[l]=t.readInt32BE(4*l);for(;l<80;++l)n[l]=n[l-3]^n[l-8]^n[l-14]^n[l-16];for(var h=0;h<80;++h){var d=~~(h/20),f=0|((e=r)<<5|e>>>27)+p(d,o,i,a)+c+n[h]+s[d];c=a,a=i,i=u(o),o=r,r=f}this._a=r+this._a|0,this._b=o+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var t=i.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=c},function(t,e){t.exports=require("util")},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){t.exports=require("buffer")},function(t,e,n){var r=n(31),o=n(32),i=n(19).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,o.call(this,64,56)}function u(t){return t<<5|t>>>27}function p(t){return t<<30|t>>>2}function l(t,e,n,r){return 0===t?e&n|~e&r:2===t?e&n|e&r|n&r:e^n^r}r(c,o),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,o=0|this._b,i=0|this._c,a=0|this._d,c=0|this._e,h=0;h<16;++h)n[h]=t.readInt32BE(4*h);for(;h<80;++h)n[h]=(e=n[h-3]^n[h-8]^n[h-14]^n[h-16])<<1|e>>>31;for(var d=0;d<80;++d){var f=~~(d/20),m=u(r)+l(f,o,i,a)+c+n[d]+s[f]|0;c=a,a=i,i=p(o),o=r,r=m}this._a=r+this._a|0,this._b=o+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var t=i.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=c},function(t,e,n){var r=n(31),o=n(207),i=n(32),s=n(19).Buffer,a=new Array(64);function c(){this.init(),this._w=a,i.call(this,64,56)}r(c,o),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var t=s.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=c},function(t,e,n){var r=n(31),o=n(208),i=n(32),s=n(19).Buffer,a=new Array(160);function c(){this.init(),this._w=a,i.call(this,128,112)}r(c,o),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var t=s.allocUnsafe(48);function e(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=c},function(t,e,n){const r=n(469),o=n(72),i=n(115),s=n(70),a=n(30),c=n(44);t.exports={name:"imgix",supportsBackgroundImages:!0,allowedMimeTypes:["image/gif","image/jpeg","image/png","image/webp"],disabledMimeTypes:[],canProcessAsset:function(t,e){return!(e&&!this.supportsBackgroundImages)&&c(t,this.allowedMimeTypes,this.disabledMimeTypes)},getUrl:function(t,e){return r.getUrl(t,e)},getUncroppedUrl:function(t){return this.getUrl(t)},set:function(t,e){const n=i.for(["imageServices","imgix"]);if(e.isTemporaryImage())o.reset(t),a.set(t,e);else if(e.isInlineImage()){const r=[],i=n.getWidths(e);for(const t in i){const n=i[t],o=this.getUrl(e.getOriginalUrl(),{width:n,crop:e.getCrop()});r.push({width:n,url:o})}const s=this.getUrl(e.getOriginalUrl(),{width:n.getDefaultWidth(e),crop:e.getCrop()}),a=n.getSizes(e);o.set(t,s,r,a)}else if(e.isBackgroundImage()){const r=n.getBgImageMaxWidth(e),o=this.getUrl(e.getOriginalUrl(),{width:r,crop:e.getCrop()});s(t,o)}}}},function(t,e,n){const r=n(2),o=n(29),i=n(71),{assert:s}=n(1),a=n(8);t.exports={getUrl:function(t,{crop:e,width:n}={}){const o=i.parse(t),s=e?c(e):null,u={};s&&(u.rect=s),n&&(u.w=n),r(a,"imageServices.imgix.preferWebp")&&(u.auto="format");const p=i.parse(r(a,"imageServices.imgix.host"));return p.pathname=o.pathname,p.query=u,i.format(p)}};const c=function({x:t,y:e,width:n,height:r}){return s(o(t),"x should be a number"),s(o(e),"y should be a number"),s(o(n),"width should be a number"),s(o(r),"height should be a number"),`${t},${e},${n},${r}`}},function(t,e,n){const r=n(471),o=n(72),i=n(115),s=n(70),a=n(30),c=n(44);t.exports={name:"liImageProxy",supportsBackgroundImages:!0,allowedMimeTypes:["image/gif","image/jpeg","image/png","image/webp"],disabledMimeTypes:[],canProcessAsset:function(t,e){return!(e&&!this.supportsBackgroundImages)&&c(t,this.allowedMimeTypes,this.disabledMimeTypes)},getUrl:function(t,e){return r.getUrl(t,e)},getUncroppedUrl:function(t){return this.getUrl(t)},set:function(t,e){const n=i.for(["imageServices",this.name]);if(e.isTemporaryImage())o.reset(t),a.set(t,e);else if(e.isInlineImage()){const r=[],i=n.getWidths(e);for(const t in i){const n=i[t],o=this.getUrl(e.getOriginalUrl(),{width:n,crop:e.getCrop()});r.push({width:n,url:o})}const s=this.getUrl(e.getOriginalUrl(),{width:n.getDefaultWidth(e),crop:e.getCrop()}),a=n.getSizes(e);o.set(t,s,r,a)}else if(e.isBackgroundImage()){const r=n.getBgImageMaxWidth(e),o=this.getUrl(e.getOriginalUrl(),{width:r,crop:e.getCrop()});s(t,o)}}}},function(t,e,n){const r=n(2),o=n(29),i=n(71),{assert:s}=n(1),a=n(8);t.exports={getUrl:function(t,{crop:e,width:n}={}){const o=i.parse(t,!0),s=e?c(e):null,u=o.query;s&&(u.rect=s),n&&(u.w=n),r(a,"imageServices.liImageProxy.preferWebp")&&(u.auto="format");const p=i.parse(r(a,"imageServices.liImageProxy.host"));return p.pathname=o.pathname,p.query=u,i.format(p)}};const c=function({x:t,y:e,width:n,height:r}){return s(o(t),"x should be a number"),s(o(e),"y should be a number"),s(o(n),"width should be a number"),s(o(r),"height should be a number"),`${t},${e},${n},${r}`}},function(t,e,n){const r=n(44),o=n(473),i=n(115),s=n(72),a=n(474),c=n(475),u=n(30),p=n(476);t.exports={name:"image.resizer",hasBrowserPlugin:!0,supportsCrop:!0,supportsBackgroundImages:!0,allowedMimeTypes:["image/gif","image/jpeg","image/png","image/webp"],disabledMimeTypes:[],createBrowserPlugin:function(t){return p({window:t})},canProcessAsset:function(t,e){return!(e&&!this.supportsBackgroundImages)&&r(t,this.allowedMimeTypes,this.disabledMimeTypes)},getUrl:function(t,e){return o.getUrl(t,e)},getUncroppedUrl:function(t){return this.getUrl(t)},set:function(t,e){const n=i.for(["imageServices","image.resizer"]);if(e.isTemporaryImage())s.reset(t),u.set(t,e);else if(e.isInlineImage()){const r=[],o=n.getWidths(e);for(const t in o){const n=o[t],i=this.getUrl(e.getOriginalUrl(),{size:{w:n},crop:e.getCrop()});r.push({width:n,url:i})}const i=n.getDefaultWidth(e),a=this.getUrl(e.getOriginalUrl(),{size:{w:i},crop:e.getCrop()}),c=n.getSizes(e);s.set(t,a,r,c)}else if(e.isBackgroundImage()){const r=[],o=n.getWidths(e);for(const t in o){const n=o[t],i=this.getUrl(e.getOriginalUrl(),{size:{w:n},crop:e.getCrop()});r.push({name:t,url:i})}const i=n.getDefaultWidth(e),s=this.getUrl(e.getOriginalUrl(),{size:{w:i},crop:e.getCrop()});a(t,r),c(t,s)}}}},function(t,e,n){const r=n(2),o=n(29),i=n(71),{assert:s}=n(1),a=n(8);t.exports={getUrl:function(t,{host:e,crop:n,ratio:o,size:s,quality:p}={}){const l=e||r(a,["imageServices","image.resizer","host"]),h=c(t),d={};p&&(d.quality=p),s&&s.w&&(d.width=s.w),s&&s.h&&(d.height=s.h),n&&(d.crop=u(n));const f=i.parse(l);return f.pathname=f.pathname+h,f.query=d,i.format(f)}};const c=function(t){return`/${t.replace("http://","").replace("https://","")}`},u=function({x:t,y:e,width:n,height:r}){return s(o(t),"x should be a number"),s(o(e),"y should be a number"),s(o(n),"width should be a number"),s(o(r),"height should be a number"),`(${t},${e},${t+n},${e+r})`}},function(t,e,n){const r=n(114);t.exports=function(t,e){const n=e.map(({name:t,url:e})=>`--${t}-url: ${o(e)}`).join(";");t.attr("style",n)};const o=function(t){return`url(${t=r(t)})`}},function(t,e,n){const r=n(114);t.exports=function(t,e){let n=t.attr("style");n.length>0&&(n=`${n};`),e&&(n=`${n}background-image: ${o(e)}`),t.attr("style",n)};const o=function(t){return`url(${t=r(t)})`}},function(t,e,n){const r=n(2),o=n(8);t.exports=function({window:t}={}){return{name:"browserPlugins.imageresizer",dependencies:{js:[{src:r(o,["imageServices","image.resizer","scriptUrl"])}]},init:function(){},updateDirective:function(t,e){}}}}]);