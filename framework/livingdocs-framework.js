module.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=177)}([function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var r=n(52);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},function(t,e,n){const r=n(135),i=n(3);t.exports={log:r,assert:i}},function(t,e,n){const r=n(135);function i(t,e){t||r.error(e)}t.exports=i,i.param=function(t,e,n){if(!t)return r.error(`${e}: param '${n}' is missing`)}},function(t,e,n){const r=n(55),i=n(17),o=n(21),s=n(146),a=n(61),{log:c,assert:u}=n(2),l=n(147),p=n(86),h=n(37),d=new l,f={handle(t){const e=function(t){const e=t.component&&t.component.parentContainer,n="insertComponent"===t.type?t.position.parentContainer:e;if(n)return n.getComponentTree()}(t);m[t.type](t),e&&e.reportExecutedCommand(t)}};t.exports=f;const m={insertComponent({component:t,position:e,eventSource:n}){const r=e.parentContainer;let i={};if(e.previous){const n=e.previous;u(n!==t,"cannot insert component next to itself"),i={previous:n,next:n.next!==t?n.next:void 0,parentContainer:r}}else if(e.next){const n=e.next;u(n!==t,"cannot insert component next to itself"),i={previous:n.previous!==t?n.previous:void 0,next:n,parentContainer:r}}t.isValidPosition(i)&&r.attachComponent(t,i,n)},transformComponent({component:t,replacement:e,eventSource:n}){const r={next:t.next,parentContainer:t.parentContainer},{componentTree:i}=t;i.fireBeforeEvent("beforeComponentTransformed",e,t),m.removeComponent({component:t,eventSource:n}),m.insertComponent({component:e,position:r,eventSource:n}),i.fireEvent("componentTransformed",e)},moveComponent({component:t,position:e}){const n=e.parentContainer!==t.parentContainer,r=t.previous!==e.previous&&t.next!==e.next;t.isValidPosition(e)&&(r||n)&&t.parentContainer.attachComponent(t,e)},removeComponent({component:t,eventSource:e}){t.destroy(),t.parentContainer._detachComponent(t,e)},updateComponentData({component:t,key:e,value:n}){if(!e)return;const{componentTree:r}=t;i(t.dataValues[e],n)||(r&&r.fireBeforeEvent("beforeComponentDataChanged",t,e),t.dataValues[e]=o(n),r&&r.dataChanging(t,[e]))},updateComponentStyle({component:t,name:e,value:n}){const r=t.structure.styles[e],{componentTree:i}=t;r?r.validateValue(n)?t.styles[e]!==n&&(i&&i.fireBeforeEvent("beforeComponentHtmlChanged",t,"style",{name:e,value:t.styles[e]}),t.styles[e]=n,i&&i.htmlChanging(t)):c.warn(`Invalid value '${n}' for style\n          '${e}' in ComponentModel ${t.componentName}`):c.warn(`Unknown style '${e}' in ComponentModel ${t.componentName}`)},updateEditableDirective({component:t,directive:e,value:n,eventSource:r}){const i=""===n?void 0:n;if(i!==e.content.value){if(t.beforeDirectiveChanging(e.name,r),i){const t=p(i),n=h(t,{plainText:e.plainText||!1,editableValidator:e.editableValidator||d});e.content.value=n}else e.content.value=void 0;t.directiveChanging(e.name,r)}},updateImageDirective({component:t,directive:e,value:n,eventSource:r}){if(n!==e.content.value){const{originalUrl:i,url:o,width:s,height:a,mimeType:c}=n,{imageService:u,origins:l,crop:p,suppressEvents:h}=n;h||t.beforeDirectiveChanging(e.name,r),!("url"in n)&&"crop"in n||(e.reset(),e.content.originalUrl=i,e.content.url=""===o?void 0:o,e.content.width=s,e.content.height=a,e.content.mimeType=c,e.setImageService(u),e.setOrigins(l),e.processImageUrl()),null!=e.content.url&&"crop"in n&&(!function(t,e){if(t){const{x:n,y:r,width:i,height:o,name:s}=t;e.content.crop={x:n,y:r,width:i,height:o,name:s}}else e.content.crop=void 0}(p,e),e.processImageUrl()),h||t.directiveChanging(e.name,r)}},updateTmpImageDirective({component:t,directive:e,value:n}){t.beforeDirectiveChanging(e.name),e.temporaryImage=n,t.directiveChanging(e.name)},updateLinkDirective({component:t,directive:e,value:n,eventSource:r}){const i=""===n?void 0:n;i!==e.content.value&&(t.beforeDirectiveChanging(e.name,r),e.content.value=i,t.directiveChanging(e.name,r))},updateHtmlDirective({component:t,directive:e,value:n,eventSource:r}){const i=""===n?void 0:n;i!==e.content.value&&(t.beforeDirectiveChanging(e.name,r),e.content.value=i,t.directiveChanging(e.name,r))},updateToggleDirective({component:t,directive:e,value:n,eventSource:r}){const i=!s(n)||n;i!==e.content.value&&(t.beforeDirectiveChanging(e.name,r),e.content.value=i,t.directiveChanging(e.name,r))},updateIncludeDirective({component:t,directive:e,value:n={},eventSource:i}){const{service:o,params:s}=n;if(o!==e.getService()){const n=r(e.services,{service:o});u(n&&n.service,`Can not change to service ${o}, service not defined.`),t.beforeDirectiveChanging(e.name,i),e.initService(n),s&&(e.content.params=s),t.directiveChanging(e.name,i)}else e.hasDifferentProperty("params",s)&&(t.beforeDirectiveChanging(e.name,i),e.content.params=s,t.directiveChanging(e.name,i))},updateStyleDirective({component:t,directive:e,value:n,eventSource:r}){n&&a(n,(t,r)=>{const i=e.getStyleConfig(r);if(!i)throw new Error(`Style directive: unknown style '${r}'`);i.validateValue(n)||c.warn(`Style directive: invalid value\n            '${n}' for style '${r}'`)}),t.beforeDirectiveChanging(e.name,r),e.content=n,t.directiveChanging(e.name,r)},updateDirectiveTmpData({directive:t,key:e,value:n}){t.tmp=t.tmp||{},t.tmp[e]=n}}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){const r=n(133);t.exports={loadResources:!0,ignoreInteraction:".ld-control",livingdocsCssFile:"/assets/css/livingdocs.css",wordSeparators:"./\\()\"':,.;<>~!#%^&*|+=[]{}`~?",singleLineBreak:/^<br\s*\/?>\s*$/,editable:{allowNewline:!0,changeDelay:0,browserSpellcheck:!1,mouseMoveSelectionChanges:!1,formatting:{pastedHtmlRules:{keepInternalRelativeLinks:!0}}},css:{section:"doc-section",component:"doc-component",editable:"doc-editable",noPlaceholder:"doc-no-placeholder",emptyImage:"doc-image-empty",interface:"doc-ui",componentHighlight:"doc-component-highlight",containerHighlight:"doc-container-highlight",dragged:"doc-dragged",draggedPlaceholder:"doc-dragged-placeholder",draggedPlaceholderCounter:"doc-drag-counter",dragBlocker:"doc-drag-blocker",dropMarker:"doc-drop-marker",beforeDrop:"doc-before-drop",noDrop:"doc-drag-no-drop",afterDrop:"doc-after-drop",longpressIndicator:"doc-longpress-indicator",preventSelection:"doc-no-selection",maximizedContainer:"doc-js-maximized-container",interactionBlocker:"doc-interaction-blocker",diffComponentAdded:"ld-diff-component-added",diffComponentRemoved:"ld-diff-component-removed",diffComponentModified:"ld-diff-component-modified",diffComponentMoved:"ld-diff-component-moved",diffRemovedText:"ld-diff-text-removed",diffAddedText:"ld-diff-text-added",diffOriginalText:"ld-diff-text-original",diffComponentConflict:"ld-diff-component-conflict"},attr:{component:"doc-component",placeholder:"doc-placeholder"},directives:{container:{attr:"doc-container"},editable:{attr:"doc-editable"},html:{attr:"doc-html"},image:{attr:"doc-image"},link:{attr:"doc-link"},optional:{attr:"doc-optional"},include:{attr:"doc-include"}},imagePlaceholder:`data:image/svg+xml;charset=UTF-8,${encodeURIComponent(r`
    <svg xmlns="http://www.w3.org/2000/svg" width="620" height="350" \
      viewBox="0 0 620 350" preserveAspectRatio="none"> \
      <rect width="620" height="350" fill="#D4D4CE"/> \
      <line x1="0" y1="0" x2="620" y2="350" style="stroke:#ffffff;stroke-width:2"/> \
      <line x1="620" y1="0" x2="0" y2="350" style="stroke:#ffffff;stroke-width:2"/> \
    </svg>`)}`,history:{limit:1e3,groupingInterval:2e3},imageServices:{"resrc.it":{quality:75,host:"https://app.resrc.it"},liImageProxy:{host:"http://localhost:9090"},imgix:{host:"https://livingdocs.imgix.net",preferWebp:!1,backgroundImage:{maxWidth:1500},srcSet:{defaultWidth:1280,widths:[2048,1280,980,720],sizes:["(max-width: 980px) 80vw","(max-width: 720px) 100vw","100vw"]}},sz:{host:"https://sz.de",shaSecret:"please-change-me-in-the-server-configuration",hashVersion:1,srcSet:{defaultWidth:1280,widths:[2048,1280,980,720],sizes:["(max-width: 980px) 80vw","(max-width: 720px) 100vw","60vw"]}},"image.resizer":{host:"http://images.nswow.ch/remote",srcSet:{defaultWidth:1280,widths:{xlarge:2048,large:1280,medium:980,small:720},sizes:["(max-width: 980px) 80vw","(max-width: 720px) 100vw","100vw"]}}}}},function(t,e){t.exports={insertComponent:(t,e,n)=>({type:"insertComponent",component:t,position:e,eventSource:n}),transformComponent:(t,e,n)=>({type:"transformComponent",component:t,replacement:e,eventSource:n}),moveComponent:(t,e,n)=>({type:"moveComponent",component:t,position:e,eventSource:n}),removeComponent:(t,e)=>({type:"removeComponent",component:t,eventSource:e}),updateComponentStyle:(t,e,n,r)=>({type:"updateComponentStyle",component:t,name:e,value:n,eventSource:r}),updateComponentData:(t,e,n,r)=>({type:"updateComponentData",component:t,key:e,value:n,eventSource:r}),updateEditableDirective:(t,e,n,r)=>({type:"updateEditableDirective",component:t,directive:e,value:n,eventSource:r}),updateImageDirective:(t,e,n,r)=>({type:"updateImageDirective",component:t,directive:e,value:n,eventSource:r}),updateTmpImageDirective:(t,e,n)=>({type:"updateTmpImageDirective",component:t,directive:e,value:n}),updateLinkDirective:(t,e,n,r)=>({type:"updateLinkDirective",component:t,directive:e,value:n,eventSource:r}),updateHtmlDirective:(t,e,n,r)=>({type:"updateHtmlDirective",component:t,directive:e,value:n,eventSource:r}),updateToggleDirective:(t,e,n,r)=>({type:"updateToggleDirective",component:t,directive:e,value:n,eventSource:r}),updateIncludeDirective:(t,e,n,r)=>({type:"updateIncludeDirective",component:t,directive:e,value:n,eventSource:r}),updateStyleDirective:(t,e,n,r)=>({type:"updateStyleDirective",component:t,directive:e,value:n,eventSource:r}),updateDirectiveTmpData:(t,e,n,r)=>({type:"updateDirectiveTmpData",component:t,directive:e,key:n,value:r})}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var r=n(103),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){var r=n(19),i=n(182),o=n(183),s="[object Null]",a="[object Undefined]",c=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?a:s:c&&c in Object(t)?i(t):o(t)}},function(t,e,n){var r=n(67),i=n(64);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e,n){var r=n(262),i=n(273),o=n(44),s=n(0),a=n(274);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?s(t)?i(t[0],t[1]):r(t):a(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){var r=n(102),i=n(66),o=n(11);t.exports=function(t){return o(t)?r(t):i(t)}},function(t,e,n){var r=n(190),i=n(193);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e,n){var r=n(10),i=n(0),o=n(5),s="[object String]";t.exports=function(t){return"string"==typeof t||!i(t)&&o(t)&&r(t)==s}},function(t,e,n){var r=n(83);t.exports=function(t,e){return r(t,e)}},function(t,e,n){var r=n(407),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){var r=n(9).Symbol;t.exports=r},function(t,e,n){var r=n(189),i=n(68),o=n(194),s=n(195),a=n(196),c=n(10),u=n(105),l=u(r),p=u(i),h=u(o),d=u(s),f=u(a),m=c;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||o&&"[object Promise]"!=m(o.resolve())||s&&"[object Set]"!=m(new s)||a&&"[object WeakMap]"!=m(new a))&&(m=function(t){var e=c(t),n="[object Object]"==e?t.constructor:void 0,r=n?u(n):"";if(r)switch(r){case l:return"[object DataView]";case p:return"[object Map]";case h:return"[object Promise]";case d:return"[object Set]";case f:return"[object WeakMap]"}return e}),t.exports=m},function(t,e,n){var r=n(69),i=1,o=4;t.exports=function(t){return r(t,i|o)}},function(t,e,n){var r=n(71),i=n(36);t.exports=function(t,e,n,o){var s=!n;n||(n={});for(var a=-1,c=e.length;++a<c;){var u=e[a],l=o?o(n[u],t[u],u,n,t):void 0;void 0===l&&(l=t[u]),s?i(n,u,l):r(n,u,l)}return n}},function(t,e,n){var r=n(0),i=n(77),o=n(237),s=n(117);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(s(t))}},function(t,e,n){var r=n(53),i=1/0;t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}},function(t,e){t.exports={humanize(t){const e=this.trim(t).replace(/([a-z\d])([A-Z]+)/g,"$1 $2").toLowerCase();return this.titleize(e)},capitalize:t=>(t=t?String(t):"").charAt(0).toUpperCase()+t.slice(1),titleize:t=>null==t?"":String(t).replace(/(?:^|\s)\S/g,t=>t.toUpperCase()),snakeCase(t){return this.trim(t).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()},prefix:(t,e)=>0===e.indexOf(t)?e:`${t}${e}`,readableJson:t=>JSON.stringify(t,null,2),camelize(t){return this.trim(t).replace(/[-_\s]+(.)?/g,(t,e)=>e.toUpperCase())},trim:t=>t.replace(/^\s+|\s+$/g,""),collapseWhitespace:t=>t.replace(/\s+/g," ")}},function(t,e,n){var r=n(10),i=n(5),o="[object Number]";t.exports=function(t){return"number"==typeof t||i(t)&&r(t)==o}},function(t,e,n){const r=n(58),i=n(174);t.exports={name:"default",hasBrowserPlugin:!1,supportsCrop:!1,getUrl:function(t){return t},getUncroppedUrl:function(t){return this.getUrl(t)},canProcessAsset:function(t,e){return!0},set:function(t,e){let n="";if(e.isTemporaryImage()){const t=e.getTemporaryUrl();t&&(n=t)}else{const t=e.getOriginalUrl();t&&(n=t)}e.isInlineImage()?i(t,n):e.isBackgroundImage()&&r(t,n)}}},function(t,e,n){try{var r=n(405);if("function"!=typeof r.inherits)throw"";t.exports=r.inherits}catch(e){t.exports=n(406)}},function(t,e,n){var r=n(18).Buffer;function i(t,e){this._block=r.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}i.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=r.from(t,e));for(var n=this._block,i=this._blockSize,o=t.length,s=this._len,a=0;a<o;){for(var c=s%i,u=Math.min(o-a,i-c),l=0;l<u;l++)n[c+l]=t[a+l];a+=u,(s+=u)%i==0&&this._update(n)}return this._len+=o,this},i.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=i},function(t,e,n){var r=n(178),i=n(187)(r);t.exports=i},function(t,e,n){var r=n(181),i=n(5),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(t){return i(t)&&s.call(t,"callee")&&!a.call(t,"callee")};t.exports=c},function(t,e,n){(function(t){var r=n(9),i=n(184),o=e&&!e.nodeType&&e,s=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===o?r.Buffer:void 0,c=(a?a.isBuffer:void 0)||i;t.exports=c}).call(this,n(63)(t))},function(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var i=typeof t;return!!(e=null==e?n:e)&&("number"==i||"symbol"!=i&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(106);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){const r=n(1),i=n(250),o=n(54),{booleanAttributes:s,unencodedElements:a,singleTags:c,blockElements:u}=i;function l(t,e){return t.reduce((n,i,s)=>{let f;switch(i.type){case"text":n+=function(t,e){let n=t.data||"";!e.encodeXML||t.parent&&a[t.parent.name]?e.decodeHTML&&(n=o.decodeHTML(n)):n=o.encodeXML(n);return n}(i,e);break;case"tag":case"script":case"style":f=t[s+1],n+=function(t,e,n){let i,o;if(t.doNotRender)return"";if(e.plainText)return l(t.children,e);if(e.editableValidator){if(e.editableValidator.isProhibited(t)&&t.children)return l(t.children,e)}"svg"===t.name&&(e={encodeXML:e.encodeXML,renderDirectiveInfo:e.renderDirectiveInfo,xmlMode:!0});let s=function(t,e){let n=`<${t.name}`;const i=p(t.attribs,e);i&&(n+=` ${i}`);const o=function(t,e){let n;if(!t)return;if(e.renderDirectiveInfo){n="";for(const e of Object.keys(t)){const r=t[e];n&&(n+=" "),n+=`doc-${e}="${r}"`}}return n}(t.directives,e);o&&(n+=` ${o}`);e.xmlMode&&!r(t,"children",!1)?n+="/>":n+=">";return n}(t,e);if(e.prettyHtml){const e=d(n),r=function(t){return!(!t.children||!t.children.length)&&d(t.children[0])}(t),s=u[t.name];o=s&&t.children&&!r,i=n&&!e}!function(t,e){if(e.xmlMode&&!r(t,"children.length",!1))return!0;return!!c[t.name]}(t,e)?(t.children&&(o&&(s+=function(t){t.indentLevel||(t.indentLevel=0);return t.indentLevel+=1,h(t)}(e)),s+=l(t.children,e),o&&(s+=function(t){t.indentLevel||(t.indentLevel=0);t.indentLevel>0&&(t.indentLevel-=1);return h(t)}(e))),s+=`</${t.name}>`,i&&(s+=h(e))):i&&(s+=h(e));return s}(i,e,f);break;case"root":n+=l(i.children,e);break;case"comment":n+=function(t){return`\x3c!--${t.data}--\x3e`}(i);break;case"directive":n+=function(t){return`<${t.data}>`}(i);break;case"cdata":n+=function(t){return`<![CDATA[${t.children[0].data}]]>`}(i)}return n},"")}t.exports=function(t,e={}){return Array.isArray(t)||t.cheerio||(t=[t]),e.prettyHtml&&(e.tabSize||(e.tabSize=2),e.decodeHTML=!0),l(t,e)};const p=function(t,e){if(!t)return;let n="";for(const r of Object.keys(t)){let i=t[r];n&&(n+=" "),!i&&s[r]?n+=r:(e.encodeXML&&(i=o.encodeXML(i)),n+=`${r}="${i}"`)}return n};function h(t){return`\n${function(t){t.indentLevel||(t.indentLevel=0);if(t.indentLevel<0)return"";const e=t.indentLevel*t.tabSize;return" ".repeat(e)}(t)}`}function d(t){return!!t&&("text"===t.type&&/\n/.test(t.data))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(88);e.isTag=function(t){return r.isTag(t)},e.isCDATA=function(t){return"cdata"===t.type},e.isText=function(t){return"text"===t.type},e.isComment=function(t){return"comment"===t.type},e.hasChildren=function(t){return Object.prototype.hasOwnProperty.call(t,"children")}},function(t,e,n){const r=n(21),i=n(1),o=n(3),s=n(7),a=n(4);t.exports=class{constructor({component:t,structureDirective:e}){this.component=t,this.structureDirective=e;for(const[t,n]of Object.entries(e||{}))"placeholder"!==t&&(this[t]=n);this.content={}}getContent(){return this.content.value}hasDifferentContent(t){return""===t&&(t=void 0),this.content.value!==t}copyTo(t){this.assertCompatibility(t),t.content=r(this.content)}assertCompatibility(t){const e=this.type===t.type;o(e,`Incompatible directives: ${this.type} <-> ${t.type}`)}isEmpty(){return!this.getContent()}setData(t,e){const n=`_${this.name}Directive`;let i=r(this.component.getData(n));null==i&&(i={}),i[t]=e,this.component.setData(n,i)}removeData(t){const e=`_${this.name}Directive`,n=r(this.component.getData(e));n&&(delete n[t],this.component.setData(e,n))}getData(t){return t?null!=this.component.dataValues[`_${this.name}Directive`]?this.component.dataValues[`_${this.name}Directive`][t]:void 0:this.component.dataValues[`_${this.name}Directive`]}setTmp(t,e){const n=s.updateDirectiveTmpData(this.component,this,t,e);a.handle(n)}getTmp(t){return i(this.tmp,t)}getId(){return`${this.component.id}:${this.name}`}serialize(){return this.content.value}deserialize(t){this.content.value=t}}},function(t,e,n){const r=n(310),i=n(311),o=n(55),{log:s,assert:a}=n(2),c=n(25),u=n(157),l=n(158),p=n(316),{createSkinForComponent:h}=n(57),d={editable:"defaultParagraph",paragraph:"defaultParagraph",image:"defaultImage",html:"defaultHtml"};t.exports=class t{constructor({name:e,version:n,label:i,author:o,description:s}){this.name=e,this.author=o,this.description=s,this.version=r.valid(n),a(this.name,"Design: param 'name' is required"),a(this.version,`Design: missing or invalid param 'version' ${n}`),this.label=i||c.humanize(this.name),this.identifier=t.getIdentifier(this.name,this.version),this.imageRatios={},this.dependencies=new l,this.components=new u,this.defaultParagraph={name:void 0,directiveName:void 0},this.defaultImage={name:void 0,directiveName:void 0},this.defaultHtml={name:void 0,directiveName:void 0},this.transforms=new p(this),this.groups=[]}equals(t){return t.name===this.name&&t.version===this.version}isInRange(t){return r.satisfies(this.version,t)}isNewerThan(t){return!t||this.name===t.name&&r.gt(this.version,t.version)}hasComponent(t){return this.components.has(t)}getMissingComponents(...t){const e=[];for(const n of t)n&&!this.components.has(n)&&e.push(n);return!!e.length&&e}getComponent(t){return this.components.get(t)}getComponentStructure(t){const e=this.components.get(t);if(e)return e.structure}getComponentSkin(t){const e=this.components.get(t);if(e)return e.skin}updateComponentSkin(t,e){const n=this.components.get(t),{structure:r}=n,{skin:i,skinDirectives:o,violations:s}=h({structure:r,html:e});if(s)return{ok:!1,violations:s};n.skin=i;for(const t of o)if(t.placeholder){r.directives.get(t.name).placeholder=t.placeholder}return{ok:!0}}addComponent({structure:t,skin:e}){t.setDesign(this);const n=t.name;if(this.components.get(n)){const t=new Error("Design.addComponent(): "+`duplicate component '${n}'`);throw t.name="DuplicateComponentError",t}this.components.push(n,{structure:t,skin:e})}eachStructure(t){for(const e of this.components)t(e.structure)}getComponentNameFromIdentifier(e){return t.parseComponentIdentifier(e).name}setDefaultComponent(t,e,n){const r=n?{name:e,directiveName:n}:this.getDirectiveLocator({name:e,directiveType:t});this[d[t]]=r}setDefaultParagraph({name:t,directiveName:e}){this.setDefaultComponent("paragraph",t,e)}setDefaultImage({name:t,directiveName:e}){this.setDefaultComponent("image",t,e)}setDefaultHtml({name:t,directiveName:e}){this.setDefaultComponent("html",t,e)}getDirectiveLocator({name:t,directiveType:e}){"paragraph"===e&&(e="editable");const n=this.getComponentStructure(t);if(!n)return{name:t,directiveName:void 0};const r=n.directives.firstOfType(e);return{name:t,directiveName:r?r.name:void 0}}getLayout(t=this.defaultLayout){return this.layouts?t||this.defaultLayout?o(this.layouts,{name:t}):i(this.layouts):{wrapper:this.wrapper}}static getIdentifier(t,e){return`${t}@${e}`}static parseIdentifier(t){if(!t)return;const e=t.split("@");return 2===e.length?{name:e[0],version:e[1]}:a(!1,`could not parse design identifier: ${t}`)}static parseComponentIdentifier(t){if(!t)return;const e=t.split(".");return 1===e.length?{designName:void 0,name:e[0]}:2===e.length?{designName:e[0],name:e[1]}:s.error(`could not parse component template identifier: ${t}`)}}},function(t,e){t.exports=function(t,e,n){if(null==t)return!1;const r=t.toLowerCase(),i=-1!==e.indexOf(r),o=-1!==n.indexOf(r);return i&&!o}},function(t,e,n){var r=n(185),i=n(34),o=n(65),s=o&&o.isTypedArray,a=s?i(s):r;t.exports=a},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(66),i=n(20),o=n(31),s=n(0),a=n(11),c=n(32),u=n(43),l=n(42),p="[object Map]",h="[object Set]",d=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(a(t)&&(s(t)||"string"==typeof t||"function"==typeof t.splice||c(t)||l(t)||o(t)))return!t.length;var e=i(t);if(e==p||e==h)return!t.size;if(u(t))return!r(t).length;for(var n in t)if(d.call(t,n))return!1;return!0}},function(t,e,n){var r=n(47),i=n(202),o=n(203),s=n(204),a=n(205),c=n(206);function u(t){var e=this.__data__=new r(t);this.size=e.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=s,u.prototype.has=a,u.prototype.set=c,t.exports=u},function(t,e,n){var r=n(197),i=n(198),o=n(199),s=n(200),a=n(201);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,t.exports=c},function(t,e,n){var r=n(35);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(15)(Object,"create");t.exports=r},function(t,e,n){var r=n(215);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(102),i=n(221),o=n(11);t.exports=function(t){return o(t)?r(t,!0):i(t)}},function(t,e,n){var r=n(23),i=n(24);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},function(t,e,n){var r=n(10),i=n(5),o="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||i(t)&&r(t)==o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(126),i=n(129);e.decode=function(t,e){return(!e||e<=0?r.decodeXML:r.decodeHTML)(t)},e.decodeStrict=function(t,e){return(!e||e<=0?r.decodeXML:r.decodeHTMLStrict)(t)},e.encode=function(t,e){return(!e||e<=0?i.encodeXML:i.encodeHTML)(t)};var o=n(129);e.encodeXML=o.encodeXML,e.encodeHTML=o.encodeHTML,e.escape=o.escape,e.encodeHTML4=o.encodeHTML,e.encodeHTML5=o.encodeHTML;var s=n(126);e.decodeXML=s.decodeXML,e.decodeHTML=s.decodeHTML,e.decodeHTMLStrict=s.decodeHTMLStrict,e.decodeHTML4=s.decodeHTML,e.decodeHTML5=s.decodeHTML,e.decodeHTML4Strict=s.decodeHTMLStrict,e.decodeHTML5Strict=s.decodeHTMLStrict,e.decodeXMLStrict=s.decodeXML},function(t,e,n){var r=n(261)(n(143));t.exports=r},function(t,e){let n,r=n;t.exports={next(t="doc"){const e=Date.now().toString(32);return n===e?r+=1:(r=0,n=e),`${t}-${e}${r}`}}},function(t,e,n){const r=n(317),{assert:i}=n(2),o=n(320),s=n(321),a=n(322),c=n(93),u=n(341),l=n(95);function p(t){for(let e=0;e<t.length;e++){const n=t[e];if(n.add)return{violation:n,index:e}}return{}}function h(t,e){return new s({name:t,dom:e})}function d(t,e){const n={};return t.forEach(t=>{const r=e.properties[t];i(r,`The componentProperty '${t}' was not found.`),n[t]=r}),n}t.exports={parseComponent:function(t,e){const n=t.html,s=Array.isArray(t.directives)?r(t.directives,"name"):t.directives;let p=t.properties;const{name:f,label:m,description:g,iconUrl:v,allowedParents:y}=t,_={name:f,label:m,description:g,iconUrl:v,allowedParents:y};p&&(p=d(p,e),_.properties=p);const b=a(n);_.directivesFromTemplate=b.directives,_.directivesFromConfig=s;const x=function(t,e){const{name:n,label:r,description:s,iconUrl:a,allowedParents:p}=t,{properties:h,directivesFromTemplate:f,directivesFromConfig:m}=t,g=function(t,e,n,r){const o={};return t.forEach(t=>{o[t.name]=t}),e=e||{},Object.keys(e).forEach(t=>{const s=e[t]||{},a=o[t];a||i(!1,`Directive '${t}' not present in template for component '${n}'.`),Object.keys(s).forEach(e=>{const n=s[e];switch(e){case"type":i(a.type===n,`Directive '${t}': type does not match`);break;case"imageRatios":n&&n.length&&(a[e]=function(t,e){return t.map(t=>{const n=e.imageRatios[t];return n||new l({name:t,ratio:t})})}(n,r));break;case"properties":n&&n.length&&(a[e]=d(n,r));break;default:a[e]=n}})}),t}(f,m,n,e);return function(t,e){t.forEach(t=>{Object.keys(t).forEach(e=>{const n=t[e];switch(i(function(t){return i(c.exists(t.type),`Unkown directive '${t.type}'`),u.validate(t.type,t),!u.hasErrors()}(t),u.getErrorMessages()),e){case"srcSet":!function(t,e,n){i("img"===t.tag,`${n} is only supported for inline images.`)}(t,n,e);break;case"backgroundImage":!function(t,e,n){i("img"!==t.tag,`${n} is only supported for background images.`)}(t,n,e);break;case"services":!function(t,e){i(!t.service,'Include directive can only have either "service" or "services".')}(t,n);break;case"service":!function(t,e){i(!t.services,'Include directive can only have either "service" or "services".')}(t,n)}})})}(g),new o({name:n,label:r,description:s,iconUrl:a,properties:h,allowedParents:p,directives:g})}(_,e),C=h(f,b.skin);return{structure:x,skin:C}},createSkinForComponent:function({structure:t,html:e}){const n=t.name;let r;try{r=a(e)}catch(t){return{violations:[{parseError:!0,message:`Could not parse template: ${t.message}`}]}}const i=function(t,e){const n=[],r={};e.forEach(e=>{const i=e.name;if(r[i]=e,t.directives.has(i)){t.directives.get(i).type!==e.type&&n.push({conflict:!0,directiveName:i,message:"cannot change directive type"})}else n.push({add:!0,directiveName:i,message:"cannot add directive "+`doc-${e.type}="${i}"`})});for(const e of t.directives){const t=e.name;if(!r[t]){const{violation:i,index:o}=p(n);let s=!1;if(i){r[i.directiveName].type===e.type&&(s=!0)}s?(n.splice(o,1),n.push({rename:!0,directiveName:i.directiveName,message:`cannot rename directive doc-${e.type}="${t}" `+`to doc-${e.type}="${i.directiveName}"`})):n.push({remove:!0,directiveName:t,message:`directive doc-${e.type}="${t}" is missing`})}}return n.length?n:void 0}(t,r.directives),o=h(n,r.skin);return{violations:i,skin:o,skinDirectives:r.directives}}}},function(t,e,n){const r=n(97);t.exports=function(t,e){e?t.css("background-image",i(e)):t.css("background-image","")};const i=function(t){return`url(${t=r(t)})`}},function(t,e){t.exports=require("url")},function(t,e,n){const r=n(174);t.exports={set:function(t,e,n,i){r(t,e);const o=n.map(({width:t,url:e})=>`${e} ${t}w`).join(",");t.attr("srcset",o),t.attr("sizes",i.join(","))},reset:function(t){t.removeAttr("srcset"),t.removeAttr("sizes")}}},function(t,e,n){t.exports=n(62)},function(t,e,n){var r=n(100),i=n(30),o=n(188),s=n(0);t.exports=function(t,e){return(s(t)?r:i)(t,o(e))}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(t,e,n){(function(t){var r=n(103),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===i&&r.process,a=function(){try{var t=o&&o.require&&o.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=a}).call(this,n(63)(t))},function(t,e,n){var r=n(43),i=n(186),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(10),i=n(8),o="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",c="[object Proxy]";t.exports=function(t){if(!i(t))return!1;var e=r(t);return e==s||e==a||e==o||e==c}},function(t,e,n){var r=n(15)(n(9),"Map");t.exports=r},function(t,e,n){var r=n(46),i=n(100),o=n(71),s=n(219),a=n(220),c=n(107),u=n(108),l=n(223),p=n(224),h=n(112),d=n(75),f=n(20),m=n(225),g=n(226),v=n(116),y=n(0),_=n(32),b=n(231),x=n(8),C=n(233),w=n(14),E=1,I=2,S=4,T="[object Arguments]",A="[object Function]",D="[object GeneratorFunction]",O="[object Object]",k={};k[T]=k["[object Array]"]=k["[object ArrayBuffer]"]=k["[object DataView]"]=k["[object Boolean]"]=k["[object Date]"]=k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Map]"]=k["[object Number]"]=k[O]=k["[object RegExp]"]=k["[object Set]"]=k["[object String]"]=k["[object Symbol]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k["[object Error]"]=k[A]=k["[object WeakMap]"]=!1,t.exports=function t(e,n,N,P,R,j){var L,M=n&E,q=n&I,U=n&S;if(N&&(L=R?N(e,P,R,j):N(e)),void 0!==L)return L;if(!x(e))return e;var B=y(e);if(B){if(L=m(e),!M)return u(e,L)}else{var $=f(e),V=$==A||$==D;if(_(e))return c(e,M);if($==O||$==T||V&&!R){if(L=q||V?{}:v(e),!M)return q?p(e,a(L,e)):l(e,s(L,e))}else{if(!k[$])return R?e:{};L=g(e,$,M)}}j||(j=new r);var z=j.get(e);if(z)return z;j.set(e,L),C(e)?e.forEach(function(r){L.add(t(r,n,N,r,e,j))}):b(e)&&e.forEach(function(r,i){L.set(i,t(r,n,N,i,e,j))});var F=U?q?d:h:q?keysIn:w,H=B?void 0:F(e);return i(H||e,function(r,i){H&&(r=e[i=r]),o(L,i,t(r,n,N,i,e,j))}),L}},function(t,e,n){var r=n(207),i=n(214),o=n(216),s=n(217),a=n(218);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,t.exports=c},function(t,e,n){var r=n(36),i=n(35),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var s=t[e];o.call(t,e)&&i(s,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(109),i=n(110),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(t){return null==t?[]:(t=Object(t),r(s(t),function(e){return o.call(t,e)}))}:i;t.exports=a},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e,n){var r=n(104)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(113),i=n(111),o=n(51);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(114);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e,n){var r=n(0),i=n(53),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(s.test(t)||!o.test(t)||null!=e&&t in Object(e))}},function(t,e){t.exports=require("assert")},function(t){t.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Abreve":"Ă","abreve":"ă","ac":"∾","acd":"∿","acE":"∾̳","Acirc":"Â","acirc":"â","acute":"´","Acy":"А","acy":"а","AElig":"Æ","aelig":"æ","af":"⁡","Afr":"𝔄","afr":"𝔞","Agrave":"À","agrave":"à","alefsym":"ℵ","aleph":"ℵ","Alpha":"Α","alpha":"α","Amacr":"Ā","amacr":"ā","amalg":"⨿","amp":"&","AMP":"&","andand":"⩕","And":"⩓","and":"∧","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angmsd":"∡","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","Aogon":"Ą","aogon":"ą","Aopf":"𝔸","aopf":"𝕒","apacir":"⩯","ap":"≈","apE":"⩰","ape":"≊","apid":"≋","apos":"\'","ApplyFunction":"⁡","approx":"≈","approxeq":"≊","Aring":"Å","aring":"å","Ascr":"𝒜","ascr":"𝒶","Assign":"≔","ast":"*","asymp":"≈","asympeq":"≍","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","awconint":"∳","awint":"⨑","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","Backslash":"∖","Barv":"⫧","barvee":"⊽","barwed":"⌅","Barwed":"⌆","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","Bcy":"Б","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","Because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","Bernoullis":"ℬ","Beta":"Β","beta":"β","beth":"ℶ","between":"≬","Bfr":"𝔅","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bNot":"⫭","bnot":"⌐","Bopf":"𝔹","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxbox":"⧉","boxdl":"┐","boxdL":"╕","boxDl":"╖","boxDL":"╗","boxdr":"┌","boxdR":"╒","boxDr":"╓","boxDR":"╔","boxh":"─","boxH":"═","boxhd":"┬","boxHd":"╤","boxhD":"╥","boxHD":"╦","boxhu":"┴","boxHu":"╧","boxhU":"╨","boxHU":"╩","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxul":"┘","boxuL":"╛","boxUl":"╜","boxUL":"╝","boxur":"└","boxuR":"╘","boxUr":"╙","boxUR":"╚","boxv":"│","boxV":"║","boxvh":"┼","boxvH":"╪","boxVh":"╫","boxVH":"╬","boxvl":"┤","boxvL":"╡","boxVl":"╢","boxVL":"╣","boxvr":"├","boxvR":"╞","boxVr":"╟","boxVR":"╠","bprime":"‵","breve":"˘","Breve":"˘","brvbar":"¦","bscr":"𝒷","Bscr":"ℬ","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsolb":"⧅","bsol":"\\\\","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","Bumpeq":"≎","bumpeq":"≏","Cacute":"Ć","cacute":"ć","capand":"⩄","capbrcup":"⩉","capcap":"⩋","cap":"∩","Cap":"⋒","capcup":"⩇","capdot":"⩀","CapitalDifferentialD":"ⅅ","caps":"∩︀","caret":"⁁","caron":"ˇ","Cayleys":"ℭ","ccaps":"⩍","Ccaron":"Č","ccaron":"č","Ccedil":"Ç","ccedil":"ç","Ccirc":"Ĉ","ccirc":"ĉ","Cconint":"∰","ccups":"⩌","ccupssm":"⩐","Cdot":"Ċ","cdot":"ċ","cedil":"¸","Cedilla":"¸","cemptyv":"⦲","cent":"¢","centerdot":"·","CenterDot":"·","cfr":"𝔠","Cfr":"ℭ","CHcy":"Ч","chcy":"ч","check":"✓","checkmark":"✓","Chi":"Χ","chi":"χ","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","CircleDot":"⊙","circledR":"®","circledS":"Ⓢ","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","cir":"○","cirE":"⧃","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","clubs":"♣","clubsuit":"♣","colon":":","Colon":"∷","Colone":"⩴","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","Congruent":"≡","conint":"∮","Conint":"∯","ContourIntegral":"∮","copf":"𝕔","Copf":"ℂ","coprod":"∐","Coproduct":"∐","copy":"©","COPY":"©","copysr":"℗","CounterClockwiseContourIntegral":"∳","crarr":"↵","cross":"✗","Cross":"⨯","Cscr":"𝒞","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cupbrcap":"⩈","cupcap":"⩆","CupCap":"≍","cup":"∪","Cup":"⋓","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dagger":"†","Dagger":"‡","daleth":"ℸ","darr":"↓","Darr":"↡","dArr":"⇓","dash":"‐","Dashv":"⫤","dashv":"⊣","dbkarow":"⤏","dblac":"˝","Dcaron":"Ď","dcaron":"ď","Dcy":"Д","dcy":"д","ddagger":"‡","ddarr":"⇊","DD":"ⅅ","dd":"ⅆ","DDotrahd":"⤑","ddotseq":"⩷","deg":"°","Del":"∇","Delta":"Δ","delta":"δ","demptyv":"⦱","dfisht":"⥿","Dfr":"𝔇","dfr":"𝔡","dHar":"⥥","dharl":"⇃","dharr":"⇂","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","diam":"⋄","diamond":"⋄","Diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","DifferentialD":"ⅆ","digamma":"ϝ","disin":"⋲","div":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","DJcy":"Ђ","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","Dopf":"𝔻","dopf":"𝕕","Dot":"¨","dot":"˙","DotDot":"⃜","doteq":"≐","doteqdot":"≑","DotEqual":"≐","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrowBar":"⤓","downarrow":"↓","DownArrow":"↓","Downarrow":"⇓","DownArrowUpArrow":"⇵","DownBreve":"̑","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVectorBar":"⥖","DownLeftVector":"↽","DownRightTeeVector":"⥟","DownRightVectorBar":"⥗","DownRightVector":"⇁","DownTeeArrow":"↧","DownTee":"⊤","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","Dscr":"𝒟","dscr":"𝒹","DScy":"Ѕ","dscy":"ѕ","dsol":"⧶","Dstrok":"Đ","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","DZcy":"Џ","dzcy":"џ","dzigrarr":"⟿","Eacute":"É","eacute":"é","easter":"⩮","Ecaron":"Ě","ecaron":"ě","Ecirc":"Ê","ecirc":"ê","ecir":"≖","ecolon":"≕","Ecy":"Э","ecy":"э","eDDot":"⩷","Edot":"Ė","edot":"ė","eDot":"≑","ee":"ⅇ","efDot":"≒","Efr":"𝔈","efr":"𝔢","eg":"⪚","Egrave":"È","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","Element":"∈","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","Emacr":"Ē","emacr":"ē","empty":"∅","emptyset":"∅","EmptySmallSquare":"◻","emptyv":"∅","EmptyVerySmallSquare":"▫","emsp13":" ","emsp14":" ","emsp":" ","ENG":"Ŋ","eng":"ŋ","ensp":" ","Eogon":"Ę","eogon":"ę","Eopf":"𝔼","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","Epsilon":"Ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","Equal":"⩵","equals":"=","EqualTilde":"≂","equest":"≟","Equilibrium":"⇌","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erarr":"⥱","erDot":"≓","escr":"ℯ","Escr":"ℰ","esdot":"≐","Esim":"⩳","esim":"≂","Eta":"Η","eta":"η","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","euro":"€","excl":"!","exist":"∃","Exists":"∃","expectation":"ℰ","exponentiale":"ⅇ","ExponentialE":"ⅇ","fallingdotseq":"≒","Fcy":"Ф","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","Ffr":"𝔉","ffr":"𝔣","filig":"ﬁ","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","Fopf":"𝔽","fopf":"𝕗","forall":"∀","ForAll":"∀","fork":"⋔","forkv":"⫙","Fouriertrf":"ℱ","fpartint":"⨍","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","Fscr":"ℱ","gacute":"ǵ","Gamma":"Γ","gamma":"γ","Gammad":"Ϝ","gammad":"ϝ","gap":"⪆","Gbreve":"Ğ","gbreve":"ğ","Gcedil":"Ģ","Gcirc":"Ĝ","gcirc":"ĝ","Gcy":"Г","gcy":"г","Gdot":"Ġ","gdot":"ġ","ge":"≥","gE":"≧","gEl":"⪌","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","gescc":"⪩","ges":"⩾","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","Gfr":"𝔊","gfr":"𝔤","gg":"≫","Gg":"⋙","ggg":"⋙","gimel":"ℷ","GJcy":"Ѓ","gjcy":"ѓ","gla":"⪥","gl":"≷","glE":"⪒","glj":"⪤","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gnE":"≩","gneq":"⪈","gneqq":"≩","gnsim":"⋧","Gopf":"𝔾","gopf":"𝕘","grave":"`","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","gtcc":"⪧","gtcir":"⩺","gt":">","GT":">","Gt":"≫","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","Hacek":"ˇ","hairsp":" ","half":"½","hamilt":"ℋ","HARDcy":"Ъ","hardcy":"ъ","harrcir":"⥈","harr":"↔","hArr":"⇔","harrw":"↭","Hat":"^","hbar":"ℏ","Hcirc":"Ĥ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","Hfr":"ℌ","HilbertSpace":"ℋ","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","Hopf":"ℍ","horbar":"―","HorizontalLine":"─","hscr":"𝒽","Hscr":"ℋ","hslash":"ℏ","Hstrok":"Ħ","hstrok":"ħ","HumpDownHump":"≎","HumpEqual":"≏","hybull":"⁃","hyphen":"‐","Iacute":"Í","iacute":"í","ic":"⁣","Icirc":"Î","icirc":"î","Icy":"И","icy":"и","Idot":"İ","IEcy":"Е","iecy":"е","iexcl":"¡","iff":"⇔","ifr":"𝔦","Ifr":"ℑ","Igrave":"Ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","IJlig":"Ĳ","ijlig":"ĳ","Imacr":"Ī","imacr":"ī","image":"ℑ","ImaginaryI":"ⅈ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","Im":"ℑ","imof":"⊷","imped":"Ƶ","Implies":"⇒","incare":"℅","in":"∈","infin":"∞","infintie":"⧝","inodot":"ı","intcal":"⊺","int":"∫","Int":"∬","integers":"ℤ","Integral":"∫","intercal":"⊺","Intersection":"⋂","intlarhk":"⨗","intprod":"⨼","InvisibleComma":"⁣","InvisibleTimes":"⁢","IOcy":"Ё","iocy":"ё","Iogon":"Į","iogon":"į","Iopf":"𝕀","iopf":"𝕚","Iota":"Ι","iota":"ι","iprod":"⨼","iquest":"¿","iscr":"𝒾","Iscr":"ℐ","isin":"∈","isindot":"⋵","isinE":"⋹","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","Itilde":"Ĩ","itilde":"ĩ","Iukcy":"І","iukcy":"і","Iuml":"Ï","iuml":"ï","Jcirc":"Ĵ","jcirc":"ĵ","Jcy":"Й","jcy":"й","Jfr":"𝔍","jfr":"𝔧","jmath":"ȷ","Jopf":"𝕁","jopf":"𝕛","Jscr":"𝒥","jscr":"𝒿","Jsercy":"Ј","jsercy":"ј","Jukcy":"Є","jukcy":"є","Kappa":"Κ","kappa":"κ","kappav":"ϰ","Kcedil":"Ķ","kcedil":"ķ","Kcy":"К","kcy":"к","Kfr":"𝔎","kfr":"𝔨","kgreen":"ĸ","KHcy":"Х","khcy":"х","KJcy":"Ќ","kjcy":"ќ","Kopf":"𝕂","kopf":"𝕜","Kscr":"𝒦","kscr":"𝓀","lAarr":"⇚","Lacute":"Ĺ","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","Lambda":"Λ","lambda":"λ","lang":"⟨","Lang":"⟪","langd":"⦑","langle":"⟨","lap":"⪅","Laplacetrf":"ℒ","laquo":"«","larrb":"⇤","larrbfs":"⤟","larr":"←","Larr":"↞","lArr":"⇐","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","latail":"⤙","lAtail":"⤛","lat":"⪫","late":"⪭","lates":"⪭︀","lbarr":"⤌","lBarr":"⤎","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","Lcaron":"Ľ","lcaron":"ľ","Lcedil":"Ļ","lcedil":"ļ","lceil":"⌈","lcub":"{","Lcy":"Л","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","lE":"≦","LeftAngleBracket":"⟨","LeftArrowBar":"⇤","leftarrow":"←","LeftArrow":"←","Leftarrow":"⇐","LeftArrowRightArrow":"⇆","leftarrowtail":"↢","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVectorBar":"⥙","LeftDownVector":"⇃","LeftFloor":"⌊","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","LeftRightArrow":"↔","Leftrightarrow":"⇔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","LeftRightVector":"⥎","LeftTeeArrow":"↤","LeftTee":"⊣","LeftTeeVector":"⥚","leftthreetimes":"⋋","LeftTriangleBar":"⧏","LeftTriangle":"⊲","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVectorBar":"⥘","LeftUpVector":"↿","LeftVectorBar":"⥒","LeftVector":"↼","lEg":"⪋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","lescc":"⪨","les":"⩽","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","lessgtr":"≶","LessLess":"⪡","lesssim":"≲","LessSlantEqual":"⩽","LessTilde":"≲","lfisht":"⥼","lfloor":"⌊","Lfr":"𝔏","lfr":"𝔩","lg":"≶","lgE":"⪑","lHar":"⥢","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","LJcy":"Љ","ljcy":"љ","llarr":"⇇","ll":"≪","Ll":"⋘","llcorner":"⌞","Lleftarrow":"⇚","llhard":"⥫","lltri":"◺","Lmidot":"Ŀ","lmidot":"ŀ","lmoustache":"⎰","lmoust":"⎰","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lnE":"≨","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","LongLeftArrow":"⟵","Longleftarrow":"⟸","longleftrightarrow":"⟷","LongLeftRightArrow":"⟷","Longleftrightarrow":"⟺","longmapsto":"⟼","longrightarrow":"⟶","LongRightArrow":"⟶","Longrightarrow":"⟹","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","Lopf":"𝕃","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","LowerLeftArrow":"↙","LowerRightArrow":"↘","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","Lscr":"ℒ","lsh":"↰","Lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","Lstrok":"Ł","lstrok":"ł","ltcc":"⪦","ltcir":"⩹","lt":"<","LT":"<","Lt":"≪","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltri":"◃","ltrie":"⊴","ltrif":"◂","ltrPar":"⦖","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","macr":"¯","male":"♂","malt":"✠","maltese":"✠","Map":"⤅","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","Mcy":"М","mcy":"м","mdash":"—","mDDot":"∺","measuredangle":"∡","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","mfr":"𝔪","mho":"℧","micro":"µ","midast":"*","midcir":"⫰","mid":"∣","middot":"·","minusb":"⊟","minus":"−","minusd":"∸","minusdu":"⨪","MinusPlus":"∓","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","Mopf":"𝕄","mopf":"𝕞","mp":"∓","mscr":"𝓂","Mscr":"ℳ","mstpos":"∾","Mu":"Μ","mu":"μ","multimap":"⊸","mumap":"⊸","nabla":"∇","Nacute":"Ń","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natural":"♮","naturals":"ℕ","natur":"♮","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","Ncaron":"Ň","ncaron":"ň","Ncedil":"Ņ","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","Ncy":"Н","ncy":"н","ndash":"–","nearhk":"⤤","nearr":"↗","neArr":"⇗","nearrow":"↗","ne":"≠","nedot":"≐̸","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","nequiv":"≢","nesear":"⤨","nesim":"≂̸","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","nexist":"∄","nexists":"∄","Nfr":"𝔑","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","nGg":"⋙̸","ngsim":"≵","nGt":"≫⃒","ngt":"≯","ngtr":"≯","nGtv":"≫̸","nharr":"↮","nhArr":"⇎","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","NJcy":"Њ","njcy":"њ","nlarr":"↚","nlArr":"⇍","nldr":"‥","nlE":"≦̸","nle":"≰","nleftarrow":"↚","nLeftarrow":"⇍","nleftrightarrow":"↮","nLeftrightarrow":"⇎","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nLl":"⋘̸","nlsim":"≴","nLt":"≪⃒","nlt":"≮","nltri":"⋪","nltrie":"⋬","nLtv":"≪̸","nmid":"∤","NoBreak":"⁠","NonBreakingSpace":" ","nopf":"𝕟","Nopf":"ℕ","Not":"⫬","not":"¬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","notin":"∉","notindot":"⋵̸","notinE":"⋹̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","NotLeftTriangleBar":"⧏̸","NotLeftTriangle":"⋪","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangleBar":"⧐̸","NotRightTriangle":"⋫","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","nparallel":"∦","npar":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","nprec":"⊀","npreceq":"⪯̸","npre":"⪯̸","nrarrc":"⤳̸","nrarr":"↛","nrArr":"⇏","nrarrw":"↝̸","nrightarrow":"↛","nRightarrow":"⇏","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","Nscr":"𝒩","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","Ntilde":"Ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","Nu":"Ν","nu":"ν","num":"#","numero":"№","numsp":" ","nvap":"≍⃒","nvdash":"⊬","nvDash":"⊭","nVdash":"⊮","nVDash":"⊯","nvge":"≥⃒","nvgt":">⃒","nvHarr":"⤄","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwarhk":"⤣","nwarr":"↖","nwArr":"⇖","nwarrow":"↖","nwnear":"⤧","Oacute":"Ó","oacute":"ó","oast":"⊛","Ocirc":"Ô","ocirc":"ô","ocir":"⊚","Ocy":"О","ocy":"о","odash":"⊝","Odblac":"Ő","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","OElig":"Œ","oelig":"œ","ofcir":"⦿","Ofr":"𝔒","ofr":"𝔬","ogon":"˛","Ograve":"Ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","Omacr":"Ō","omacr":"ō","Omega":"Ω","omega":"ω","Omicron":"Ο","omicron":"ο","omid":"⦶","ominus":"⊖","Oopf":"𝕆","oopf":"𝕠","opar":"⦷","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","operp":"⦹","oplus":"⊕","orarr":"↻","Or":"⩔","or":"∨","ord":"⩝","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oS":"Ⓢ","Oscr":"𝒪","oscr":"ℴ","Oslash":"Ø","oslash":"ø","osol":"⊘","Otilde":"Õ","otilde":"õ","otimesas":"⨶","Otimes":"⨷","otimes":"⊗","Ouml":"Ö","ouml":"ö","ovbar":"⌽","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","para":"¶","parallel":"∥","par":"∥","parsim":"⫳","parsl":"⫽","part":"∂","PartialD":"∂","Pcy":"П","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","Pfr":"𝔓","pfr":"𝔭","Phi":"Φ","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","Pi":"Π","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plus":"+","plusdo":"∔","plusdu":"⨥","pluse":"⩲","PlusMinus":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","Poincareplane":"ℌ","pointint":"⨕","popf":"𝕡","Popf":"ℙ","pound":"£","prap":"⪷","Pr":"⪻","pr":"≺","prcue":"≼","precapprox":"⪷","prec":"≺","preccurlyeq":"≼","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","pre":"⪯","prE":"⪳","precsim":"≾","prime":"′","Prime":"″","primes":"ℙ","prnap":"⪹","prnE":"⪵","prnsim":"⋨","prod":"∏","Product":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","Proportional":"∝","Proportion":"∷","propto":"∝","prsim":"≾","prurel":"⊰","Pscr":"𝒫","pscr":"𝓅","Psi":"Ψ","psi":"ψ","puncsp":" ","Qfr":"𝔔","qfr":"𝔮","qint":"⨌","qopf":"𝕢","Qopf":"ℚ","qprime":"⁗","Qscr":"𝒬","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quot":"\\"","QUOT":"\\"","rAarr":"⇛","race":"∽̱","Racute":"Ŕ","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","Rang":"⟫","rangd":"⦒","range":"⦥","rangle":"⟩","raquo":"»","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarr":"→","Rarr":"↠","rArr":"⇒","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","Rarrtl":"⤖","rarrtl":"↣","rarrw":"↝","ratail":"⤚","rAtail":"⤜","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rBarr":"⤏","RBarr":"⤐","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","Rcaron":"Ř","rcaron":"ř","Rcedil":"Ŗ","rcedil":"ŗ","rceil":"⌉","rcub":"}","Rcy":"Р","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","Re":"ℜ","rect":"▭","reg":"®","REG":"®","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","Rfr":"ℜ","rHar":"⥤","rhard":"⇁","rharu":"⇀","rharul":"⥬","Rho":"Ρ","rho":"ρ","rhov":"ϱ","RightAngleBracket":"⟩","RightArrowBar":"⇥","rightarrow":"→","RightArrow":"→","Rightarrow":"⇒","RightArrowLeftArrow":"⇄","rightarrowtail":"↣","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVectorBar":"⥕","RightDownVector":"⇂","RightFloor":"⌋","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","RightTeeArrow":"↦","RightTee":"⊢","RightTeeVector":"⥛","rightthreetimes":"⋌","RightTriangleBar":"⧐","RightTriangle":"⊳","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVectorBar":"⥔","RightUpVector":"↾","RightVectorBar":"⥓","RightVector":"⇀","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoustache":"⎱","rmoust":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","Ropf":"ℝ","roplus":"⨮","rotimes":"⨵","RoundImplies":"⥰","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","Rrightarrow":"⇛","rsaquo":"›","rscr":"𝓇","Rscr":"ℛ","rsh":"↱","Rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","RuleDelayed":"⧴","ruluhar":"⥨","rx":"℞","Sacute":"Ś","sacute":"ś","sbquo":"‚","scap":"⪸","Scaron":"Š","scaron":"š","Sc":"⪼","sc":"≻","sccue":"≽","sce":"⪰","scE":"⪴","Scedil":"Ş","scedil":"ş","Scirc":"Ŝ","scirc":"ŝ","scnap":"⪺","scnE":"⪶","scnsim":"⋩","scpolint":"⨓","scsim":"≿","Scy":"С","scy":"с","sdotb":"⊡","sdot":"⋅","sdote":"⩦","searhk":"⤥","searr":"↘","seArr":"⇘","searrow":"↘","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","Sfr":"𝔖","sfr":"𝔰","sfrown":"⌢","sharp":"♯","SHCHcy":"Щ","shchcy":"щ","SHcy":"Ш","shcy":"ш","ShortDownArrow":"↓","ShortLeftArrow":"←","shortmid":"∣","shortparallel":"∥","ShortRightArrow":"→","ShortUpArrow":"↑","shy":"­","Sigma":"Σ","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","SmallCircle":"∘","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","SOFTcy":"Ь","softcy":"ь","solbar":"⌿","solb":"⧄","sol":"/","Sopf":"𝕊","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","Sqrt":"√","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","square":"□","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","squarf":"▪","squ":"□","squf":"▪","srarr":"→","Sscr":"𝒮","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","Star":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","Sub":"⋐","subdot":"⪽","subE":"⫅","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","Subset":"⋐","subseteq":"⊆","subseteqq":"⫅","SubsetEqual":"⊆","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succapprox":"⪸","succ":"≻","succcurlyeq":"≽","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","SuchThat":"∋","sum":"∑","Sum":"∑","sung":"♪","sup1":"¹","sup2":"²","sup3":"³","sup":"⊃","Sup":"⋑","supdot":"⪾","supdsub":"⫘","supE":"⫆","supe":"⊇","supedot":"⫄","Superset":"⊃","SupersetEqual":"⊇","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","Supset":"⋑","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swarhk":"⤦","swarr":"↙","swArr":"⇙","swarrow":"↙","swnwar":"⤪","szlig":"ß","Tab":"\\t","target":"⌖","Tau":"Τ","tau":"τ","tbrk":"⎴","Tcaron":"Ť","tcaron":"ť","Tcedil":"Ţ","tcedil":"ţ","Tcy":"Т","tcy":"т","tdot":"⃛","telrec":"⌕","Tfr":"𝔗","tfr":"𝔱","there4":"∴","therefore":"∴","Therefore":"∴","Theta":"Θ","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","ThickSpace":"  ","ThinSpace":" ","thinsp":" ","thkap":"≈","thksim":"∼","THORN":"Þ","thorn":"þ","tilde":"˜","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","timesbar":"⨱","timesb":"⊠","times":"×","timesd":"⨰","tint":"∭","toea":"⤨","topbot":"⌶","topcir":"⫱","top":"⊤","Topf":"𝕋","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","TRADE":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","TripleDot":"⃛","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","Tscr":"𝒯","tscr":"𝓉","TScy":"Ц","tscy":"ц","TSHcy":"Ћ","tshcy":"ћ","Tstrok":"Ŧ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","Uacute":"Ú","uacute":"ú","uarr":"↑","Uarr":"↟","uArr":"⇑","Uarrocir":"⥉","Ubrcy":"Ў","ubrcy":"ў","Ubreve":"Ŭ","ubreve":"ŭ","Ucirc":"Û","ucirc":"û","Ucy":"У","ucy":"у","udarr":"⇅","Udblac":"Ű","udblac":"ű","udhar":"⥮","ufisht":"⥾","Ufr":"𝔘","ufr":"𝔲","Ugrave":"Ù","ugrave":"ù","uHar":"⥣","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","Umacr":"Ū","umacr":"ū","uml":"¨","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","uogon":"ų","Uopf":"𝕌","uopf":"𝕦","UpArrowBar":"⤒","uparrow":"↑","UpArrow":"↑","Uparrow":"⇑","UpArrowDownArrow":"⇅","updownarrow":"↕","UpDownArrow":"↕","Updownarrow":"⇕","UpEquilibrium":"⥮","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","UpperLeftArrow":"↖","UpperRightArrow":"↗","upsi":"υ","Upsi":"ϒ","upsih":"ϒ","Upsilon":"Υ","upsilon":"υ","UpTeeArrow":"↥","UpTee":"⊥","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","Uring":"Ů","uring":"ů","urtri":"◹","Uscr":"𝒰","uscr":"𝓊","utdot":"⋰","Utilde":"Ũ","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","Uuml":"Ü","uuml":"ü","uwangle":"⦧","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","vArr":"⇕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vBar":"⫨","Vbar":"⫫","vBarv":"⫩","Vcy":"В","vcy":"в","vdash":"⊢","vDash":"⊨","Vdash":"⊩","VDash":"⊫","Vdashl":"⫦","veebar":"⊻","vee":"∨","Vee":"⋁","veeeq":"≚","vellip":"⋮","verbar":"|","Verbar":"‖","vert":"|","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","Vopf":"𝕍","vopf":"𝕧","vprop":"∝","vrtri":"⊳","Vscr":"𝒱","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","Vvdash":"⊪","vzigzag":"⦚","Wcirc":"Ŵ","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","Wedge":"⋀","wedgeq":"≙","weierp":"℘","Wfr":"𝔚","wfr":"𝔴","Wopf":"𝕎","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","Wscr":"𝒲","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","Xfr":"𝔛","xfr":"𝔵","xharr":"⟷","xhArr":"⟺","Xi":"Ξ","xi":"ξ","xlarr":"⟵","xlArr":"⟸","xmap":"⟼","xnis":"⋻","xodot":"⨀","Xopf":"𝕏","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrarr":"⟶","xrArr":"⟹","Xscr":"𝒳","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","Yacute":"Ý","yacute":"ý","YAcy":"Я","yacy":"я","Ycirc":"Ŷ","ycirc":"ŷ","Ycy":"Ы","ycy":"ы","yen":"¥","Yfr":"𝔜","yfr":"𝔶","YIcy":"Ї","yicy":"ї","Yopf":"𝕐","yopf":"𝕪","Yscr":"𝒴","yscr":"𝓎","YUcy":"Ю","yucy":"ю","yuml":"ÿ","Yuml":"Ÿ","Zacute":"Ź","zacute":"ź","Zcaron":"Ž","zcaron":"ž","Zcy":"З","zcy":"з","Zdot":"Ż","zdot":"ż","zeetrf":"ℨ","ZeroWidthSpace":"​","Zeta":"Ζ","zeta":"ζ","zfr":"𝔷","Zfr":"ℨ","ZHcy":"Ж","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","Zopf":"ℤ","Zscr":"𝒵","zscr":"𝓏","zwj":"‍","zwnj":"‌"}')},function(t){t.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')},function(t,e,n){var r=n(11),i=n(5);t.exports=function(t){return i(t)&&r(t)}},function(t,e,n){var r=n(44),i=n(124),o=n(125);t.exports=function(t,e){return o(i(t,e,r),t+"")}},function(t,e,n){var r=n(264),i=n(5);t.exports=function t(e,n,o,s,a){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!=e&&n!=n:r(e,n,o,s,t,a))}},function(t,e,n){var r=n(70),i=n(265),o=n(266);function s(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}s.prototype.add=s.prototype.push=i,s.prototype.has=o,t.exports=s},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){const r=n(278).Parser,i=n(292);t.exports=function(t,e){if(!t)return[];const n=new i(e),o=new r(n,{});if(o.write(t),o.done(),n.error)throw n.error;return n.dom}},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(n(148)),a=n(134),c=new Set(["input","option","optgroup","select","button","datalist","textarea"]),u=new Set(["p"]),l={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:u,h1:u,h2:u,h3:u,h4:u,h5:u,h6:u,select:c,input:c,output:c,button:c,datalist:c,textarea:c,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:u,article:u,aside:u,blockquote:u,details:u,div:u,dl:u,fieldset:u,figcaption:u,figure:u,footer:u,form:u,header:u,hr:u,main:u,nav:u,ol:u,pre:u,section:u,table:u,ul:u,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},p=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),h=new Set(["math","svg"]),d=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),f=/\s|\//,m=function(t){function e(n,r){var i=t.call(this)||this;return i._tagname="",i._attribname="",i._attribvalue="",i._attribs=null,i._stack=[],i._foreignContext=[],i.startIndex=0,i.endIndex=null,i.parseChunk=e.prototype.write,i.done=e.prototype.end,i._options=r||{},i._cbs=n||{},i._tagname="",i._attribname="",i._attribvalue="",i._attribs=null,i._stack=[],i._foreignContext=[],i.startIndex=0,i.endIndex=null,i._lowerCaseTagNames="lowerCaseTags"in i._options?!!i._options.lowerCaseTags:!i._options.xmlMode,i._lowerCaseAttributeNames="lowerCaseAttributeNames"in i._options?!!i._options.lowerCaseAttributeNames:!i._options.xmlMode,i._tokenizer=new(i._options.Tokenizer||s.default)(i._options,i),i._cbs.onparserinit&&i._cbs.onparserinit(i),i}return i(e,t),e.prototype._updatePosition=function(t){null===this.endIndex?this._tokenizer._sectionStart<=t?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-t:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},e.prototype.ontext=function(t){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(t)},e.prototype.onopentagname=function(t){if(this._lowerCaseTagNames&&(t=t.toLowerCase()),this._tagname=t,!this._options.xmlMode&&t in l)for(var e=void 0;l[t].has(e=this._stack[this._stack.length-1]);this.onclosetag(e));!this._options.xmlMode&&p.has(t)||(this._stack.push(t),h.has(t)?this._foreignContext.push(!0):d.has(t)&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(t),this._cbs.onopentag&&(this._attribs={})},e.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&p.has(this._tagname)&&this._cbs.onclosetag(this._tagname),this._tagname=""},e.prototype.onclosetag=function(t){if(this._updatePosition(1),this._lowerCaseTagNames&&(t=t.toLowerCase()),(h.has(t)||d.has(t))&&this._foreignContext.pop(),!this._stack.length||!this._options.xmlMode&&p.has(t))this._options.xmlMode||"br"!==t&&"p"!==t||(this.onopentagname(t),this._closeCurrentTag());else{var e=this._stack.lastIndexOf(t);if(-1!==e)if(this._cbs.onclosetag)for(e=this._stack.length-e;e--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=e;else"p"!==t||this._options.xmlMode||(this.onopentagname(t),this._closeCurrentTag())}},e.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},e.prototype._closeCurrentTag=function(){var t=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===t&&(this._cbs.onclosetag&&this._cbs.onclosetag(t),this._stack.pop())},e.prototype.onattribname=function(t){this._lowerCaseAttributeNames&&(t=t.toLowerCase()),this._attribname=t},e.prototype.onattribdata=function(t){this._attribvalue+=t},e.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},e.prototype._getInstructionName=function(t){var e=t.search(f),n=e<0?t:t.substr(0,e);return this._lowerCaseTagNames&&(n=n.toLowerCase()),n},e.prototype.ondeclaration=function(t){if(this._cbs.onprocessinginstruction){var e=this._getInstructionName(t);this._cbs.onprocessinginstruction("!"+e,"!"+t)}},e.prototype.onprocessinginstruction=function(t){if(this._cbs.onprocessinginstruction){var e=this._getInstructionName(t);this._cbs.onprocessinginstruction("?"+e,"?"+t)}},e.prototype.oncomment=function(t){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(t),this._cbs.oncommentend&&this._cbs.oncommentend()},e.prototype.oncdata=function(t){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(t),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+t+"]]")},e.prototype.onerror=function(t){this._cbs.onerror&&this._cbs.onerror(t)},e.prototype.onend=function(){if(this._cbs.onclosetag)for(var t=this._stack.length;t>0;this._cbs.onclosetag(this._stack[--t]));this._cbs.onend&&this._cbs.onend()},e.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},e.prototype.parseComplete=function(t){this.reset(),this.end(t)},e.prototype.write=function(t){this._tokenizer.write(t)},e.prototype.end=function(t){this._tokenizer.end(t)},e.prototype.pause=function(){this._tokenizer.pause()},e.prototype.resume=function(){this._tokenizer.resume()},e}(a.EventEmitter);e.Parser=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTag=function(t){return"tag"===t.type||"script"===t.type||"style"===t.type},e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"},function(t,e,n){const r=n(17),i=n(21),o=n(39);t.exports=class extends o{getContent(){return this.content}isEmpty(){if(this.content)for(const t of Object.values(this.content))if(t)return!1;return!0}hasDifferentContent(t){return!r(this.content,t)}hasDifferentProperty(t,e){return!r(this.content[t],e)}serialize(){return this.content}deserialize(t={}){this.content=i(t)}}},function(t,e){t.exports=function(t){t=t?flagsCache[t]||createFlags(t):{};var e,n,r,i,o,s,a=[],c=[],u=function(e){var n,r,i;for(n=0,r=e.length;n<r;n++)i=e[n],Array.isArray(i)?u(i):"function"==typeof i&&(t.unique&&p.has(i)||a.push(i))},l=function(u,l){for(l=l||[],e=!t.memory||[u,l],n=!0,r=!0,s=i||0,i=0,o=a.length;a&&s<o;s++)if(!1===a[s].apply(u,l)&&t.stopOnFalse){e=!0;break}r=!1,a&&(t.once?!0===e?p.disable():a=[]:c&&c.length&&(e=c.shift(),p.fireWith(e[0],e[1])))},p={add:function(){if(a){var t=a.length;u(arguments),r?o=a.length:e&&!0!==e&&(i=t,l(e[0],e[1]))}return this},remove:function(){if(a)for(var e=arguments,n=0,i=e.length;n<i;n++)for(var c=0;c<a.length&&(e[n]!==a[c]||(r&&c<=o&&(o--,c<=s&&s--),a.splice(c--,1),!t.unique));c++);return this},has:function(t){if(a)for(var e=0,n=a.length;e<n;e++)if(t===a[e])return!0;return!1},empty:function(){return a=[],this},disable:function(){return a=c=e=void 0,this},disabled:function(){return!a},lock:function(){return c=void 0,e&&!0!==e||p.disable(),this},locked:function(){return!c},fireWith:function(n,i){return c&&(r?t.once||c.push([n,i]):t.once&&e||l(n,i)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!n}};return p}},function(t,e){t.exports=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}},function(t,e,n){var r=n(144),i=n(326),o=n(327);t.exports=function(t,e,n){return e==e?o(t,e,n):r(t,i,n)}},function(t,e){t.exports={directives:{container:{attr:"doc-container",overwritesContent:!0},editable:{attr:"doc-editable",overwritesContent:!0},html:{attr:"doc-html",overwritesContent:!0},include:{attr:"doc-include",overwritesContent:!0},link:{attr:"doc-link"},image:{attr:"doc-image"},optional:{attr:"doc-optional",modifier:!0},toggle:{attr:"doc-toggle"},style:{attr:"doc-style"}},exists(t){return!!this.directives[t]},doesOverwriteContent(t){return!!(this.directives[t]?this.directives[t].overwritesContent:void 0)}}},function(t,e){var n,r;n=Object.prototype.toString,t.exports=r={isObject:function(t){return"object"===typeof t&&!!t&&!this.isArray(t)},isBoolean:function(t){return!0===t||!1===t||"[object Boolean]"===n.call(t)}},["Function","String","Number","Date","RegExp","Array"].forEach(function(t){return r["is"+t]=function(e){return n.call(e)==="[object "+t+"]"}}),Array.isArray&&(r.isArray=Array.isArray)},function(t,e,n){const r=n(26),i=n(16),o=n(3),s=n(25),a=/(\d+)\s?[/:x]\s?(\d+)/;class c{constructor({name:t,label:e,ratio:n}){this.name=t||n,this.label=e||s.humanize(this.name),this.ratio=this.parseRatio(n)}parseRatio(t){const e=t;if(i(t)){const e=a.exec(t);t=!!e&&Number(e[1])/Number(e[2])}return o(r(t),`Could not parse image ratio '${e}'`),function(t){return parseFloat(t.toPrecision(6))}(t)}}c.prototype.ratioString=a,t.exports=c},function(t,e,n){const r=n(382);function i(t){if(t)return t.parentComponent?t.parentComponent.id:"root"}t.exports={serializeCommand(t){const e={type:t.type};if("insertComponent"===t.type||"transformComponent"===t.type){const n=t.component;e.component=n.toJson(),e.component.componentName=n.componentName}else{const n=t.component;e.component={id:n.id,componentName:n.componentName}}if(t.position){const{parentContainer:n,containerInsertIndex:r,next:o,previous:s}=t.position;e.position={parentId:i(n),parentContainerName:n?n.name:void 0,previousId:s?s.id:void 0,nextId:o?o.id:void 0,containerInsertIndex:r}}return t.directive&&(e.directiveName=t.directive.name),t.value&&(e.value=t.value),t.serviceName&&(e.serviceName=t.serviceName),t.name&&(e.name=t.name),t.key&&(e.key=t.key),t.eventSource&&(e.eventSource=t.eventSource),e},deserializeCommand(t,e){switch(t.type){case"insertComponent":return function(t,e){const n=[],i={type:t.type},{conflict:o,deserializedPosition:s}=r.adaptPositionComponent(t.position,e);o&&s.parentContainer.hasChildren()&&n.push(o);return i.position=s,i.component=r.adaptComponentToInsert(t,e),i.eventSource=t.eventSource,{conflicts:n,deserializedCommand:i}}(t,e);case"transformComponent":return function(t,e){const n=[],r={type:t.type},i=t.component.id,o=e.findById(i);if(o){r.component=o;const n=e.createComponentFromJson(t.component);r.replacement=n}else n.push({type:"NotExistingComponent",componentId:i});return{conflicts:n,deserializedCommand:r}}(t,e);case"moveComponent":return function(t,e){const n=[],i={type:t.type};if(t.component){const r=t.component.id,o=e.findById(r);o?i.component=o:n.push({type:"ComponentAlreadyRemoved",componentId:r})}const o={};t.position&&t.position.parentId&&(o.parentContainer=r.getParentContainer(t.position,e));if(t.position&&t.position.nextId){const r=e.findById(t.position.nextId);r?o.next=r:n.push({type:"ComponentAlreadyRemoved",componentId:t.position.next.id})}if(t.position&&t.position.previousId){const r=e.findById(t.position.previousId);r?r.parentContainer.parentComponent&&o.parentContainer.parentComponent&&r.parentContainer.parentComponent.id===o.parentContainer.parentComponent.id||r.parentContainer.isRoot&&o.parentContainer.isRoot?o.previous=r:o.previous=void 0:n.push({type:"ComponentAlreadyRemoved",componentId:t.position.previousId})}(o.previous&&o.previous.next!==o.next||o.next&&o.next.previous!==o.previous)&&n.push({type:"PositionObjectIsNotCorrect",componentId:i.component.id});return i.position=o,i.eventSource=t.eventSource,{conflicts:n,deserializedCommand:i}}(t,e);case"removeComponent":return function(t,e){const n=[],r={type:t.type};if(t.component){const i=t.component.id,o=e.findById(i);o?r.component=o:n.push({type:"ComponentAlreadyRemoved",componentId:i})}return r.eventSource=t.eventSource,{conflicts:n,deserializedCommand:r}}(t,e);case"updateEditableDirective":case"updateImageDirective":case"updateToggleDirective":case"updateStyleDirective":case"updateIncludeDirective":case"updateLinkDirective":case"updateHtmlDirective":return function(t,e){const n=[],i={type:t.type};if(t.component){const r=t.component.id,o=e.findById(r);o?i.component=o:n.push({type:"NotExistingComponent",componentId:r})}const{directiveConflict:o,directive:s}=r.adaptDirective(t,i.component);o?(o.commands=[t],n.push(o)):i.directive=s;return i.key=t.key,i.value=t.value,i.serviceName=t.serviceName,i.eventSource=t.eventSource,{conflicts:n,deserializedCommand:i}}(t,e);case"updateComponentStyle":case"updateComponentData":return function(t,e){const n=[],r={type:t.type},i=e.findById(t.component.id);i?r.component=i:n.push({type:"NotExistingComponent",componentId:r.component.id});return r.value=t.value,r.key=t.key,r.name=t.name,r.eventSource=t.eventSource,{conflicts:n,deserializedCommand:r}}(t,e);case"updateTmpImageDirective":case"updateDirectiveTmpData":return{skip:!0};default:return{conflicts:[{type:"InvalidCommand",commandType:t.type}]}}}}},function(t,e){t.exports=function(t){return/[()]/.test(t)?`'${t}'`:t}},function(t,e,n){const r=n(1),i=n(6);t.exports={for:function(t){const e=r(i,t);if(!e)throw new Error(`Default configuration for '${t}' not set`);return{config:e,getWidths:function(t){return o(this.config,"srcSet","widths",t)},getSizes:function(t){return o(this.config,"srcSet","sizes",t)},getDefaultWidth:function(t){return o(this.config,"srcSet","defaultWidth",t)},getBgImageMaxWidth:function(t){return o(this.config,"backgroundImage","maxWidth",t)}}}};const o=function(t,e,n,r){if(r.hasOwnProperty(e)){if(r[e].hasOwnProperty(n))return r[e][n]}let i;try{i=t[e][n]}catch(t){throw new Error(`PropertyName '${n}' for '${e}' not found`)}return i}},function(t,e,n){const r=n(61),i=n(45),o=n(21),s=n(235),a=n(236),c=n(37);function u(t,e,n){if(e)if(e.modifiesClassAttribute()){const r=e.cssClassChanges(n);r.remove&&r.remove.forEach(e=>{t.removeClass(e)}),t.addClass(r.add)}else t.css(e.cssPropertyName,n||"")}t.exports=class{static renderComponent(t,e,n,r){null==e&&(e={});const i=this.renderComponentDom(t,r);if("text/json"===e.format)return i;return c([i],{prettyHtml:e.prettyHtml,decodeHTML:e.decodeHtml,renderDirectiveInfo:e.renderDirectiveInfo})}static renderComponentDom(t,e){const n=this.getComponentDom(t,e),i={};s.eachDirective([n],(t,e)=>{r(e,(e,n)=>{i[e]=t})}),this.processComponentElem(n,t);for(const e of t.directives)this.processDirective(i,e);for(const n of t.containers){const t=this.renderContainerDom(n,e);if(t.length){const e=i[n.name];this.appendChildren(e,t)}}return n}static getComponentDom(t,e){const n=t.getSkin();return o(n.dom[0])}static renderContainerDom(t,e){const n=[];t.nestedTree&&(t=t.nestedTree);for(const r of t)n.push(this.renderComponentDom(r,e));return n}static processComponentElem(t,e){if(e.styles){const n=new a(t);for(const t in e.styles){const r=e.styles[t];u(n,e.structure.styles[t],r)}}}static processDirective(t,e){const n=t[e.name];switch(e.type){case"editable":this.processEditable(n,e);break;case"image":this.processImage(n,e);break;case"html":this.processHtml(n,e);break;case"include":this.processInclude(n,e);break;case"link":this.processLink(n,e);break;case"toggle":this.processToggle(n,e);break;case"style":this.processStyle(n,e)}}static processEditable(t,e){if(e.optional&&e.isEmpty())return void(t.doNotRender=!0);const n=e.getContent();t.children=[{type:"text",data:n}]}static processImage(t,e){if(e.isInlineImage()&&!e.getUrl()&&!e.isTemporaryImage())return void(t.doNotRender=!0);const n=e.getImageService(),r=new a(t);n.set(r,e)}static processHtml(t,e){const n=e.getContent();this.appendHtml(t,n)}static processInclude(t,e){e.isResolved()?this.appendHtml(t,e.resolvedValue):this.renderIncludePlaceholder(t,e)}static appendHtml(t,e){t.children=[{type:"text",data:e}]}static renderIncludePlaceholder(t,e){const n=e.getService(),r=e.getParams(),o=s.createElem("ld-include",{"data-include-service":n}),c=new a(o);if(!i(r)){const t=s.escapeAttributeData(r);c.attr("data-include-params",t)}t.children=[o]}static processLink(t,e){const n=e.getContent(),r=new a(t);n?r.attr("href",n):r.removeAttr("href")}static processToggle(t,e){!1===e.getContent()&&(t.doNotRender=!0)}static processStyle(t,e){const n=e.getContent(),r=new a(t);for(const t in n){const i=n[t];u(r,e.getStyleConfig(t),i)}}static appendChildren(t,e){t.children=e}}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(179)();t.exports=r},function(t,e,n){var r=n(180),i=n(31),o=n(0),s=n(32),a=n(33),c=n(42),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),l=!n&&i(t),p=!n&&!l&&s(t),h=!n&&!l&&!p&&c(t),d=n||l||p||h,f=d?r(t.length,String):[],m=f.length;for(var g in t)!e&&!u.call(t,g)||d&&("length"==g||p&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,m))||f.push(g);return f}},function(t,e){var n="object"==typeof global&&global&&global.Object===Object&&global;t.exports=n},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var r=n(15),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e,n){(function(t){var r=n(9),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===i?r.Buffer:void 0,a=s?s.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=a?a(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(63)(t))},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(73),i=n(74),o=n(72),s=n(110),a=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:s;t.exports=a},function(t,e,n){var r=n(113),i=n(72),o=n(14);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(73),i=n(0);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},function(t,e,n){var r=n(9).Uint8Array;t.exports=r},function(t,e,n){var r=n(76);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(230),i=n(74),o=n(43);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},function(t,e,n){var r=n(118);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(19),i=n(13),o=n(0),s=n(53),a=1/0,c=r?r.prototype:void 0,u=c?c.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(s(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-a?"-0":n}},function(t,e,n){var r=n(52),i=n(120),o=n(23);t.exports=function(t,e,n){for(var s=-1,a=e.length,c={};++s<a;){var u=e[s],l=r(t,u);n(l,u)&&i(c,o(u,t),l)}return c}},function(t,e,n){var r=n(71),i=n(23),o=n(33),s=n(8),a=n(24);t.exports=function(t,e,n,c){if(!s(t))return t;for(var u=-1,l=(e=i(e,t)).length,p=l-1,h=t;null!=h&&++u<l;){var d=a(e[u]),f=n;if(u!=p){var m=h[d];void 0===(f=c?c(m,d,h):void 0)&&(f=s(m)?m:o(e[u+1])?[]:{})}r(h,d,f),h=h[d]}return t}},function(t,e,n){var r=n(242),i=n(243);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e,n){var r=n(244),i=n(124),o=n(125);t.exports=function(t){return o(i(t,void 0,r),t+"")}},function(t,e,n){var r=n(73),i=n(245);t.exports=function t(e,n,o,s,a){var c=-1,u=e.length;for(o||(o=i),a||(a=[]);++c<u;){var l=e[c];n>0&&o(l)?n>1?t(l,n-1,o,s,a):r(a,l):s||(a[a.length]=l)}return a}},function(t,e,n){var r=n(246),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,s=-1,a=i(o.length-e,0),c=Array(a);++s<a;)c[s]=o[e+s];s=-1;for(var u=Array(e+1);++s<e;)u[s]=o[s];return u[e]=n(c),r(t,this,u)}}},function(t,e,n){var r=n(247),i=n(249)(r);t.exports=i},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(79)),o=r(n(127)),s=r(n(80)),a=r(n(128));function c(t){var e=Object.keys(t).join("|"),n=l(t),r=new RegExp("&(?:"+(e+="|#[xX][\\da-fA-F]+|#\\d+")+");","g");return function(t){return String(t).replace(r,n)}}e.decodeXML=c(s.default),e.decodeHTMLStrict=c(i.default);var u=function(t,e){return t<e?1:-1};function l(t){return function(e){return"#"===e.charAt(1)?"X"===e.charAt(2)||"x"===e.charAt(2)?a.default(parseInt(e.substr(3),16)):a.default(parseInt(e.substr(2),10)):t[e.slice(1,-1)]}}e.decodeHTML=function(){for(var t=Object.keys(o.default).sort(u),e=Object.keys(i.default).sort(u),n=0,r=0;n<e.length;n++)t[r]===e[n]?(e[n]+=";?",r++):e[n]+=";";var s=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),a=l(i.default);function c(t){return";"!==t.substr(-1)&&(t+=";"),a(t)}return function(t){return String(t).replace(s,c)}}()},function(t){t.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Acirc":"Â","acirc":"â","acute":"´","AElig":"Æ","aelig":"æ","Agrave":"À","agrave":"à","amp":"&","AMP":"&","Aring":"Å","aring":"å","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","brvbar":"¦","Ccedil":"Ç","ccedil":"ç","cedil":"¸","cent":"¢","copy":"©","COPY":"©","curren":"¤","deg":"°","divide":"÷","Eacute":"É","eacute":"é","Ecirc":"Ê","ecirc":"ê","Egrave":"È","egrave":"è","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","frac12":"½","frac14":"¼","frac34":"¾","gt":">","GT":">","Iacute":"Í","iacute":"í","Icirc":"Î","icirc":"î","iexcl":"¡","Igrave":"Ì","igrave":"ì","iquest":"¿","Iuml":"Ï","iuml":"ï","laquo":"«","lt":"<","LT":"<","macr":"¯","micro":"µ","middot":"·","nbsp":" ","not":"¬","Ntilde":"Ñ","ntilde":"ñ","Oacute":"Ó","oacute":"ó","Ocirc":"Ô","ocirc":"ô","Ograve":"Ò","ograve":"ò","ordf":"ª","ordm":"º","Oslash":"Ø","oslash":"ø","Otilde":"Õ","otilde":"õ","Ouml":"Ö","ouml":"ö","para":"¶","plusmn":"±","pound":"£","quot":"\\"","QUOT":"\\"","raquo":"»","reg":"®","REG":"®","sect":"§","shy":"­","sup1":"¹","sup2":"²","sup3":"³","szlig":"ß","THORN":"Þ","thorn":"þ","times":"×","Uacute":"Ú","uacute":"ú","Ucirc":"Û","ucirc":"û","Ugrave":"Ù","ugrave":"ù","uml":"¨","Uuml":"Ü","uuml":"ü","Yacute":"Ý","yacute":"ý","yen":"¥","yuml":"ÿ"}')},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(251));e.default=function(t){if(t>=55296&&t<=57343||t>1114111)return"�";t in i.default&&(t=i.default[t]);var e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t)}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=c(r(n(80)).default),o=u(i);e.encodeXML=f(i,o);var s=c(r(n(79)).default),a=u(s);function c(t){return Object.keys(t).sort().reduce(function(e,n){return e[t[n]]="&"+n+";",e},{})}function u(t){var e=[],n=[];return Object.keys(t).forEach(function(t){return 1===t.length?e.push("\\"+t):n.push(t)}),n.unshift("["+e.join("")+"]"),new RegExp(n.join("|"),"g")}e.encodeHTML=f(s,a);var l=/[^\0-\x7F]/g,p=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function h(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"}function d(t,e){return"&#x"+(1024*(t.charCodeAt(0)-55296)+t.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function f(t,e){return function(n){return n.replace(e,function(e){return t[e]}).replace(p,d).replace(l,h)}}var m=u(i);e.escape=function(t){return t.replace(m,h).replace(p,d).replace(l,h)}},function(t,e,n){var r=n(36),i=n(35);t.exports=function(t,e,n){(void 0===n||i(t[e],n))&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(10),i=n(74),o=n(5),s="[object Object]",a=Function.prototype,c=Object.prototype,u=a.toString,l=c.hasOwnProperty,p=u.call(Object);t.exports=function(t){if(!o(t)||r(t)!=s)return!1;var e=i(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==p}},function(t,e){t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},function(t,e,n){"use strict";t.exports=function(t){var e=void 0;e="string"==typeof t?[t]:t.raw;for(var n="",r=0;r<e.length;r++)n+=e[r].replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`"),r<(arguments.length<=1?0:arguments.length-1)&&(n+=arguments.length<=r+1?void 0:arguments[r+1]);var i=n.split("\n"),o=null;return i.forEach(function(t){var e=t.match(/^(\s+)\S+/);if(e){var n=e[1].length;o=o?Math.min(o,n):n}}),null!==o&&(n=i.map(function(t){return" "===t[0]?t.slice(o):t}).join("\n")),(n=n.trim()).replace(/\\n/g,"\n")}},function(t,e){t.exports=require("events")},function(t,e){const n=function(){return console||(window?window.console:void 0)},r=function(t,e="error"){if("critical"===e||"error"===e)throw t||(t="no error message provided"),t instanceof Error?t:new Error(t);i(t)};function i(...t){const e=n();e&&(t.length&&"trace"===t[t.length-1]&&(t.pop(),e.trace&&e.trace()),e.log.apply(e,t))}i.debug=t=>{if(!i.debugDisabled)return r(t,"debug")},i.warn=t=>{if(!i.warningsDisabled)return r(t,"warning")},i.error=t=>r(t,"error"),t.exports=i},function(t,e,n){const r=n(16),i=n(45),o=n(3),s=n(137),a=n(294),c=n(153),u=n(309),l=n(40),p=n(90),h=n(346);function d(t){this.root.componentTree=void 0,t(),this.root.componentTree=this,this.root.descendants(t=>this.attachComponent(t))}t.exports=class t{constructor({content:t,design:e,handleViolation:n}={}){this.violationHandler=new h,n&&this.violationHandler.setHandleFunction(n),this.design=e,o(this.design,"new ComponentTree(): param 'design' is missing"),o(this.design instanceof l,"new ComponentTree(): param 'design' must be a Design instance"),this.componentById={},this.root=new s({isRoot:!0}),this.root.componentTree=this,this.executedCommands=[],t&&this.initializeContent(t,"suppressEvents"),this.initializeEvents()}prepend(t){return(t=this.getComponent(t))&&this.root.prepend(t),this}append(t){return(t=this.getComponent(t))&&this.root.append(t),this}getComponent(t){return r(t)?this.createComponent(t):t}createComponent(t,e={}){const n=this.getStructure(t);if(n){const t=n.createModel();return t.setContent(e),t}}createComponentFromJson(t){return c.fromJson(t,this.design,this.violationHandler)}getStructure(t){const e=this.design.getComponentStructure(t);return o(e,`Design ${this.design.identifier}: Could not find component '${t}'`),e}initializeEvents(){this.beforeComponentAdded=p(),this.componentAdded=p(),this.beforeComponentRemoved=p(),this.componentRemoved=p(),this.beforeComponentMoved=p(),this.componentMoved=p(),this.beforeComponentTransformed=p(),this.componentTransformed=p(),this.beforeComponentContentChanged=p(),this.componentContentChanged=p(),this.beforeComponentHtmlChanged=p(),this.componentHtmlChanged=p(),this.beforeComponentSettingsChanged=p(),this.componentSettingsChanged=p(),this.beforeComponentDataChanged=p(),this.componentDataChanged=p(),this.viewUpdateRequested=p(),this.ruleViolated=p(),this.changed=p(),this.commandExecuted=p()}getIterator(){return new u({componentTree:this})}each(t){this.root.descendants(t)}descendants(t){this.root.descendants(t)}descendantsIterator(){return this.root.descendantsIterator()}eachContainer(t){this.root.eachContainer(t)}children(t){this.root.children(t)}[Symbol.iterator](){return this.root[Symbol.iterator]()}childAt(t){return this.root.childAt(t)}first(){return this.root.first}getAllComponents(){return this._componentsArrayCache?this._componentsArrayCache:(this._componentsArrayCache=[...this.descendantsIterator()],this._componentsArrayCache)}eq(t){let e=0;for(const n of this.descendantsIterator())if(t===e++)return n}indexOf(t){let e=0;for(const n of this.descendantsIterator()){if(n===t)return e;e+=1}return-1}all(t){return this.root.all(t)}find(t){if("string"==typeof t){const e=[];for(const n of this.descendantsIterator())n.componentName===t&&e.push(n);return new a(e)}return new a}findById(t){return this.componentById[t]}detach(){this.root.componentTree=void 0,this.each(t=>this.detachComponent(t));const t=this.root;return this.root=new s({isRoot:!0}),t}attachComponent(t){t.componentTree=this,this.componentById[t.id]=t}detachComponent(t){t.componentTree=void 0,this.componentById[t.id]=void 0}setMainView({renderer:t}){o(t,"componentTree.setMainView: view does not have an initialized renderer"),o(t.componentTree===this,"componentTree.setMainView: Cannot set renderer from different componentTree"),this.mainRenderer=t}getMainComponentView(t){return this.mainRenderer?this.mainRenderer.getComponentViewById(t):void 0}isDropAllowed(t,e){const{target:n,componentView:r,containerName:i,position:o}=e;if("component"===n){const e={};"before"===o&&(e.previous=r.model.previous,e.next=r.model),"after"===o&&(e.previous=r.model,e.next=r.model.next);const n=t.isValidPosition(e);if(!1===n.valid)return n}if("root"===n)return this.root.isAllowedAsChild(t);if("component"===n){return r.model.isAllowedAsSibling(t)}if("container"===n){return r.model.isAllowedAsChild(i,t)}return!1}print(){let t="ComponentTree\n-----------\n";const e=(e,n=0)=>t+=`${Array(n+1).join(" ")}${e}\n`,n=(t,r=0)=>{const{structure:i}=t;e(`- ${i.label} (${i.name})`,r);for(const i of t.containers)e(`${i.name}:`,r+2),i.first&&n(i.first,r+4);t.next&&n(t.next,r)};return this.root.first&&n(this.root.first),t}attachingComponent(t,e,n){t.componentTree===this?(this.fireBeforeEvent("beforeComponentMoved",t,n),e(),delete this._componentsArrayCache,this.fireEvent("componentMoved",t)):(this.fireBeforeEvent("beforeComponentAdded",t,n),t.componentTree&&t.remove(),t.descendantsAndSelf(t=>this.attachComponent(t)),e(),delete this._componentsArrayCache,this.fireEvent("componentAdded",t))}fireEvent(t,...e){this[t].fire(...e),this.changed.fire()}fireBeforeEvent(t,...e){this[t].fire(...e)}detachingComponent(t,e,n){o(t.componentTree===this,"cannot remove component from another ComponentTree"),this.fireBeforeEvent("beforeComponentRemoved",t,n),t.descendantsAndSelf(t=>this.detachComponent(t)),e(),delete this._componentsArrayCache,this.fireEvent("componentRemoved",t)}contentChanging(t,e,n){this.fireEvent("componentContentChanged",t,e,n)}requestViewUpdate(t,e){this.fireEvent("viewUpdateRequested",t,e)}htmlChanging(t){this.fireEvent("componentHtmlChanged",t)}reportExecutedCommand(t){this.executedCommands.push(t),this.commandExecuted.fire(t)}dataChanging(t,e){this.fireEvent("componentDataChanged",t,e)}reportViolation(t){this.fireEvent("ruleViolated",t)}serialize({omitIds:t}={}){const e=[],n={omitId:!!t,deep:!0};for(const t of this)e.push(t.toJson(n));return{content:e,design:{name:this.design.name,version:this.design.version}}}initializeContent(t,e=!0){e?d.call(this,()=>this.addContent(t)):this.addContent(t)}fromJson({content:t}){this.initializeContent(t)}clone(){const e=this.serialize();return e.design=this.design,new t(e)}addData(t){this.addContent(t.content)}addContent(t,e=this.root){if(!i(t))for(const n of t){const t=c.fromJson(n,this.design,this.violationHandler);e.append(t)}}addDataWithAnimation(t,e=200){o(this.design,"Error adding data. ComponentTree has no design");let n=Number(e);for(const r of Array.from(t.content)){const t=r;setTimeout(()=>{const e=c.fromJson(t,this.design,this.violationHandler);this.root.append(e)},n),n+=Number(e)}}toData(){return this.serialize()}toJson(...t){return this.toData.apply(this,t)}}},function(t,e,n){const r=n(1),i=n(3),o=n(133),{createInvalidChildViolation:s,createInvalidPositionViolation:a}=n(138),c=n(7),u=n(4);function l(){return this.value=this.value.next,{value:this.value,done:!this.value}}t.exports=class{constructor({parentComponent:t,name:e,isRoot:n,config:r}){this.parentComponent=t,this.name=e,this.isRoot=!!n,this.first=this.last=void 0,this.allowedChildren=void 0,this.nestedTree=void 0,this.parseConfig(r)}[Symbol.iterator](){return{value:{next:this.first},next:l}}parseConfig(t){if(t){for(const e of t.allowedChildren||[])this.allowedChildren||(this.allowedChildren={}),this.allowedChildren[e]=!0;this.defaultContent=t.defaultContent,this.defaultComponents=t.defaultComponents}}isAllowedAsChild(t){if(!!!(this.isAcceptingComponents()&&this.canBeNested(t.id)&&this.compliesWithContentRules(t)))return!1;let e=!0;return t.descendants(t=>{e=e&&t.parentContainer.isAllowedAsChild(t)}),e}isValidOperation(t){return!(!this.isAcceptingComponents()||!this.canBeNested(t.id))}compliesWithContentRules(t){return!(!this.isChildAllowed(t.structure)||!this.isAllowedAsParent(t.structure))}isTypeAllowedAsChild(t){return!!t&&!(!this.isChildAllowed(t)||!this.isAllowedAsParent(t))}isAcceptingComponents(){return!this.nestedTree}canBeNested(t){let e=this.parentComponent;for(;e;){if(e.id===t)return!1;e=e.getParent()}return!0}isChildAllowed(t){return void 0===this.allowedChildren||this.allowedChildren[t.name]}isAllowedAsParent(t){const e=t.allowedParents;if(!e)return!0;const n=this.isRoot?"root":r(this.parentComponent,"componentName");for(const t of e)if(n===t)return!0;return!1}hasChildren(){return!!this.first}getComponentTree(){return this.componentTree||r(this.parentComponent,"componentTree")}prepend(t){const e=c.insertComponent(t,{next:this.first,parentContainer:this});return u.handle(e),this}append(t){this.parentComponent&&i(t!==this.parentComponent,"cannot append component to itself");const e=c.insertComponent(t,{previous:this.last,parentContainer:this});return u.handle(e),this}appendTree(t){if(this.first)throw new Error("a componentTree can only be appended to an empty container");this.nestedTree=t}insertBefore(t,e){const n=c.insertComponent(e,{next:t,parentContainer:this});u.handle(n)}insertAfter(t,e){const n=c.insertComponent(e,{previous:t,parentContainer:this});u.handle(n)}up(t){t.previous&&this.insertBefore(t.previous,t)}down(t){t.next&&this.insertAfter(t.next,t)}remove(t){const e=c.removeComponent(t);u.handle(e)}getNextContainer(){if(!this.parentComponent)return;const{containers:t}=this.parentComponent,e=t.getIndex(this.name);i(e>=0,"container not part of component");const n=e+1;return t.length>n?t[n]:void 0}each(t){this.descendants(t)}descendants(t){let e=this.first;for(;e;)e.descendantsAndSelf(t),e=e.next}descendantsIterator(){return new p(this)}children(t){for(const e of this)t(e)}childAt(t){let e=this.first,n=0;for(;e;){if(n===t)return e;e=e.next,n+=1}}eachContainer(t){t(this);for(const e of this.descendantsIterator())for(const n of e.containers)t(n)}all(t){t(this);for(const e of this.descendantsIterator()){t(e);for(const n of e.containers)t(n)}}getDefaultParagraph(){const t=this.getComponentTree();if(!t||!t.design)return{};const e=t.design,n=r(this.defaultComponents,"paragraph");return n?e.getDirectiveLocator({name:n,directiveType:"editable"}):e.defaultParagraph}getDefaultImage(){const t=this.getComponentTree();if(!t||!t.design)return{};const e=t.design,n=r(this.defaultComponents,"image");return n?e.getDirectiveLocator({name:n,directiveType:"image"}):e.defaultImage}attachComponent(t,e={},n){if(i(this.isValidOperation(t),o`
      Invalid component tree operation. \
      Component '${t.componentName}' could not be inserted.`),!this.compliesWithContentRules(t)){const e=s(this,t);this.reportViolation(e)}if(!1===t.isValidPosition(e).valid){const n=a(t,e);this.reportViolation(n)}const r=this.getComponentTree(),c=()=>this.link(t,e);r?(this.insertDefaultContent(r,t),r.attachingComponent(t,c,n)):c()}insertDefaultContent(t,e){if(!e.insertDefaultContent)return!1;if(e.insertDefaultContent=!1,e.componentTree)return!1;for(const n of e.containers)n.defaultContent&&t.addContent(n.defaultContent,n)}_detachComponent(t,e){const n=()=>this.unlink(t),r=this.getComponentTree();r?r.detachingComponent(t,n,e):n()}link(t,e){t.parentContainer&&this.unlink(t),e.parentContainer||(e.parentContainer=this),this.setComponentPosition(t,e)}unlink(t){const e=t.parentContainer;e&&(t.previous||(e.first=t.next),t.next||(e.last=t.previous),t.next&&(t.next.previous=t.previous),t.previous&&(t.previous.next=t.next),this.setComponentPosition(t,{}))}setComponentPosition(t,{parentContainer:e,previous:n,next:r}){t.parentContainer=e,t.previous=n,t.next=r,e&&(n&&(n.next=t),r&&(r.previous=t),t.previous||(e.first=t),t.next||(e.last=t))}getContainerIdentifier(){return this.isRoot?"root":`${this.parentComponent.componentName}.containers.get('${this.name}')`}reportViolation({type:t,data:e}){const n=this.getComponentTree();n&&n.reportViolation({type:t,data:e})}};class p{constructor(t){this.value=t.first,this.descendants=void 0}[Symbol.iterator](){return this}next(){for(;this.value;){if(this.descendants){const t=this.descendants.next();if(!0!==t.done)return t}else if(void 0===this.descendants)return this.value.containers.length?this.descendants=this.value.descendantsIterator():this.descendants=!1,{value:this.value};this.value=this.value.next,this.descendants=void 0}return{done:!0}}}},function(t,e){t.exports={createInvalidChildViolation:(t,e)=>({type:"attachComponent:invalidChild",origin:t,invalidChild:e}),createInvalidPositionViolation:(t,e)=>({type:"attachComponent:invalidPosition",component:t,position:e}),createUnkownComponentViolation:(t,e)=>({type:"unknownComponent",componentName:t,designIdentifier:e,message:"deserializing component failed:"+`unknown component '${t}' in design ${e}`}),createUnkownDirectiveViolation:(t,e)=>({type:"unknownDirective",directiveName:t,componentName:e,message:"deserializing component failed: "+`unknown directive '${t}' for component '${e}'`}),createUnkownContainerViolation:t=>({type:"unknownContainer",containerName:t,message:`error while deserializing component: unknown container ${t}`}),createContainerIsNotArrayViolation:t=>({type:"containerIsNotArray",containerName:t,message:`error while deserializing component: container is not array ${t}`})}},function(t,e,n){var r=n(84),i=n(267),o=n(85),s=1,a=2;t.exports=function(t,e,n,c,u,l){var p=n&s,h=t.length,d=e.length;if(h!=d&&!(p&&d>h))return!1;var f=l.get(t);if(f&&l.get(e))return f==e;var m=-1,g=!0,v=n&a?new r:void 0;for(l.set(t,e),l.set(e,t);++m<h;){var y=t[m],_=e[m];if(c)var b=p?c(_,y,m,e,t,l):c(y,_,m,t,e,l);if(void 0!==b){if(b)continue;g=!1;break}if(v){if(!i(e,function(t,e){if(!o(v,e)&&(y===t||u(y,t,n,c,l)))return v.push(e)})){g=!1;break}}else if(y!==_&&!u(y,_,n,c,l)){g=!1;break}}return l.delete(t),l.delete(e),g}},function(t,e,n){var r=n(8);t.exports=function(t){return t==t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(144),i=n(12),o=n(145),s=Math.max;t.exports=function(t,e,n){var a=null==t?0:t.length;if(!a)return-1;var c=null==n?0:o(n);return c<0&&(c=s(a+c,0)),r(t,i(e,3),c)}},function(t,e){t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},function(t,e,n){var r=n(276);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},function(t,e,n){var r=n(10),i=n(5),o="[object Boolean]";t.exports=function(t){return!0===t||!1===t||i(t)&&r(t)==o}},function(t,e){const n=["svg","script","style","font"];t.exports=class{constructor({whitelist:t,blacklist:e}={}){Array.isArray(t)?this.validate=e=>t.includes(e):Array.isArray(e)&&(this.validate=t=>!e.includes(t))}isProhibited(t){return!!n.includes(t.name)||(!!r(t)||!!this.validate&&!this.validate(t.name))}};const r=t=>"span"===t.name&&function(t){return t.attribs.style&&1===Object.keys(t.attribs).length}(t)},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(128)),o=r(n(79)),s=r(n(127)),a=r(n(80));function c(t){return" "===t||"\n"===t||"\t"===t||"\f"===t||"\r"===t}function u(t,e,n){var r=t.toLowerCase();return t===r?function(t,i){i===r?t._state=e:(t._state=n,t._index--)}:function(i,o){o===r||o===t?i._state=e:(i._state=n,i._index--)}}function l(t,e){var n=t.toLowerCase();return function(r,i){i===n||i===t?r._state=e:(r._state=3,r._index--)}}var p=u("C",23,16),h=u("D",24,16),d=u("A",25,16),f=u("T",26,16),m=u("A",27,16),g=l("R",34),v=l("I",35),y=l("P",36),_=l("T",37),b=u("R",39,1),x=u("I",40,1),C=u("P",41,1),w=u("T",42,1),E=l("Y",44),I=l("L",45),S=l("E",46),T=u("Y",48,1),A=u("L",49,1),D=u("E",50,1),O=u("#",52,53),k=u("X",55,54),N=function(){function t(t,e){this._state=1,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=1,this._special=1,this._running=!0,this._ended=!1,this._cbs=e,this._xmlMode=!(!t||!t.xmlMode),this._decodeEntities=!(!t||!t.decodeEntities)}return t.prototype.reset=function(){this._state=1,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=1,this._special=1,this._running=!0,this._ended=!1},t.prototype._stateText=function(t){"<"===t?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=2,this._sectionStart=this._index):this._decodeEntities&&1===this._special&&"&"===t&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=1,this._state=51,this._sectionStart=this._index)},t.prototype._stateBeforeTagName=function(t){"/"===t?this._state=5:"<"===t?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===t||1!==this._special||c(t)?this._state=1:"!"===t?(this._state=15,this._sectionStart=this._index+1):"?"===t?(this._state=17,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==t&&"S"!==t?3:31,this._sectionStart=this._index)},t.prototype._stateInTagName=function(t){("/"===t||">"===t||c(t))&&(this._emitToken("onopentagname"),this._state=8,this._index--)},t.prototype._stateBeforeCloseingTagName=function(t){c(t)||(">"===t?this._state=1:1!==this._special?"s"===t||"S"===t?this._state=32:(this._state=1,this._index--):(this._state=6,this._sectionStart=this._index))},t.prototype._stateInCloseingTagName=function(t){(">"===t||c(t))&&(this._emitToken("onclosetag"),this._state=7,this._index--)},t.prototype._stateAfterCloseingTagName=function(t){">"===t&&(this._state=1,this._sectionStart=this._index+1)},t.prototype._stateBeforeAttributeName=function(t){">"===t?(this._cbs.onopentagend(),this._state=1,this._sectionStart=this._index+1):"/"===t?this._state=4:c(t)||(this._state=9,this._sectionStart=this._index)},t.prototype._stateInSelfClosingTag=function(t){">"===t?(this._cbs.onselfclosingtag(),this._state=1,this._sectionStart=this._index+1):c(t)||(this._state=8,this._index--)},t.prototype._stateInAttributeName=function(t){("="===t||"/"===t||">"===t||c(t))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=10,this._index--)},t.prototype._stateAfterAttributeName=function(t){"="===t?this._state=11:"/"===t||">"===t?(this._cbs.onattribend(),this._state=8,this._index--):c(t)||(this._cbs.onattribend(),this._state=9,this._sectionStart=this._index)},t.prototype._stateBeforeAttributeValue=function(t){'"'===t?(this._state=12,this._sectionStart=this._index+1):"'"===t?(this._state=13,this._sectionStart=this._index+1):c(t)||(this._state=14,this._sectionStart=this._index,this._index--)},t.prototype._stateInAttributeValueDoubleQuotes=function(t){'"'===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},t.prototype._stateInAttributeValueSingleQuotes=function(t){"'"===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},t.prototype._stateInAttributeValueNoQuotes=function(t){c(t)||">"===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8,this._index--):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},t.prototype._stateBeforeDeclaration=function(t){this._state="["===t?22:"-"===t?18:16},t.prototype._stateInDeclaration=function(t){">"===t&&(this._cbs.ondeclaration(this._getSection()),this._state=1,this._sectionStart=this._index+1)},t.prototype._stateInProcessingInstruction=function(t){">"===t&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=1,this._sectionStart=this._index+1)},t.prototype._stateBeforeComment=function(t){"-"===t?(this._state=19,this._sectionStart=this._index+1):this._state=16},t.prototype._stateInComment=function(t){"-"===t&&(this._state=20)},t.prototype._stateAfterComment1=function(t){this._state="-"===t?21:19},t.prototype._stateAfterComment2=function(t){">"===t?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):"-"!==t&&(this._state=19)},t.prototype._stateBeforeCdata6=function(t){"["===t?(this._state=28,this._sectionStart=this._index+1):(this._state=16,this._index--)},t.prototype._stateInCdata=function(t){"]"===t&&(this._state=29)},t.prototype._stateAfterCdata1=function(t){this._state="]"===t?30:28},t.prototype._stateAfterCdata2=function(t){">"===t?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):"]"!==t&&(this._state=28)},t.prototype._stateBeforeSpecial=function(t){"c"===t||"C"===t?this._state=33:"t"===t||"T"===t?this._state=43:(this._state=3,this._index--)},t.prototype._stateBeforeSpecialEnd=function(t){2!==this._special||"c"!==t&&"C"!==t?3!==this._special||"t"!==t&&"T"!==t?this._state=1:this._state=47:this._state=38},t.prototype._stateBeforeScript5=function(t){("/"===t||">"===t||c(t))&&(this._special=2),this._state=3,this._index--},t.prototype._stateAfterScript5=function(t){">"===t||c(t)?(this._special=1,this._state=6,this._sectionStart=this._index-6,this._index--):this._state=1},t.prototype._stateBeforeStyle4=function(t){("/"===t||">"===t||c(t))&&(this._special=3),this._state=3,this._index--},t.prototype._stateAfterStyle4=function(t){">"===t||c(t)?(this._special=1,this._state=6,this._sectionStart=this._index-5,this._index--):this._state=1},t.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var t=this._buffer.substring(this._sectionStart+1,this._index),e=this._xmlMode?a.default:o.default;Object.prototype.hasOwnProperty.call(e,t)&&(this._emitPartial(e[t]),this._sectionStart=this._index+1)}},t.prototype._parseLegacyEntity=function(){var t=this._sectionStart+1,e=this._index-t;for(e>6&&(e=6);e>=2;){var n=this._buffer.substr(t,e);if(Object.prototype.hasOwnProperty.call(s.default,n))return this._emitPartial(s.default[n]),void(this._sectionStart+=e+1);e--}},t.prototype._stateInNamedEntity=function(t){";"===t?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(t<"a"||t>"z")&&(t<"A"||t>"Z")&&(t<"0"||t>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(1!==this._baseState?"="!==t&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},t.prototype._decodeNumericEntity=function(t,e){var n=this._sectionStart+t;if(n!==this._index){var r=this._buffer.substring(n,this._index),o=parseInt(r,e);this._emitPartial(i.default(o)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},t.prototype._stateInNumericEntity=function(t){";"===t?(this._decodeNumericEntity(2,10),this._sectionStart++):(t<"0"||t>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},t.prototype._stateInHexEntity=function(t){";"===t?(this._decodeNumericEntity(3,16),this._sectionStart++):(t<"a"||t>"f")&&(t<"A"||t>"F")&&(t<"0"||t>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},t.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(1===this._state?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},t.prototype.write=function(t){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=t,this._parse()},t.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var t=this._buffer.charAt(this._index);1===this._state?this._stateText(t):12===this._state?this._stateInAttributeValueDoubleQuotes(t):9===this._state?this._stateInAttributeName(t):19===this._state?this._stateInComment(t):8===this._state?this._stateBeforeAttributeName(t):3===this._state?this._stateInTagName(t):6===this._state?this._stateInCloseingTagName(t):2===this._state?this._stateBeforeTagName(t):10===this._state?this._stateAfterAttributeName(t):13===this._state?this._stateInAttributeValueSingleQuotes(t):11===this._state?this._stateBeforeAttributeValue(t):5===this._state?this._stateBeforeCloseingTagName(t):7===this._state?this._stateAfterCloseingTagName(t):31===this._state?this._stateBeforeSpecial(t):20===this._state?this._stateAfterComment1(t):14===this._state?this._stateInAttributeValueNoQuotes(t):4===this._state?this._stateInSelfClosingTag(t):16===this._state?this._stateInDeclaration(t):15===this._state?this._stateBeforeDeclaration(t):21===this._state?this._stateAfterComment2(t):18===this._state?this._stateBeforeComment(t):32===this._state?this._stateBeforeSpecialEnd(t):38===this._state?b(this,t):39===this._state?x(this,t):40===this._state?C(this,t):33===this._state?g(this,t):34===this._state?v(this,t):35===this._state?y(this,t):36===this._state?_(this,t):37===this._state?this._stateBeforeScript5(t):41===this._state?w(this,t):42===this._state?this._stateAfterScript5(t):43===this._state?E(this,t):28===this._state?this._stateInCdata(t):44===this._state?I(this,t):45===this._state?S(this,t):46===this._state?this._stateBeforeStyle4(t):47===this._state?T(this,t):48===this._state?A(this,t):49===this._state?D(this,t):50===this._state?this._stateAfterStyle4(t):17===this._state?this._stateInProcessingInstruction(t):53===this._state?this._stateInNamedEntity(t):22===this._state?p(this,t):51===this._state?O(this,t):23===this._state?h(this,t):24===this._state?d(this,t):29===this._state?this._stateAfterCdata1(t):30===this._state?this._stateAfterCdata2(t):25===this._state?f(this,t):26===this._state?m(this,t):27===this._state?this._stateBeforeCdata6(t):55===this._state?this._stateInHexEntity(t):54===this._state?this._stateInNumericEntity(t):52===this._state?k(this,t):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},t.prototype.pause=function(){this._running=!1},t.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},t.prototype.end=function(t){this._ended&&this._cbs.onerror(Error(".end() after done!")),t&&this.write(t),this._ended=!0,this._running&&this._finish()},t.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},t.prototype._handleTrailingData=function(){var t=this._buffer.substr(this._sectionStart);28===this._state||29===this._state||30===this._state?this._cbs.oncdata(t):19===this._state||20===this._state||21===this._state?this._cbs.oncomment(t):53!==this._state||this._xmlMode?54!==this._state||this._xmlMode?55!==this._state||this._xmlMode?3!==this._state&&8!==this._state&&11!==this._state&&10!==this._state&&9!==this._state&&13!==this._state&&12!==this._state&&14!==this._state&&6!==this._state&&this._cbs.ontext(t):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},t.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},t.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},t.prototype._emitToken=function(t){this._cbs[t](this._getSection()),this._sectionStart=-1},t.prototype._emitPartial=function(t){1!==this._baseState?this._cbs.onattribdata(t):this._cbs.ontext(t)},t}();e.default=N},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(279);e.Node=r.Node,e.Element=r.Element,e.DataNode=r.DataNode,e.NodeWithChildren=r.NodeWithChildren;var i=/\s+/g,o={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1},s=function(){function t(t,e,n){this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=null,"function"==typeof e&&(n=e,e=o),"object"==typeof t&&(e=t,t=void 0),this._callback=t||null,this._options=e||o,this._elementCB=n||null}return t.prototype.onparserinit=function(t){this._parser=t},t.prototype.onreset=function(){this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=this._parser||null},t.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this.handleCallback(null))},t.prototype.onerror=function(t){this.handleCallback(t)},t.prototype.onclosetag=function(){this._lastNode=null;var t=this._tagStack.pop();t&&this._parser&&(this._options.withEndIndices&&(t.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(t))},t.prototype.onopentag=function(t,e){var n=new r.Element(t,e);this.addNode(n),this._tagStack.push(n)},t.prototype.ontext=function(t){var e=this._options.normalizeWhitespace,n=this._lastNode;if(n&&"text"===n.type)e?n.data=(n.data+t).replace(i," "):n.data+=t;else{e&&(t=t.replace(i," "));var o=new r.DataNode("text",t);this.addNode(o),this._lastNode=o}},t.prototype.oncomment=function(t){if(this._lastNode&&"comment"===this._lastNode.type)this._lastNode.data+=t;else{var e=new r.DataNode("comment",t);this.addNode(e),this._lastNode=e}},t.prototype.oncommentend=function(){this._lastNode=null},t.prototype.oncdatastart=function(){var t=new r.DataNode("text",""),e=new r.NodeWithChildren("cdata",[t]);this.addNode(e),t.parent=e,this._lastNode=t},t.prototype.oncdataend=function(){this._lastNode=null},t.prototype.onprocessinginstruction=function(t,e){var n=new r.ProcessingInstruction(t,e);this.addNode(n)},t.prototype.handleCallback=function(t){if("function"==typeof this._callback)this._callback(t,this.dom);else if(t)throw t},t.prototype.addNode=function(t){var e=this._tagStack[this._tagStack.length-1],n=e?e.children:this.dom,r=n[n.length-1];this._parser&&(this._options.withStartIndices&&(t.startIndex=this._parser.startIndex),this._options.withEndIndices&&(t.endIndex=this._parser.endIndex)),n.push(t),r&&(t.prev=r,r.next=t),e&&(t.parent=e),this._lastNode=null},t.prototype.addDataNode=function(t){this.addNode(t),this._lastNode=t},t}();e.DomHandler=s,e.default=s},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(149)),c=s(n(151)),u=n(87),l=function(t){function e(e,n){return"object"==typeof e&&null!==e&&(n=e=void 0),t.call(this,e,n)||this}return i(e,t),e.prototype.onend=function(){var t={},e=h(g,this.dom);if(e)if("feed"===e.name){var n=e.children;t.type="atom",m(t,"id","id",n),m(t,"title","title",n);var r=f("href",h("link",n));r&&(t.link=r),m(t,"description","subtitle",n),(i=d("updated",n))&&(t.updated=new Date(i)),m(t,"author","email",n,!0),t.items=p("entry",n).map(function(t){var e={},n=t.children;m(e,"id","id",n),m(e,"title","title",n);var r=f("href",h("link",n));r&&(e.link=r);var i=d("summary",n)||d("content",n);i&&(e.description=i);var o=d("updated",n);return o&&(e.pubDate=new Date(o)),e})}else{var i;n=h("channel",e.children).children;t.type=e.name.substr(0,3),t.id="",m(t,"title","title",n),m(t,"link","link",n),m(t,"description","description",n),(i=d("lastBuildDate",n))&&(t.updated=new Date(i)),m(t,"author","managingEditor",n,!0),t.items=p("item",e.children).map(function(t){var e={},n=t.children;m(e,"id","guid",n),m(e,"title","title",n),m(e,"link","link",n),m(e,"description","description",n);var r=d("pubDate",n);return r&&(e.pubDate=new Date(r)),e})}this.feed=t,this.handleCallback(e?null:Error("couldn't find root of feed"))},e}(a.default);function p(t,e){return c.getElementsByTagName(t,e,!0)}function h(t,e){return c.getElementsByTagName(t,e,!0,1)[0]}function d(t,e,n){return void 0===n&&(n=!1),c.getText(c.getElementsByTagName(t,e,n,1)).trim()}function f(t,e){return e?e.attribs[t]:null}function m(t,e,n,r,i){void 0===i&&(i=!1);var o=d(n,r,i);o&&(t[e]=o)}function g(t){return"rss"===t||"feed"===t||"rdf:RDF"===t}e.FeedHandler=l;var v={xmlMode:!0};e.parseFeed=function(t,e){void 0===e&&(e=v);var n=new l(e);return new u.Parser(n,e).end(t),n.feed}},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(280)),r(n(283)),r(n(284)),r(n(152)),r(n(285)),r(n(286)),r(n(38))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(38);function i(t,e,n,o){for(var s=[],a=0;a<e.length;a++){var c=e[a];if(t(c)&&(s.push(c),--o<=0))break;if(n&&r.hasChildren(c)&&c.children.length>0){var u=i(t,c.children,n,o);if(s=s.concat(u),(o-=u.length)<=0)break}}return s}e.filter=function(t,e,n,r){return void 0===n&&(n=!0),void 0===r&&(r=1/0),Array.isArray(e)||(e=[e]),i(t,e,n,r)},e.find=i,e.findOneChild=function(t,e){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n];return null},e.findOne=function t(e,n,i){void 0===i&&(i=!0);for(var o=null,s=0;s<n.length&&!o;s++){var a=n[s];r.isTag(a)&&(e(a)?o=a:i&&a.children.length>0&&(o=t(e,a.children)))}return o},e.existsOne=function t(e,n){for(var i=0;i<n.length;i++){var o=n[i];if(r.isTag(o)&&(e(o)||o.children.length>0&&t(e,o.children)))return!0}return!1},e.findAll=function(t,e){for(var n=[],i=e.slice();i.length;){var o=i.shift();o&&r.isTag(o)&&(o.children&&o.children.length>0&&i.unshift.apply(i,o.children),t(o)&&n.push(o))}return n}},function(t,e,n){const r=n(21),i=n(45),o=n(154),{createUnkownComponentViolation:s,createUnkownDirectiveViolation:a,createUnkownContainerViolation:c,createContainerIsNotArrayViolation:u}=n(138);o.prototype.toJson=function(t={}){const e={identifier:this.structure.identifier};t.omitId||(e.id=this.id);const n={};for(const t of this.directives)t.isEmpty()||(n[t.name]=t.serialize());i(n)||(e.content=n),i(this.styles)||(e.styles=r(this.styles)),i(this.dataValues)||(e.data=r(this.dataValues)),this.isPositionFixed&&(e.position="fixed");for(const n of this.containers)if(e.containers||(e.containers={}),e.containers[n.name]=[],t.deep)for(const r of n)e.containers[n.name].push(r.toJson(t));return e},o.prototype.deepCopy=function(e={}){const n=this.toJson({omitId:!0});return t.exports.fromJson(n,this.structure.design,this.componentTree.violationHandler)};t.exports={toJson:t=>o.prototype.toJson.call(t),fromJson(e,n,r){let i,l=e.component;if(l||(l=n.getComponentNameFromIdentifier(e.identifier)),l&&(i=n.getComponentStructure(l)),!i){const t=s(l,n.identifier);return void r.handleViolation(t)}const p=new o({structure:i,id:e.id,positionFlag:e.position});((t,e,n)=>{const r=[];for(const i in e){const o=e[i],s=t.directives.get(i);if(s)r.push(s.deserialize(o));else{const e=a(i,t.componentName);n.handleViolation(e)}}})(p,e.content,r);for(const t of Object.keys(e.styles||{})){const n=e.styles[t];p.setStyle(t,n)}return e.data&&p.data(e.data),function(e,n,r,i){if(n)for(const o of Object.keys(n)){const s=n[o];if(e.containers.has(o)){if(s)if(Array.isArray(s))for(const n of s){const s=t.exports.fromJson(n,r,i);s&&e.append(o,s)}else{const t=u(o);i.handleViolation(t)}}else{const t=c(o);i.handleViolation(t)}}}(p,e.containers,n,r),p}}},function(t,e,n){const{log:r,assert:i}=n(2),o=n(137),s=n(295),a=n(156),c=n(157),u=n(306),l=n(308),p=n(7),h=n(4);t.exports=class extends u{constructor({structure:t,id:e,insertDefaultContent:n,positionFlag:r}={}){super({id:e,type:"component"}),this.positionRules=new l(this,r),this.structure=t,this.insertDefaultContent=n,i(this.structure,"cannot instantiate component without a structure"),this.directives=new a,this.containers=new c,this.initializeDirectives(),this.styles={},this.dataValues={},this.componentName=this.structure.name}[Symbol.iterator](){return new d(this)}remove(){this.canRemove()||this.componentTree.reportViolation({type:"remove:fixedPosition",data:{component:this}}),super.remove()}initializeDirectives(){for(const t of this.structure.directives)switch(t.type){case"container":{const e=new o({name:t.name,parentComponent:this,config:t});this.containers.push(t.name,e);break}case"editable":case"image":case"html":case"link":case"include":case"toggle":case"style":this.createComponentDirective(t);break;default:r.error(`ComponentModel: unknown directive type '${t.type}'`)}}createComponentDirective(t){this.directives.add(s.create({component:this,structureDirective:t}))}getSkin(){return this.structure.getSkin()}createView(t){throw new Error("ComponentModel.createView is deprecated")}getMainView(){return this.componentTree.getMainComponentView(this.id)}isAllowedAsSibling(t){return this.parentContainer.isAllowedAsChild(t)}isTypeAllowedAsSibling(t){return!this.parentContainer||this.parentContainer.isTypeAllowedAsChild(t)}isAllowedAsChild(t,e){return this.containers.get(t).isAllowedAsChild(e)}append(t,e){return this.containers.get(t).append(e),this}prepend(t,e){return this.containers.get(t).prepend(e),this}getTransforms(){return this.structure.design?this.structure.design.transforms:void 0}getTransformOptions({oneWay:t,directives:e}={}){const n=this.getTransforms();if(n)return n.getOptionsList({structure:this.structure,oneWay:t,directives:e,filter:t=>this.isTypeAllowedAsSibling(t)})}transform(t){const e=this.getTransforms(),{design:n}=this.structure,r=n.getComponentStructure(t),o=e.isCompatible(this,r,{oneWay:!0});i(o.isCompatible,`Component ${this.componentName} can not be transformed into ${t}.`);const s=r.createModel({id:this.id}),a=o.mapping||{};for(const[t,e]of Object.entries(a)){const n=this.directives.get(t),r=s.directives.get(e);n.copyTo(r)}this.isPositionFixed&&s.setPosition("fixed");const c=p.transformComponent(this,s);return h.handle(c),s}children(t){for(const e of this)t(e)}childAt(t,e){return this.containers.get(t).childAt(e)}childrenAndSelf(t){t(this);for(const e of this)t(e)}descendants(t){for(const e of this.descendantsIterator())t(e)}descendantsIterator(){return new f(this)}descendantsAndSelf(t){t(this);for(const e of this.descendantsIterator())t(e)}descendantContainers(t){for(const e of this.containers)t(e);for(const e of this)e.descendantContainers(t)}allDescendants(t){for(const e of this.containers)t(e);for(const e of this)e.allDescendants(t)}hasContainers(){return!!this.containers.length}hasEditables(){return this.directives.count("editable")>0}hasHtml(){return this.directives.count("html")>0}hasImages(){return this.directives.count("image")>0}hasLinks(){return this.directives.count("link")>0}beforeDirectiveChanging(t,e){this.componentTree&&this.componentTree.fireBeforeEvent("beforeComponentContentChanged",this,t,e)}directiveChanging(t,e){this.componentTree&&this.componentTree.contentChanging(this,t,e)}requestDirectiveViewUpdate(t){this.componentTree&&this.componentTree.requestViewUpdate(this,t)}getContent(t){if(t){const e=this.directives.get(t);return i(e,`getContent() error: ${this.componentName} has no directive '${t}'`),e.getContent()}{const t={};for(const e of this.directives)t[e.name]=e.getContent();return t}}setContent(t,e){let n=t||{};2===arguments.length&&((n={})[t]=e);for(const t of Object.keys(n)){const e=n[t],r=this.directives.get(t);i(r,`setContent() error: ${this.componentName} has no directive '${t}'`),r.setContent(e)}}isEmpty(t){const e=this.getContent(t);return void 0===e||""===e}data(t){if("object"!=typeof t)return this.getData(t);for(const e in t){const n=t[e];this.setData(e,n)}}setData(t,e){const n=p.updateComponentData(this,t,e);h.handle(n)}getData(t){return t?this.dataValues[t]:this.dataValues}getPluginName(){if(this.plugin)return this.plugin.name}setPlugin(t){this.plugin=t}getPlugin(t){return this.plugin}getStyle(t){return this.styles[t]}setStyle(t,e){const n=p.updateComponentStyle(this,t,e);h.handle(n)}resetPositionRules(){this.positionRules.resetPositionRules(),this.componentTree&&this.componentTree.fireEvent("componentSettingsChanged")}setPosition(t){this.positionRules.setPosition(t),this.componentTree&&this.componentTree.fireEvent("componentSettingsChanged")}isValidPosition(t){return this.positionRules.isValidPosition(t)}canRemove(){return this.positionRules.canRemove()}isParentOfFixedPosition(){return this.positionRules.isParentOfFixedPosition()}copyWithoutContent(){return this.structure.createModel()}destroy(){}set(t,e){r.warn("componentModel.set() is deprecated. Please use componentModel.setContent()."),this.setContent(t,e)}get(t){return r.warn("componentModel.get() is deprecated. Please use componentModel.getContent()."),this.getContent(t)}style(t,e){r.warn("ComponentModel.style() is deprecated. Please use #getStyle() and #setStyle()."),1===arguments.length?this.styles[t]:this.setStyle(t,e)}};class d{constructor(t){this._containers=t.containers,this._i=0}next(){for(;this._containers[this._i];){if(this.value?this.value=this.value.next:this.value=this._containers[this._i].first,this.value)return this;this._i++}return{done:!0}}}class f{constructor(t){this._containers=t.containers,this._i=0}[Symbol.iterator](){return this}next(){for(;this._containers[this._i];){this._descendants||(this._descendants=this._containers[this._i].descendantsIterator());const t=this._descendants.next();if(!0!==t.done)return t;this._i++,this._descendants=void 0}return{done:!0}}}},function(t,e,n){const r=n(3),i={};t.exports={add:function(t,e){return r(!this.has(t),`Image service ${t} is already registered`),i[t]=e,e},has:function(t="default"){return null!==i[t]&&void 0!==i[t]},get:function(t="default"){return r(this.has(t),`Could not load image service ${t}`),i[t]},eachService:function(t){const e=[];for(const n in i){const r=i[n];e.push(t(n,r))}return e}}},function(t,e,n){const r=n(3);class i{constructor({directives:t}={}){if(this.all={},this.length=0,t&&t.length)for(const e of t)this.add(e)}add(t){return this.assertNameNotUsed(t),this[this.length]=t,t.index=this.length,this.length+=1,this.all[t.name]=t,this[t.type]||(this[t.type]=[]),this[t.type].push(t),t}next(t){let e;return null!=t.index&&(e=t),e||(e=this.all[t]),this[e.index+=1]}nextOfType(t){let e;t.index&&(e=t),e||(e=this.all[t]);const n=e.type;for(;e=this.next(e);)if(e.type===n)return e}get(t){return this.all[t]}has(t){return!!this.all[t]}count(t){return t?this[t]?this[t].length:void 0:this.length}names(t){return 0===arguments.length?this.length?Array.from(this).map(t=>t.name):[]:this[t]&&this[t].length?Array.from(this[t]).map(t=>t.name):[]}each(t){Array.from(this).map(e=>t(e))}eachOfType(t,e){this[t]&&Array.from(this[t]).map(t=>e(t))}firstOfType(t){return this[t]?this[t][0]:void 0}eachEditable(t){this.eachOfType("editable",t)}eachImage(t){this.eachOfType("image",t)}eachToggle(t){this.eachOfType("toggle",t)}eachContainer(t){this.eachOfType("container",t)}eachHtml(t){this.eachOfType("html",t)}eachInclude(t){this.eachOfType("include",t)}clone(){const t=new i;return this.each(e=>t.add(e.clone())),t}assertNameNotUsed(t){r(t&&!this.all[t.name],`DirectiveCollection: '${t.name}' is already used.`)}}i.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],t.exports=i},function(t,e){const{hasOwnProperty:n}=Object.prototype;class r{constructor(){this.values={},this.indexes={},this.length=0}push(t,e){return this.values[t]=e,this.indexes[t]=this.length,this[this.length]=e,this.length+=1,this.length}get(t){return this.values[t]}has(t){return n.call(this.values,t)}getIndex(t){const e=this.indexes[t];return null!=e?e:-1}each(t){for(const e of this)t(e)}toArray(){return Array.from(this)}}r.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],t.exports=r},function(t,e,n){const r=n(61),i=n(16),{log:o,assert:s}=n(2),a=n(313),c=n(314),u=n(90);t.exports=class{constructor({componentTree:t}={}){this.beforeComponentRemoved=this.beforeComponentRemoved.bind(this),this.js=[],this.css=[],this.namespaces={},this.jsWaitlist=[],this.componentTree=t,this.componentTree&&this.componentTree.componentRemoved.add(this.beforeComponentRemoved),this.dependenciesAdded=u(),this.jsDependencyLoaded=u(),this.dependencyToExecute=u(),this.codeToExecute=u(),this.dependencyRemoved=u()}parseAssetsDeclaration(t){if(!t)return;const{basePath:e}=t,n=function(t){return function(e){if(i(e))return{src:e,basePath:t};{const{src:n,name:r}=e;return{basePath:t,src:n,name:r}}}}(e),o=Array.isArray(t.js)?t.js:[{src:t.js}],s=Array.isArray(t.css)?t.css:[{src:t.css}];r(o,t=>{const e=n(t);e.src&&this.addJs(e)}),r(s,t=>{const e=n(t);e.src&&this.addCss(e)})}add(t){this.convertToAbsolutePaths(t);const e=new a(t),n=this.getExisting(e);return n?t.component?n.addComponent(t.component):void 0:this.addDependency(e)}addJs(t){t.type="js",this.add(t)}addCss(t){t.type="css",this.add(t)}executeJs(t){t.isExecuteOnly=!0,this.addJs(t)}executeCode(t){this.codeToExecute.fire(t)}convertToAbsolutePaths(t){if(!t.src)return;let{src:e}=t;this.isAbsoluteUrl(e)||(s(t.basePath,`Dependencies: relative urls are not allowed: ${e}`),e=e.replace(/^[./]*/,""),t.src=`${t.basePath.replace(/\/$/,"")}/${e}`)}isAbsoluteUrl(t){return/(^\/\/|[a-z]*:\/\/)/.test(t)||/^\//.test(t)}addDependency(t){return t.isExecuteOnly?this.dependencyToExecute.fire(t):(t.namespace&&this.addToNamespace(t),t.isJs()?(this.js.push(t),this.delayedDependency(t)):(this.css.push(t),this.dependenciesAdded.fire(void 0,[t]))),t}delayedDependency(t){this.jsWaitlist.push(t),1===this.jsWaitlist.length&&setTimeout(()=>{this.dependenciesAdded.fire(this.jsWaitlist,void 0),this.jsWaitlist=[]},0)}addToNamespace(t){if(t.namespace){this.namespaces[t.namespace]||(this.namespaces[t.namespace]=[]),this.namespaces[t.namespace].push(t)}}removeFromNamespace(t){const e=this.getNamespace(t.namespace);if(e){const n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}getNamespaces(){return Object.keys(this.namespaces)}getNamespace(t){const e=this.namespaces[t];if(e)return e.length?e:void 0}getExisting(t){const e=t.isJs()?this.js:this.css;for(const n of Array.from(e))if(n.isSameAs(t))return n}hasCss(){return this.css.length>0}hasJs(){return this.js.length>0}beforeComponentRemoved(t){const e=[];let n;this.js.forEach(r=>{(n=r.removeComponent(t))||e.push(r)}),this.css.forEach(r=>{(n=r.removeComponent(t))||e.push(r)}),e.forEach(t=>{this.removeDependency(t)})}removeDependency(t){t.namespace&&this.removeFromNamespace(t);const e=t.isJs()?this.js:this.css,n=e.indexOf(t);n>-1&&e.splice(n,1),this.dependencyRemoved.fire(t)}serialize(){const t={};return this.js&&this.js.length&&(t.js=this.js.map(t=>t.serialize())),this.css&&this.css.length&&(t.css=this.css.map(t=>t.serialize())),t}deserialize(t){if(!t)return;const e=t.js||[],n=t.css||[];e.forEach(t=>{const e={type:"js",src:t.src,code:t.code,namespace:t.namespace,name:t.name,version:t.version};this.addDeserializedObj(e,t)}),n.forEach(t=>{const e={type:"css",src:t.src,code:t.code,namespace:t.namespace,name:t.name,version:t.version};this.addDeserializedObj(e,t)})}addDeserializedObj(t,e){if(e.componentIds&&e.componentIds.length){const n=[];if(e.componentIds.forEach(t=>{const e=this.componentTree.findById(t);e&&n.push(e)}),n.length){const e=this.add(t);n.forEach(t=>e.addComponent(t))}else o.warn("Dropped dependency: could not find components that depend on it",e)}else this.add(t)}printJs(){return c.printJs(this)}printCss(){return c.printCss(this)}}},function(t,e,n){var r=n(318),i=n(319),o=n(12),s=n(0);t.exports=function(t,e){return function(n,a){var c=s(n)?r:i,u=e?e():{};return c(n,t,o(a,2),u)}}},function(t,e){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return n.test(t)}},function(t,e,n){var r=n(23),i=n(336),o=n(337),s=n(24);t.exports=function(t,e){return e=r(e,t),null==(t=o(t,e))||delete t[s(i(e))]}},function(t,e,n){var r,i;(i=new(r=n(342))).new=function(){return new r},t.exports=i,"undefined"!=typeof window&&null!==window&&(window.jScheme=i)},function(t,e,n){var r=n(92);t.exports=function(t,e){return!!(null==t?0:t.length)&&r(t,e,0)>-1}},function(t,e){t.exports=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}},function(t,e){t.exports={eventSource:{remote:"remote",local:"local"}}},function(t,e){t.exports.revert=(t,e,n)=>{const r=t.componentTree.findById(n.previous),i=t.componentTree.findById(n.next),o=n.parentContainer||t.componentTree.root;r?o.insertAfter(r,e):i?o.insertBefore(i,e):o.append(e)},t.exports.getContext=function(t,e){const n={parentContainer:t.parentContainer};return t.previous&&(n.previous=t.previous.id),t.next&&(n.next=t.next.id),n.eventSource=e,n}},function(t,e,n){const r=n(56),{parseComponent:i}=n(57),o=n(368),s=n(369);t.exports={render({wrapperHtml:t,componentTree:e},n){const a=new o({settings:n});let c;if(t){const n=function(t){const{structure:e,skin:n}=i({name:r.next("anon"),html:t});return e.setSkin(n),e.createModel()}(t);n.containers[0].appendTree(e),c=[n]}else c=e;return s.render({req:a,componentTree:c})}}},function(t,e,n){const r=n(370),i=n(372);t.exports={parse:(t,e)=>2===t.v?i(t):r.parse(t,e)}},function(t,e,n){const{log:r,assert:i}=n(2),o=n(25),s=/(^[a-zA-Z]+$)|^(#(?:[0-9a-f]{2}){2,4}|#[0-9a-f]{3}|(?:rgba?|hsla?)\((?:\d+%?(?:deg|rad|grad|turn)?(?:,|\s)+){2,3}[\s/]*[\d.]+%?\))$/i;t.exports=class{constructor({name:t,label:e,type:n,value:s,options:a,cssProperty:c}){switch(this.name=t,this.type=n,this.label=e||o.humanize(this.name),this.type){case"option":i(s,"TemplateStyle error: no 'value' provided"),this.value=s;break;case"select":i(a,"TemplateStyle error: no 'options' provided"),this.options=a;break;case"style":i(c,"TemplateStyle error: no 'cssProperty' provided"),this.cssPropertyName=c;break;default:r.error(`TemplateStyle error: unknown type '${this.type}'`)}}cssClassChanges(t){if(this.validateValue(t)){if("option"===this.type)return{remove:t?[]:[this.value],add:t||[]};if("select"===this.type)return{remove:this.otherClasses(t),add:t||[]}}else{if("option"===this.type)return{remove:currentValue||[],add:[]};if("select"===this.type)return{remove:this.otherClasses(void 0),add:[]}}}modifiesClassAttribute(){return"option"===this.type||"select"===this.type}validateValue(t){return!t||("option"===this.type?t===this.value:"select"===this.type?this.containsOption(t):"style"===this.type?this.isValidCssValue(t):void r.warn(`Not implemented: CssModificatorProperty#validateValue() for type ${this.type}`))}containsOption(t){for(const e of this.options)if(t===e.value)return!0;return!1}isValidCssValue(t){switch(this.cssPropertyName){case"color":case"background-color":return s.test(t);default:return!0}}otherOptions(t){return this.options.filter(e=>e.value!==t)}otherClasses(t){return this.otherOptions(t).filter(Boolean).map(t=>t.value)}}},function(t,e,n){var r=n(373),i=n(30),o=n(12),s=n(374),a=n(0);t.exports=function(t,e,n){var c=a(t)?r:s,u=arguments.length<3;return c(t,o(e,4),n,u,i)}},function(t,e,n){const r=n(378),{simplifyTextChanges:i}=n(383),o=n(386),s=n(387),{serializeCommand:a}=n(96);function c({versions:t,createMarkers:e}){const n=[];for(let i=t.length-1;i>0;i--){const c=t[i].componentTree,u=t[i-1].componentTree,l=new o,p=r.diff(c,u,l);if(e){const e=t[i-1].user,r=s(p,e);n.push(...r)}else n.push(...p.map(a))}return i(n),n}t.exports={createDiffCommands:({versions:t})=>c({versions:t}),createDiffMarkers:({versions:t})=>c({versions:t,createMarkers:!0})}},function(t,e,n){var r=n(109),i=n(384),o=n(12),s=n(0);t.exports=function(t,e){return(s(t)?r:i)(t,o(e,3))}},function(t,e,n){var r=n(12),i=n(385);t.exports=function(t,e){var n=[];if(!t||!t.length)return n;var o=-1,s=[],a=t.length;for(e=r(e,3);++o<a;){var c=t[o];e(c,o,t)&&(n.push(c),s.push(o))}return i(t,s),n}},function(t,e){t.exports=function(t,e){t.attr("src",e)}},function(t,e,n){var r=n(28),i=n(29),o=n(18).Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function c(){this.init(),this._w=a,i.call(this,64,56)}function u(t,e,n){return n^t&(e^n)}function l(t,e,n){return t&e|n&(t|e)}function p(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function h(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function d(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}r(c,i),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,c=0|this._e,f=0|this._f,m=0|this._g,g=0|this._h,v=0;v<16;++v)n[v]=t.readInt32BE(4*v);for(;v<64;++v)n[v]=0|(((e=n[v-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+n[v-7]+d(n[v-15])+n[v-16];for(var y=0;y<64;++y){var _=g+h(c)+u(c,f,m)+s[y]+n[y]|0,b=p(r)+l(r,i,o)|0;g=m,m=f,f=c,c=a+_|0,a=o,o=i,i=r,r=_+b|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0,this._f=f+this._f|0,this._g=m+this._g|0,this._h=g+this._h|0},c.prototype._hash=function(){var t=o.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=c},function(t,e,n){var r=n(28),i=n(29),o=n(18).Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function c(){this.init(),this._w=a,i.call(this,128,112)}function u(t,e,n){return n^t&(e^n)}function l(t,e,n){return t&e|n&(t|e)}function p(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function h(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function d(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function f(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function m(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function g(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function v(t,e){return t>>>0<e>>>0?1:0}r(c,i),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(t){for(var e=this._w,n=0|this._ah,r=0|this._bh,i=0|this._ch,o=0|this._dh,a=0|this._eh,c=0|this._fh,y=0|this._gh,_=0|this._hh,b=0|this._al,x=0|this._bl,C=0|this._cl,w=0|this._dl,E=0|this._el,I=0|this._fl,S=0|this._gl,T=0|this._hl,A=0;A<32;A+=2)e[A]=t.readInt32BE(4*A),e[A+1]=t.readInt32BE(4*A+4);for(;A<160;A+=2){var D=e[A-30],O=e[A-30+1],k=d(D,O),N=f(O,D),P=m(D=e[A-4],O=e[A-4+1]),R=g(O,D),j=e[A-14],L=e[A-14+1],M=e[A-32],q=e[A-32+1],U=N+L|0,B=k+j+v(U,N)|0;B=(B=B+P+v(U=U+R|0,R)|0)+M+v(U=U+q|0,q)|0,e[A]=B,e[A+1]=U}for(var $=0;$<160;$+=2){B=e[$],U=e[$+1];var V=l(n,r,i),z=l(b,x,C),F=p(n,b),H=p(b,n),G=h(a,E),W=h(E,a),X=s[$],J=s[$+1],Y=u(a,c,y),Z=u(E,I,S),Q=T+W|0,K=_+G+v(Q,T)|0;K=(K=(K=K+Y+v(Q=Q+Z|0,Z)|0)+X+v(Q=Q+J|0,J)|0)+B+v(Q=Q+U|0,U)|0;var tt=H+z|0,et=F+V+v(tt,H)|0;_=y,T=S,y=c,S=I,c=a,I=E,a=o+K+v(E=w+Q|0,w)|0,o=i,w=C,i=r,C=x,r=n,x=b,n=K+et+v(b=Q+tt|0,Q)|0}this._al=this._al+b|0,this._bl=this._bl+x|0,this._cl=this._cl+C|0,this._dl=this._dl+w|0,this._el=this._el+E|0,this._fl=this._fl+I|0,this._gl=this._gl+S|0,this._hl=this._hl+T|0,this._ah=this._ah+n+v(this._al,b)|0,this._bh=this._bh+r+v(this._bl,x)|0,this._ch=this._ch+i+v(this._cl,C)|0,this._dh=this._dh+o+v(this._dl,w)|0,this._eh=this._eh+a+v(this._el,E)|0,this._fh=this._fh+c+v(this._fl,I)|0,this._gh=this._gh+y+v(this._gl,S)|0,this._hh=this._hh+_+v(this._hl,T)|0},c.prototype._hash=function(){var t=o.allocUnsafe(64);function e(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=c},function(t,e,n){const r=n(99),i=n(252);i.ComponentRenderer=r,t.exports=i},function(t,e,n){var r=n(101),i=n(14);t.exports=function(t,e){return t&&r(t,e,i)}},function(t,e){t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var c=s[t?a:++i];if(!1===n(o[c],c,o))break}return e}}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(10),i=n(5),o="[object Arguments]";t.exports=function(t){return i(t)&&r(t)==o}},function(t,e,n){var r=n(19),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,a),n=t[a];try{t[a]=void 0;var r=!0}catch(t){}var i=s.call(t);return r&&(e?t[a]=n:delete t[a]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(10),i=n(64),o=n(5),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!s[r(t)]}},function(t,e,n){var r=n(104)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(11);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,s=e?o:-1,a=Object(n);(e?s--:++s<o)&&!1!==i(a[s],s,a););return n}}},function(t,e,n){var r=n(44);t.exports=function(t){return"function"==typeof t?t:r}},function(t,e,n){var r=n(15)(n(9),"DataView");t.exports=r},function(t,e,n){var r=n(67),i=n(191),o=n(8),s=n(105),a=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,p=u.hasOwnProperty,h=RegExp("^"+l.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?h:a).test(s(t))}},function(t,e,n){var r,i=n(192),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!o&&o in t}},function(t,e,n){var r=n(9)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(15)(n(9),"Promise");t.exports=r},function(t,e,n){var r=n(15)(n(9),"Set");t.exports=r},function(t,e,n){var r=n(15)(n(9),"WeakMap");t.exports=r},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(48),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(48);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(48);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(48);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(47);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(47),i=n(68),o=n(70),s=200;t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<s-1)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(208),i=n(47),o=n(68);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e,n){var r=n(209),i=n(210),o=n(211),s=n(212),a=n(213);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,t.exports=c},function(t,e,n){var r=n(49);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(49),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===i?void 0:n}return o.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(49),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(49),i="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?i:e,this}},function(t,e,n){var r=n(50);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(50);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(50);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(50);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e,n){var r=n(22),i=n(14);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e,n){var r=n(22),i=n(51);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e,n){var r=n(8),i=n(43),o=n(222),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var a in t)("constructor"!=a||!e&&s.call(t,a))&&n.push(a);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var r=n(22),i=n(72);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e,n){var r=n(22),i=n(111);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(76),i=n(227),o=n(228),s=n(229),a=n(115),c="[object Boolean]",u="[object Date]",l="[object Map]",p="[object Number]",h="[object RegExp]",d="[object Set]",f="[object String]",m="[object Symbol]",g="[object ArrayBuffer]",v="[object DataView]",y="[object Float32Array]",_="[object Float64Array]",b="[object Int8Array]",x="[object Int16Array]",C="[object Int32Array]",w="[object Uint8Array]",E="[object Uint8ClampedArray]",I="[object Uint16Array]",S="[object Uint32Array]";t.exports=function(t,e,n){var T=t.constructor;switch(e){case g:return r(t);case c:case u:return new T(+t);case v:return i(t,n);case y:case _:case b:case x:case C:case w:case E:case I:case S:return a(t,n);case l:return new T;case p:case f:return new T(t);case h:return o(t);case d:return new T;case m:return s(t)}}},function(t,e,n){var r=n(76);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(19),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},function(t,e,n){var r=n(8),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e,n){var r=n(232),i=n(34),o=n(65),s=o&&o.isMap,a=s?i(s):r;t.exports=a},function(t,e,n){var r=n(20),i=n(5),o="[object Map]";t.exports=function(t){return i(t)&&r(t)==o}},function(t,e,n){var r=n(234),i=n(34),o=n(65),s=o&&o.isSet,a=s?i(s):r;t.exports=a},function(t,e,n){var r=n(20),i=n(5),o="[object Set]";t.exports=function(t){return i(t)&&r(t)==o}},function(t,e){t.exports={eachNode(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++){const r=t[n];e(r),this.eachNode(r.children,e)}},eachElement(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++){const r=t[n];"tag"===r.type&&(e(r),this.eachElement(r.children,e))}},eachDirective(t,e){if(t)for(let n=0;n<t.length;n++){const r=t[n];"tag"===r.type&&(r.directives&&e(r,r.directives),this.eachDirective(r.children,e))}},createElem(t,e,...n){const r={type:"tag",name:t};if(e&&(r.attribs=e),!n.length)return r;r.children=[];for(let t=0;t<n.length;t++){const e=n[t];r.children[t]="string"==typeof e?{type:"text",data:e}:e}return r},escapeAttributeData(t){const e=JSON.stringify(t);return this.escapeHtml(e)},escapeHtml:t=>t?`${t}`.replace(/['"<>&]/g,t=>{switch(t){case"'":return"&#039;";case'"':return"&quot;";case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;"}}):""}},function(t,e,n){const r=n(1),i=n(16),o=n(240),s=n(78),{toString:a}=Object.prototype,c=/\s+/;t.exports=class{constructor(t){this.elem=t}attr(t,e){if(1===arguments.length)return this.getAttr(t);this.setAttr(t,e)}getAttr(t){return r(this,["elem","attribs",t],void 0)}setAttr(t,e){null==e?this.removeAttr(t):(this.elem.attribs||(this.elem.attribs={}),this.elem.attribs[t]=`${e}`)}removeAttr(t){((t,e)=>!!t.attribs&&t.attribs.hasOwnProperty(e))(this.elem,t)&&delete this.elem.attribs[t]}addClass(t){if(!t||"string"!=typeof t)return;const e=t.split(c),n=this.getAttr("class");if(n){let t=` ${n} `;e.forEach(e=>{e+=" ",-1===t.indexOf(` ${e}`)&&(t+=e)}),this.setAttr("class",t.trim())}else this.setAttr("class",e.join(" ").trim())}removeClass(t){if(!t||"string"!=typeof t)return;s(-1===t.trim().indexOf(" ")&&arguments.length<2,"DomElement#removeClass can only remove one class at a time");let e=this.getAttr("class");if(e){const n=(e=` ${e} `).replace(` ${t} `," ");this.setAttr("class",n.trim())}}css(t,e){return 2===arguments.length?this.setCss(t,e):"[object Object]"===a.call(t)?this.setCss(t):this.getCss(t)}setCss(t,e){if(2===arguments.length){const n=this.getCss();""===e?delete n[t]:null!=e&&(n[t]=e),this.setAttr("style",function(t={}){return Object.keys(t).reduce((e,n)=>{return`${e}${e?" ":""}${n}: ${t[n]};`},"")}(n)||void 0)}else for(const e of Object.keys(t)){const n=t[e];this.setCss(e,n)}}getCss(t){if(!this.elem.attribs)return{};const e=function(t){return(t=(t||"").trim())?t.split(";").reduce((t,e)=>{const n=e.indexOf(":");return n<1||n===e.length-1?t:(t[e.slice(0,n).trim()]=e.slice(n+1).trim(),t)},{}):{}}(this.elem.attribs.style);return i(t)?e[t]:Array.isArray(t)?o(e,t):e}}},function(t,e,n){var r=n(238),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=r(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)}),e});t.exports=s},function(t,e,n){var r=n(239),i=500;t.exports=function(t){var e=r(t,function(t){return n.size===i&&n.clear(),t}),n=e.cache;return e}},function(t,e,n){var r=n(70),i="Expected a function";function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(i);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},function(t,e,n){var r=n(241),i=n(122)(function(t,e){return null==t?{}:r(t,e)});t.exports=i},function(t,e,n){var r=n(119),i=n(121);t.exports=function(t,e){return r(t,e,function(e,n){return i(t,n)})}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(23),i=n(31),o=n(0),s=n(33),a=n(64),c=n(24);t.exports=function(t,e,n){for(var u=-1,l=(e=r(e,t)).length,p=!1;++u<l;){var h=c(e[u]);if(!(p=null!=t&&n(t,h)))break;t=t[h]}return p||++u!=l?p:!!(l=null==t?0:t.length)&&a(l)&&s(h,l)&&(o(t)||i(t))}},function(t,e,n){var r=n(123);t.exports=function(t){return(null==t?0:t.length)?r(t,1):[]}},function(t,e,n){var r=n(19),i=n(31),o=n(0),s=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(s&&t&&t[s])}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(248),i=n(106),o=n(44),s=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=s},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){var n=800,r=16,i=Date.now;t.exports=function(t){var e=0,o=0;return function(){var s=i(),a=r-(s-o);if(o=s,a>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e){t.exports={booleanAttributes:{__proto__:null,allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,hidden:!0,ismap:!0,loop:!0,multiple:!0,muted:!0,open:!0,readonly:!0,required:!0,reversed:!0,scoped:!0,seamless:!0,selected:!0,typemustmatch:!0},unencodedElements:{__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0},singleTags:{__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},blockElements:{h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,div:!0,p:!0,a:!0,ul:!0,ol:!0,li:!0,figure:!0,figcaption:!0,blockquote:!0,article:!0,section:!0,aside:!0,footer:!0}}},function(t){t.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},function(t,e,n){const r=n(253),i=n(259),o=n(6),s=n(260),a=n(136),c=n(168),u=n(375),l=n(155),p=n(376),h=n(167),{createDiffMarkers:d}=n(171),{getMergeCommands:f}=n(388),{runCommandsOnComponentTree:m}=n(394),g=n(27),v=n(395),y=n(400),_=n(411),b=n(413),x=n(415),C={validateDesign:t=>{try{return c.parse(t,{strict:!0}),{valid:!0}}catch(t){return{valid:!1,error:t}}},design:new u,createLivingdoc({content:t,design:e,layoutName:n,componentTree:r,config:i,handleViolation:o}){return this.config(i),s.create({content:t,design:e,layoutName:n,componentTree:r,handleViolation:o})},create(){return this.createLivingdoc.apply(this,arguments)},config(t){if(r(o,t),t&&t.imageServices)for(const e of Object.keys(t.imageServices))i(o,`imageServices.${e}`,t.imageServices[e])},createDiffMarkers:t=>d({versions:t}),getMergeCommands:({baseComponentTree:t,remoteComponentTree:e,localComponentTree:n})=>f({baseComponentTree:t,remoteComponentTree:e,localComponentTree:n}),runCommandsOnComponentTree:({componentTree:t,commands:e})=>m({componentTree:t,commands:e}),rendering:h,imageServices:l,getImageService:t=>l.get(t),plugins:p,Livingdoc:s,ComponentTree:a,DesignCache:u};s.setLivingdocsApi(C),C.imageServices.add("default",g),C.imageServices.add("resrc.it",v),C.imageServices.add("sz",y),C.imageServices.add("imgix",_),C.imageServices.add("image.resizer",x),C.imageServices.add("liImageProxy",b),t.exports=C},function(t,e,n){var r=n(254),i=n(257)(function(t,e,n){r(t,e,n)});t.exports=i},function(t,e,n){var r=n(46),i=n(130),o=n(101),s=n(255),a=n(8),c=n(51),u=n(132);t.exports=function t(e,n,l,p,h){e!==n&&o(n,function(o,c){if(h||(h=new r),a(o))s(e,n,c,l,t,p,h);else{var d=p?p(u(e,c),o,c+"",e,n,h):void 0;void 0===d&&(d=o),i(e,c,d)}},c)}},function(t,e,n){var r=n(130),i=n(107),o=n(115),s=n(108),a=n(116),c=n(31),u=n(0),l=n(81),p=n(32),h=n(67),d=n(8),f=n(131),m=n(42),g=n(132),v=n(256);t.exports=function(t,e,n,y,_,b,x){var C=g(t,n),w=g(e,n),E=x.get(w);if(E)r(t,n,E);else{var I=b?b(C,w,n+"",t,e,x):void 0,S=void 0===I;if(S){var T=u(w),A=!T&&p(w),D=!T&&!A&&m(w);I=w,T||A||D?u(C)?I=C:l(C)?I=s(C):A?(S=!1,I=i(w,!0)):D?(S=!1,I=o(w,!0)):I=[]:f(w)||c(w)?(I=C,c(C)?I=v(C):d(C)&&!h(C)||(I=a(w))):S=!1}S&&(x.set(w,I),_(I,w,y,b,x),x.delete(w)),r(t,n,I)}}},function(t,e,n){var r=n(22),i=n(51);t.exports=function(t){return r(t,i(t))}},function(t,e,n){var r=n(82),i=n(258);t.exports=function(t){return r(function(e,n){var r=-1,o=n.length,s=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(s=t.length>3&&"function"==typeof s?(o--,s):void 0,a&&i(n[0],n[1],a)&&(s=o<3?void 0:s,o=1),e=Object(e);++r<o;){var c=n[r];c&&t(e,c,r,s)}return e})}},function(t,e,n){var r=n(35),i=n(11),o=n(33),s=n(8);t.exports=function(t,e,n){if(!s(n))return!1;var a=typeof e;return!!("number"==a?i(n)&&o(e,n.length):"string"==a&&e in n)&&r(n[e],t)}},function(t,e,n){var r=n(120);t.exports=function(t,e,n){return null==t?t:r(t,e,n)}},function(t,e,n){const{EventEmitter:r}=n(134),{log:i,assert:o}=n(2),s=n(6),a=n(136),c=n(158),u=n(347),l=n(357),p=n(40),h=n(358),d=n(167);class f extends r{static create({content:t,design:e,layoutName:n,componentTree:r,handleViolation:i}){if(t)o(e,"Livingdoc.create(): missing param 'design'"),e=f.loadDesignIfNeeded(e),r=new a({content:t,design:e,handleViolation:i});else if(e)e=f.loadDesignIfNeeded(e),r=new a({design:e,handleViolation:i});else{if(r)return new f({componentTree:r,layoutName:n});o(!1,"Livingdoc.create(): Insufficient params;\n        pass either 'content' and 'design' or 'componentTree'")}return new f({componentTree:r,layoutName:n})}static setLivingdocsApi(t){f.api=t}static loadDesignIfNeeded(t){if(!(t instanceof p)){const{name:e,version:n}=t;t=f.api.design.get(e,n)}return t}constructor({componentTree:t,layoutName:e}){super(),this.componentTree=t,this.layoutName=e,this.interactiveView=void 0,this.readOnlyViews=[],this.design=this.componentTree.design,this.dependencies=new c({componentTree:this.componentTree}),this.fieldMapping=new l(this.design.metadata),this.metadataConfig=this.fieldMapping,this.fieldExtractor=new u(this.componentTree,this.fieldMapping),this.history=new h(this,s.history),this.forwardComponentTreeEvents()}forwardComponentTreeEvents(){this.componentTree.changed.add(()=>{this.emit("change",arguments)})}createComponent(){return this.componentTree.createComponent.apply(this.componentTree,arguments)}addJsDependency(t){this.dependencies.addJs(t)}addCssDependency(t){this.dependencies.addCss(t)}hasDependencies(){return this.dependencies&&(this.dependencies.hasJs()||this.dependencies.hasCss())}toHtml({excludeComponents:t}={}){return t&&i.warn("toHtml(): param excludeComponents is deprecated"),this.render()}render({settings:t}={}){return d.render({componentTree:this.componentTree},t)}serialize(t){const e=this.componentTree.serialize(t);return e.layout=this.layoutName,e}toJson(t){const e=this.serialize();if(t){const t=null,n=2;return JSON.stringify(e,t,n)}return JSON.stringify(e)}printModel(){this.componentTree.print()}}t.exports=f},function(t,e,n){var r=n(12),i=n(11),o=n(14);t.exports=function(t){return function(e,n,s){var a=Object(e);if(!i(e)){var c=r(n,3);e=o(e),n=function(t){return c(a[t],t,a)}}var u=t(e,n,s);return u>-1?a[c?e[u]:u]:void 0}}},function(t,e,n){var r=n(263),i=n(272),o=n(141);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(46),i=n(83),o=1,s=2;t.exports=function(t,e,n,a){var c=n.length,u=c,l=!a;if(null==t)return!u;for(t=Object(t);c--;){var p=n[c];if(l&&p[2]?p[1]!==t[p[0]]:!(p[0]in t))return!1}for(;++c<u;){var h=(p=n[c])[0],d=t[h],f=p[1];if(l&&p[2]){if(void 0===d&&!(h in t))return!1}else{var m=new r;if(a)var g=a(d,f,h,t,e,m);if(!(void 0===g?i(f,d,o|s,a,m):g))return!1}}return!0}},function(t,e,n){var r=n(46),i=n(139),o=n(268),s=n(271),a=n(20),c=n(0),u=n(32),l=n(42),p=1,h="[object Arguments]",d="[object Array]",f="[object Object]",m=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,g,v,y){var _=c(t),b=c(e),x=_?d:a(t),C=b?d:a(e),w=(x=x==h?f:x)==f,E=(C=C==h?f:C)==f,I=x==C;if(I&&u(t)){if(!u(e))return!1;_=!0,w=!1}if(I&&!w)return y||(y=new r),_||l(t)?i(t,e,n,g,v,y):o(t,e,x,n,g,v,y);if(!(n&p)){var S=w&&m.call(t,"__wrapped__"),T=E&&m.call(e,"__wrapped__");if(S||T){var A=S?t.value():t,D=T?e.value():e;return y||(y=new r),v(A,D,n,g,y)}}return!!I&&(y||(y=new r),s(t,e,n,g,v,y))}},function(t,e){var n="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,n),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e,n){var r=n(19),i=n(114),o=n(35),s=n(139),a=n(269),c=n(270),u=1,l=2,p="[object Boolean]",h="[object Date]",d="[object Error]",f="[object Map]",m="[object Number]",g="[object RegExp]",v="[object Set]",y="[object String]",_="[object Symbol]",b="[object ArrayBuffer]",x="[object DataView]",C=r?r.prototype:void 0,w=C?C.valueOf:void 0;t.exports=function(t,e,n,r,C,E,I){switch(n){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case b:return!(t.byteLength!=e.byteLength||!E(new i(t),new i(e)));case p:case h:case m:return o(+t,+e);case d:return t.name==e.name&&t.message==e.message;case g:case y:return t==e+"";case f:var S=a;case v:var T=r&u;if(S||(S=c),t.size!=e.size&&!T)return!1;var A=I.get(t);if(A)return A==e;r|=l,I.set(t,e);var D=s(S(t),S(e),r,C,E,I);return I.delete(t),D;case _:if(w)return w.call(t)==w.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},function(t,e,n){var r=n(112),i=1,o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,s,a,c){var u=n&i,l=r(t),p=l.length;if(p!=r(e).length&&!u)return!1;for(var h=p;h--;){var d=l[h];if(!(u?d in e:o.call(e,d)))return!1}var f=c.get(t);if(f&&c.get(e))return f==e;var m=!0;c.set(t,e),c.set(e,t);for(var g=u;++h<p;){var v=t[d=l[h]],y=e[d];if(s)var _=u?s(y,v,d,e,t,c):s(v,y,d,t,e,c);if(!(void 0===_?v===y||a(v,y,n,s,c):_)){m=!1;break}g||(g="constructor"==d)}if(m&&!g){var b=t.constructor,x=e.constructor;b!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x)&&(m=!1)}return c.delete(t),c.delete(e),m}},function(t,e,n){var r=n(140),i=n(14);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],s=t[o];e[n]=[o,s,r(s)]}return e}},function(t,e,n){var r=n(83),i=n(1),o=n(121),s=n(77),a=n(140),c=n(141),u=n(24),l=1,p=2;t.exports=function(t,e){return s(t)&&a(e)?c(u(t),e):function(n){var s=i(n,t);return void 0===s&&s===e?o(n,t):r(e,s,l|p)}}},function(t,e,n){var r=n(142),i=n(275),o=n(77),s=n(24);t.exports=function(t){return o(t)?r(s(t)):i(t)}},function(t,e,n){var r=n(52);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e,n){var r=n(277),i=1/0,o=17976931348623157e292;t.exports=function(t){return t?(t=r(t))===i||t===-i?(t<0?-1:1)*o:t==t?t:0:0===t?t:0}},function(t,e,n){var r=n(8),i=n(53),o=NaN,s=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return o;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var n=c.test(t);return n||u.test(t)?l(t.slice(2),n?2:8):a.test(t)?o:+t}},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}var i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=n(87);e.Parser=o.Parser;var s=n(149);e.DomHandler=s.DomHandler,e.DefaultHandler=s.DomHandler,e.parseDOM=function(t,e){var n=new s.DomHandler(void 0,e);return new o.Parser(n,e).end(t),n.dom},e.createDomStream=function(t,e,n){var r=new s.DomHandler(t,e,n);return new o.Parser(r,e)};var a=n(148);e.Tokenizer=a.default;var c=i(n(88));e.ElementType=c,e.EVENTS={attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0},r(n(150)),r(n(287)),r(n(290));var u=i(n(151));e.DomUtils=u;var l=n(150);e.RssHandler=l.FeedHandler},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=new Map([["tag",1],["script",1],["style",1],["directive",1],["text",3],["cdata",4],["comment",8]]),s=function(){function t(t){this.type=t,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return o.get(this.type)||1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent||null},set:function(t){this.parent=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){return this.prev||null},set:function(t){this.prev=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){return this.next||null},set:function(t){this.next=t},enumerable:!0,configurable:!0}),t}();e.Node=s;var a=function(t){function e(e,n){var r=t.call(this,e)||this;return r.data=n,r}return i(e,t),Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.data},set:function(t){this.data=t},enumerable:!0,configurable:!0}),e}(s);e.DataNode=a;var c=function(t){function e(e,n){var r=t.call(this,"directive",n)||this;return r.name=e,r}return i(e,t),e}(a);e.ProcessingInstruction=c;var u=function(t){function e(e,n){var r=t.call(this,e)||this;return r.children=n,r}return i(e,t),Object.defineProperty(e.prototype,"firstChild",{get:function(){return this.children[0]||null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.children},set:function(t){this.children=t},enumerable:!0,configurable:!0}),e}(s);e.NodeWithChildren=u;var l=function(t){function e(e,n){var r=t.call(this,"script"===e?"script":"style"===e?"style":"tag",[])||this;return r.name=e,r.attribs=n,r.attribs=n,r}return i(e,t),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.name},set:function(t){this.name=t},enumerable:!0,configurable:!0}),e}(u);e.Element=l},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(38),o=r(n(281));e.getOuterHTML=o.default,e.getInnerHTML=function(t,n){return i.hasChildren(t)?t.children.map(function(t){return e.getOuterHTML(t,n)}).join(""):""},e.getText=function t(e){return Array.isArray(e)?e.map(t).join(""):i.isTag(e)?"br"===e.name?"\n":t(e.children):i.isCDATA(e)?t(e.children):i.isText(e)?e.data:""}},function(t,e,n){var r=n(88),i=n(54),o=n(282);o.elementNames.__proto__=null,o.attributeNames.__proto__=null;var s={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0};var a={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},c=t.exports=function(t,e){Array.isArray(t)||t.cheerio||(t=[t]),e=e||{};for(var n="",i=0;i<t.length;i++){var o=t[i];"root"===o.type?n+=c(o.children,e):r.isTag(o)?n+=l(o,e):o.type===r.Directive?n+=p(o):o.type===r.Comment?n+=f(o):o.type===r.CDATA?n+=d(o):n+=h(o,e)}return n};const u=["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"];function l(t,e){"foreign"===e.xmlMode&&(t.name=o.elementNames[t.name]||t.name,t.parent&&u.indexOf(t.parent.name)>=0&&(e=Object.assign({},e,{xmlMode:!1}))),!e.xmlMode&&["svg","math"].indexOf(t.name)>=0&&(e=Object.assign({},e,{xmlMode:"foreign"}));var n="<"+t.name,r=function(t,e){if(t){var n,r="";for(var s in t)n=t[s],r&&(r+=" "),"foreign"===e.xmlMode&&(s=o.attributeNames[s]||s),r+=s,(null!==n&&""!==n||e.xmlMode)&&(r+='="'+(e.decodeEntities?i.encodeXML(n):n.replace(/\"/g,"&quot;"))+'"');return r}}(t.attribs,e);return r&&(n+=" "+r),!e.xmlMode||t.children&&0!==t.children.length?(n+=">",t.children&&(n+=c(t.children,e)),a[t.name]&&!e.xmlMode||(n+="</"+t.name+">")):n+="/>",n}function p(t){return"<"+t.data+">"}function h(t,e){var n=t.data||"";return!e.decodeEntities||t.parent&&t.parent.name in s||(n=i.encodeXML(n)),n}function d(t){return"<![CDATA["+t.children[0].data+"]]>"}function f(t){return"\x3c!--"+t.data+"--\x3e"}},function(t){t.exports=JSON.parse('{"elementNames":{"altglyph":"altGlyph","altglyphdef":"altGlyphDef","altglyphitem":"altGlyphItem","animatecolor":"animateColor","animatemotion":"animateMotion","animatetransform":"animateTransform","clippath":"clipPath","feblend":"feBlend","fecolormatrix":"feColorMatrix","fecomponenttransfer":"feComponentTransfer","fecomposite":"feComposite","feconvolvematrix":"feConvolveMatrix","fediffuselighting":"feDiffuseLighting","fedisplacementmap":"feDisplacementMap","fedistantlight":"feDistantLight","fedropshadow":"feDropShadow","feflood":"feFlood","fefunca":"feFuncA","fefuncb":"feFuncB","fefuncg":"feFuncG","fefuncr":"feFuncR","fegaussianblur":"feGaussianBlur","feimage":"feImage","femerge":"feMerge","femergenode":"feMergeNode","femorphology":"feMorphology","feoffset":"feOffset","fepointlight":"fePointLight","fespecularlighting":"feSpecularLighting","fespotlight":"feSpotLight","fetile":"feTile","feturbulence":"feTurbulence","foreignobject":"foreignObject","glyphref":"glyphRef","lineargradient":"linearGradient","radialgradient":"radialGradient","textpath":"textPath"},"attributeNames":{"definitionurl":"definitionURL","attributename":"attributeName","attributetype":"attributeType","basefrequency":"baseFrequency","baseprofile":"baseProfile","calcmode":"calcMode","clippathunits":"clipPathUnits","diffuseconstant":"diffuseConstant","edgemode":"edgeMode","filterunits":"filterUnits","glyphref":"glyphRef","gradienttransform":"gradientTransform","gradientunits":"gradientUnits","kernelmatrix":"kernelMatrix","kernelunitlength":"kernelUnitLength","keypoints":"keyPoints","keysplines":"keySplines","keytimes":"keyTimes","lengthadjust":"lengthAdjust","limitingconeangle":"limitingConeAngle","markerheight":"markerHeight","markerunits":"markerUnits","markerwidth":"markerWidth","maskcontentunits":"maskContentUnits","maskunits":"maskUnits","numoctaves":"numOctaves","pathlength":"pathLength","patterncontentunits":"patternContentUnits","patterntransform":"patternTransform","patternunits":"patternUnits","pointsatx":"pointsAtX","pointsaty":"pointsAtY","pointsatz":"pointsAtZ","preservealpha":"preserveAlpha","preserveaspectratio":"preserveAspectRatio","primitiveunits":"primitiveUnits","refx":"refX","refy":"refY","repeatcount":"repeatCount","repeatdur":"repeatDur","requiredextensions":"requiredExtensions","requiredfeatures":"requiredFeatures","specularconstant":"specularConstant","specularexponent":"specularExponent","spreadmethod":"spreadMethod","startoffset":"startOffset","stddeviation":"stdDeviation","stitchtiles":"stitchTiles","surfacescale":"surfaceScale","systemlanguage":"systemLanguage","tablevalues":"tableValues","targetx":"targetX","targety":"targetY","textlength":"textLength","viewbox":"viewBox","viewtarget":"viewTarget","xchannelselector":"xChannelSelector","ychannelselector":"yChannelSelector","zoomandpan":"zoomAndPan"}}')},function(t,e,n){"use strict";function r(t){return t.children||null}function i(t){return t.parent||null}function o(t,e){return t.attribs&&t.attribs[e]}Object.defineProperty(e,"__esModule",{value:!0}),e.getChildren=r,e.getParent=i,e.getSiblings=function(t){var e=i(t);return e?r(e):[t]},e.getAttributeValue=o,e.hasAttrib=function(t,e){return!!o(t,e)},e.getName=function(t){return t.name}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeElement=function(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){var e=t.parent.children;e.splice(e.lastIndexOf(t),1)}},e.replaceElement=function(t,e){var n=e.prev=t.prev;n&&(n.next=e);var r=e.next=t.next;r&&(r.prev=e);var i=e.parent=t.parent;if(i){var o=i.children;o[o.lastIndexOf(t)]=e}},e.appendChild=function(t,e){if(e.parent=t,1!==t.children.push(e)){var n=t.children[t.children.length-2];n.next=e,e.prev=n,e.next=null}},e.append=function(t,e){var n=t.parent,r=t.next;if(e.next=r,e.prev=t,t.next=e,e.parent=n,r){if(r.prev=e,n){var i=n.children;i.splice(i.lastIndexOf(r),0,e)}}else n&&n.children.push(e)},e.prepend=function(t,e){var n=t.parent;if(n){var r=n.children;r.splice(r.lastIndexOf(t),0,e)}t.prev&&(t.prev.next=e),e.parent=n,e.prev=t.prev,e.next=t,t.prev=e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(152),i=n(38);function o(t){return"text"===t.type}var s={tag_name:function(t){return"function"==typeof t?function(e){return i.isTag(e)&&t(e.name)}:"*"===t?i.isTag:function(e){return i.isTag(e)&&e.name===t}},tag_type:function(t){return"function"==typeof t?function(e){return t(e.type)}:function(e){return e.type===t}},tag_contains:function(t){return"function"==typeof t?function(e){return o(e)&&t(e.data)}:function(e){return o(e)&&e.data===t}}};function a(t,e){return"function"==typeof e?function(n){return i.isTag(n)&&e(n.attribs[t])}:function(n){return i.isTag(n)&&n.attribs[t]===e}}function c(t,e){return function(n){return t(n)||e(n)}}function u(t){var e=Object.keys(t).map(function(e){var n=t[e];return e in s?s[e](n):a(e,n)});return 0===e.length?null:e.reduce(c)}e.testElement=function(t,e){var n=u(t);return!n||n(e)},e.getElements=function(t,e,n,i){void 0===i&&(i=1/0);var o=u(t);return o?r.filter(o,e,n,i):[]},e.getElementById=function(t,e,n){return void 0===n&&(n=!0),Array.isArray(e)||(e=[e]),r.findOne(a("id",t),e,n)},e.getElementsByTagName=function(t,e,n,i){return void 0===i&&(i=1/0),r.filter(s.tag_name(t),e,n,i)},e.getElementsByTagType=function(t,e,n,i){return void 0===n&&(n=!0),void 0===i&&(i=1/0),r.filter(s.tag_type(t),e,n,i)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(38);function i(t,e){var n=[],i=[];if(t===e)return 0;for(var o=r.hasChildren(t)?t:t.parent;o;)n.unshift(o),o=o.parent;for(o=r.hasChildren(e)?e:e.parent;o;)i.unshift(o),o=o.parent;for(var s=0;n[s]===i[s];)s++;if(0===s)return 1;var a=n[s-1],c=a.children,u=n[s],l=i[s];return c.indexOf(u)>c.indexOf(l)?a===e?20:4:a===t?10:2}e.removeSubsets=function(t){for(var e=t.length;--e>=0;){var n=t[e];if(e>0&&t.lastIndexOf(n,e-1)>=0)t.splice(e,1);else for(var r=n.parent;r;r=r.parent)if(t.indexOf(r)>-1){t.splice(e,1);break}}return t},e.compareDocumentPosition=i,e.uniqueSort=function(t){return(t=t.filter(function(t,e,n){return!n.includes(t,e+1)})).sort(function(t,e){var n=i(t,e);return 2&n?-1:4&n?1:0}),t}},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(87),s=n(288),a=n(289);var c=function(t){function e(e,n){var r=t.call(this,{decodeStrings:!1})||this;return r._decoder=new a.StringDecoder,r._parser=new o.Parser(e,n),r}return i(e,t),e.prototype._write=function(t,e,n){(function(t,e){return"buffer"===e})(0,e)&&(t=this._decoder.write(t)),this._parser.write(t),n()},e.prototype._final=function(t){this._parser.end(this._decoder.end()),t()},e}(s.Writable);e.WritableStream=c},function(t,e){t.exports=require("stream")},function(t,e){t.exports=require("string_decoder")},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,function(t){for(var e,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];n.events.push([t].concat(r)),n._cbs[t]&&(e=n._cbs)[t].apply(e,r)})||this;return n._cbs=e,n.events=[],n}return i(e,t),e.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},e.prototype.restart=function(){var t;this._cbs.onreset&&this._cbs.onreset();for(var e=0;e<this.events.length;e++){var n=this.events[e],r=n[0],i=n.slice(1);this._cbs[r]&&(t=this._cbs)[r].apply(t,i)}},e}(o(n(291)).default);e.CollectingHandler=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this._func=t}return t.prototype.onattribute=function(t,e){this._func("onattribute",t,e)},t.prototype.oncdatastart=function(){this._func("oncdatastart")},t.prototype.oncdataend=function(){this._func("oncdataend")},t.prototype.ontext=function(t){this._func("ontext",t)},t.prototype.onprocessinginstruction=function(t,e){this._func("onprocessinginstruction",t,e)},t.prototype.oncomment=function(t){this._func("oncomment",t)},t.prototype.oncommentend=function(){this._func("oncommentend")},t.prototype.onclosetag=function(t){this._func("onclosetag",t)},t.prototype.onopentag=function(t,e){this._func("onopentag",t,e)},t.prototype.onopentagname=function(t){this._func("onopentagname",t)},t.prototype.onerror=function(t){this._func("onerror",t)},t.prototype.onend=function(){this._func("onend")},t.prototype.onparserinit=function(t){this._func("onparserinit",t)},t.prototype.onreset=function(){this._func("onreset")},t}();e.default=r},function(t,e,n){const r=n(293),i=/\s+/g,o={normalizeWhitespace:!1,withStartIndices:!1,withReferences:!0};t.exports=class t{constructor(t,e){this._callback=e||function(){},this._options=t||o,this._done=!1,this._tagStack=[],this._parser=this._parser||null,this.dom=[]}onparserinit(t){this._parser=t}onreset(){t.call(this,this._callback,this._options)}onend(){this._done||(this._done=!0,this._parser=null,this._callback(null,this.dom))}onerror(t){this.error=t,this._callback(t)}onopentag(t,e){let n=r.Tag;"script"===t?n=r.Script:"style"===t&&r.Style;const i={type:n,name:t,attribs:e,children:[]};this._addDomElement(i),this._tagStack.push(i)}onclosetag(){this._tagStack.pop()}ontext(t){const e=this._options.normalizeWhitespace,n=this._getLastTag();n&&n.type===r.Text?e?n.data=(n.data+t).replace(i," "):n.data+=t:(e&&(t=t.replace(i," ")),this._addDomElement({data:t,type:r.Text}))}oncomment(t){const e=this._tagStack[this._tagStack.length-1];if(e&&e.type===r.Comment)return void(e.data+=t);const n={data:t,type:r.Comment};this._addDomElement(n),this._tagStack.push(n)}oncommentend(){this._tagStack.pop()}oncdatastart(){this.onerror(new Error("cdata is not supported"))}onprocessinginstruction(t,e){this.onerror(new Error("processing instructions are not supported"))}_addDomElement(t){const e=this._tagStack[this._tagStack.length-1],n=e?e.children:this.dom;if(this._options.withStartIndices&&(t.startIndex=this._parser.startIndex),this._options.withReferences){const r=n[n.length-1];t.parent=e||null,t.next=null,r?(t.prev=r,r.next=t):t.prev=null}n.push(t)}_getLastTag(){if(this._tagStack.length){const t=this._tagStack[this._tagStack.length-1],{children:e}=t;if(e.length)return e[e.length-1]}else if(this.dom.length)return this.dom[this.dom.length-1]}}},function(t,e){t.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:t=>"tag"===t.type||"script"===t.type||"style"===t.type}},function(t,e){class n{constructor(t){this.components=t||[],this.length=t.length;for(let t=0;t<this.components.length;t++)this[t]=this.components[t]}get first(){return this[0]}get last(){return this[this.length-1]}each(t){for(const e of this.components)t(e);return this}remove(){for(const t of this.components)t.remove();return this}}n.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],t.exports=n},function(t,e,n){const r=n(3),i=n(296),o=n(297),s=n(301),a=n(302),c=n(303),u=n(304),l=n(305);t.exports={create({component:t,structureDirective:e}){return new(this.getDirectiveConstructor(e.type))({component:t,structureDirective:e})},getDirectiveConstructor(t){switch(t){case"editable":return i;case"image":return o;case"html":return s;case"link":return a;case"include":return c;case"toggle":return u;case"style":return l;default:r(!1,`Unsupported component directive: ${t}`)}}}},function(t,e,n){const r=n(39),i=n(86),o=n(37),s=n(147),a=n(7),c=n(4),u=/[\n\r]/g;class l extends r{constructor(){super(...arguments),this.tagWhitelist?this.editableValidator=new s({whitelist:this.tagWhitelist}):this.tagBlacklist&&(this.editableValidator=new s({blacklist:this.tagBlacklist}))}get placeholder(){return this.structureDirective.placeholder}getText(t={newlineReplacement:" "}){const e=this.getContent(),n=i(e),r=o(n,{plainText:!0,decodeHTML:!0});return!1===t.newlineReplacement?r:r.replace(u,t.newlineReplacement)}setContent(t){const e=a.updateEditableDirective(this.component,this,t);c.handle(e)}}l.prototype.isEditable=!0,t.exports=l},function(t,e,n){const r=n(298),i=n(3),o=n(155),s=n(89);let a=!1,c=!1;const u=n(7),l=n(4);class p extends s{setContent({originalUrl:t,url:e,width:n,height:r,mimeType:i,imageService:o,origins:s,crop:a}){const c=u.updateImageDirective(this.component,this,{originalUrl:t,url:e,width:n,height:r,mimeType:i,imageService:o,origins:s,crop:a,suppressEvents:!1});l.handle(c)}setTemporaryImage(t){const e=u.updateTmpImageDirective(this.component,this,t);l.handle(e)}setBase64Image(t){a||(a=!0,console.warn("ImageDirective.setBase64Image() is deprecated. Please use #setTemporaryImage().")),this.setTemporaryImage(t)}setImage({originalUrl:t,url:e,width:n,height:r,mimeType:i,imageService:o,origins:s},a){const c=u.updateImageDirective(this.component,this,{originalUrl:t,url:e,width:n,height:r,mimeType:i,imageService:o,origins:s,suppressEvents:a});l.handle(c)}setCrop(t,e){const n=u.updateImageDirective(this.component,this,{crop:t,suppressEvents:e});l.handle(n)}resetCrop(){this.setCrop(void 0)}hasDifferentContent(t){return this.getProcessedUrl()!==t}isBackgroundImage(){return!!this.setAsBackground}isInlineImage(){return!this.setAsBackground}isTemporaryImage(){return!!this.temporaryImage}isBase64(){return c||(c=!0,console.warn("ImageDirective.isBase64() is deprecated. Please use #isTemporaryImage().")),this.isTemporaryImage()}isGif(){return"image/gif"===this.content.mimeType}getOrigins(){return this.content.origins}getUrl(){return this.getOriginalUrl()}getOriginalUrl(){return this.content.originalUrl||this.content.url}getTemporaryUrl(){return this.temporaryImage}getMimeType(){return this.content.mimeType}getCrop(){return this.content.crop}getUncroppedUrl(){const t=this.getImageService(),e=this.getOriginalUrl();return t.getUncroppedUrl(e)}getProcessedUrl(t={}){const e=this.getOriginalUrl();if(this.hasDefaultImageService())return e;{const n=this.getImageService(),r=Object.assign({crop:this.content.crop},t);return n.getUrl(e,r)}}getImageUrl(){return console.warn("ImageDirective.getImageUrl() is deprecated. Use getProcessedUrl() instead"),this.getProcessedUrl()}getOriginalImageDimensions(){const{width:t,height:e}=this.content;return{width:t,height:e}}getImageService(){const t=this.content.imageService||void 0;return o.get(t)}getImageServiceName(){return this.getImageService().name}hasDefaultImageService(){return"default"===this.getImageServiceName()}processImageUrl(){this.hasDefaultImageService()||(this.content.originalUrl=this.getOriginalUrl(),this.content.url=this.getProcessedUrl())}setOrigins(t){t&&(Array.isArray(t)||(t=[t]),this.content.origins=t.map(t=>(i(t&&t.name&&t.identifier,"Error: setOrigins() must be called with an array name and identifier keys"),{name:t.name,identifier:t.identifier})))}setImageService(t){t&&function(t,e){i(o.has(e),`Error: could not find image service ${e}`);const n=o.get(e),r=t.getMimeType(),s=t.isBackgroundImage();return n.canProcessAsset(r,s)}(this,t)&&(this.content.imageService=t)}reset(){this.temporaryImage=void 0,this.content={}}serialize(){return r(this.content,t=>null==t)}deserialize(t){"string"==typeof t?this.content.url=t:super.deserialize(t)}}p.prototype.isImage=!0,t.exports=p},function(t,e,n){var r=n(12),i=n(299),o=n(300);t.exports=function(t,e){return o(t,i(r(e)))}},function(t,e){var n="Expected a function";t.exports=function(t){if("function"!=typeof t)throw new TypeError(n);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}},function(t,e,n){var r=n(13),i=n(12),o=n(119),s=n(75);t.exports=function(t,e){if(null==t)return{};var n=r(s(t),function(t){return[t]});return e=i(e),o(t,n,function(t,n){return e(t,n[0])})}},function(t,e,n){const r=n(39),i=n(7),o=n(4),s=i.updateHtmlDirective;class a extends r{get placeholder(){return this.structureDirective.placeholder}setEmbedHandler(t){this.setData("_embedHandler",t)}getEmbedHandler(){return this.getData("_embedHandler")}setContent(t){o.handle(s(this.component,this,t))}}a.prototype.isHtml=!0,t.exports=a},function(t,e,n){const r=n(39),i=n(7),o=n(4),s=i.updateLinkDirective;class a extends r{setContent(t){o.handle(s(this.component,this,t))}}a.prototype.isLink=!0,t.exports=a},function(t,e,n){const r=n(45),i=n(16),o=n(3),s=n(89),a=n(7),c=n(4),u=a.updateIncludeDirective;t.exports=class extends s{constructor(){super(arguments[0]),this.validate(),this.service?this.initService({service:this.service,defaultParams:this.defaultParams,label:this.label}):this.initServices()}initService(t){if(t){const{service:e,label:n,defaultParams:r,config:i}=t,o={service:e};n&&(o.label=n),r&&(o.params=r),i&&(this.config=i),this.content=o}else{const e={service:t.service};this.defaultParams&&(e.params=this.defaultParams),this.label&&(e.label=this.label),this.content=e}}initServices(){const t=this.services[0];return this.initService(t)}changeService(t){t!==this.getService()&&c.handle(u(this.component,this,{service:t}))}hasServices(){return!r(this.getServices())}get placeholder(){return this.structureDirective.placeholder}get isInclude(){return!0}getService(){return this.content.service}getServices(){return(this.services||[]).map(t=>({service:t.service,label:t.label}))}getParams(){return this.content.params}setContent(t){c.handle(u(this.component,this,t))}setParams(t){const e={...this.content,params:t};this.setContent(e)}addParams(t){const e=this.getParams()||{};this.setParams({...e,...t})}getLabel(){return this.content.label}refresh(){this&&this.component&&this.component.requestDirectiveViewUpdate(this.name)}validate(){const t=!r(this.service),e=!r(this.services);o(t||e,`include directive: service or services is required for directive: ${this.name}`),t?o(i(this.service),`include directive: service is expected to be a string for directive: ${this.name}`):(o(Array.isArray(this.services),`include directive: services is expected to be an array for directive: ${this.name}`),o(!r(this.services),"include directive: services is expected to contain at least "+`one service for directive ${this.name}`))}isResolved(){if(this.resolvedValue||""===this.resolvedValue)return!0}resolve(t){this.resolvedValue=t||(""===t?"":void 0)}}},function(t,e,n){const r=n(39),i=n(25),o=n(146),s=n(7),a=n(4);class c extends r{constructor(){super(...arguments),this.label=this.label||i.humanize(this.name);const t=!1!==this.default;this.deserialize(t)}setContent(t){const e=s.updateToggleDirective(this.component,this,t);a.handle(e)}deserialize(t){t=function(t){return!o(t)||t}(t),super.deserialize(t)}getLabel(){return this.label}isEmpty(){return null==this.getContent()}}c.prototype.isToggle=!0,t.exports=c},function(t,e,n){const r=n(89),i=n(7),o=n(4);t.exports=class extends r{get styles(){return this.properties}setContent(t){o.handle(i.updateStyleDirective(this.component,this,t))}setStyle(t,e){this.setContent({...this.content,[t]:e})}hasStyle(t){return!!this.properties[t]}getStyle(t){return this.content[t]}getStyleConfig(t){return this.properties[t]}listStyleNames(){return Object.keys(this.properties)}}},function(t,e,n){const r=n(1),i=n(56),o=n(7),s=n(4),a=n(307);t.exports=class{constructor({id:t,type:e}){this.id=t||i.next(),this.nodeType=e,this.parentContainer=void 0,this.next=void 0,this.previous=void 0,this.componentTree=void 0}before(t){if(t){const e=o.insertComponent(t,{next:this,parentContainer:this.parentContainer});return s.handle(e),this}return this.previous}after(t){if(t){const e=o.insertComponent(t,{previous:this,parentContainer:this.parentContainer});return s.handle(e),this}return this.next}replaceWith(t){const e=o.removeComponent(this),n=o.insertComponent(t,{next:this.next,parentContainer:this.parentContainer});return s.handle(e),s.handle(n),t}up(){const t=a.getPositionBeforeNode(this),e=o.moveComponent(this,t);return s.handle(e),this}down(){const t=a.getPositionAfterNode(this),e=o.moveComponent(this,t);return s.handle(e),this}remove(){const t=o.removeComponent(this);s.handle(t)}getParent(){return r(this.parentContainer,"parentComponent")}getParentId(){return r(this.parentContainer,["parentComponent","id"])}parents(t){let e=this;for(;e=e.getParent();)t(e)}parentContainers(t){let e=this;for(;null!=e;)t(e.parentContainer),e=e.getParent()}}},function(t,e){t.exports={getPositionAfterNode:t=>t.next?{previous:t.next,next:t.next.next?t.next.next:void 0,parentContainer:t.parentContainer}:{parentContainer:t.parentContainer},getPositionBeforeNode:t=>t.previous?{previous:t.previous.previous?t.previous.previous:void 0,next:t.previous,parentContainer:t.parentContainer}:{next:t.next,parentContainer:t.parentContainer}}},function(t,e){t.exports=class{constructor(t,e){this.component=t,this.initPositionRules(e)}initPositionRules(t){this.component.isPositionFixed="fixed"===t}resetPositionRules(){this.component.isPositionFixed=void 0}setPosition(t){this.resetPositionRules(),this.initPositionRules(t)}isValidPosition(t){let e=!0,n="A sibling";const{component:r}=this;if(r.parentContainer&&r.isPositionFixed&&(e=!1,n=r.componentName),t){const{next:n,previous:r}=t,i=n&&n.isPositionFixed,o=r&&r.isPositionFixed,s=o&&(!n||i);(i&&(!r||o)||s)&&(e=!1)}return e?{valid:!0}:{valid:!1,info:`"${n}" has a fixed position and does not allow`+" other components to be prepended or appended."}}isParentOfFixedPosition(){let t=!1;return this.component.descendants(function(e){e.isPositionFixed&&(t=!0)}),t}canRemove(){return!this.component.isPositionFixed&&!this.isParentOfFixedPosition()}}},function(t,e,n){const{assert:r}=n(2);t.exports=class{constructor({container:t,component:e,componentTree:n}){this.current=void 0,e?this.nextComponent=this.root=e:t||n?this.nextComponent=(this.root=t||n.root).first:r(!1,"new ComponentTreeIterator(): specify one of these params: container, component or componentTree")}hasNext(){return!!this.nextComponent}next({skipChildren:t}={}){if(this.current=this.nextComponent,!this.current)return;let e;if(!t)for(let t=0;t<this.current.containers.length;t++){const n=this.current.containers[t];if(n.first){e=n.first;break}}return e||(e=this.getNextComponent(this.current)),this.nextComponent=e,this.current}getNextComponent(t){if(!t||t===this.root)return;if(t.next)return t.next;const e=t.parentContainer;if(!e||e===this.root)return;let n=e;for(;n=n.getNextContainer();)if(n.first)return n.first;return this.getNextComponent(e.parentComponent)}}},function(t,e){var n;e=t.exports=h,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("SEMVER"),console.log.apply(console,t)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var r=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=e.re=[],s=e.src=[],a=e.tokens={},c=0;function u(t){a[t]=c++}u("NUMERICIDENTIFIER"),s[a.NUMERICIDENTIFIER]="0|[1-9]\\d*",u("NUMERICIDENTIFIERLOOSE"),s[a.NUMERICIDENTIFIERLOOSE]="[0-9]+",u("NONNUMERICIDENTIFIER"),s[a.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*",u("MAINVERSION"),s[a.MAINVERSION]="("+s[a.NUMERICIDENTIFIER]+")\\.("+s[a.NUMERICIDENTIFIER]+")\\.("+s[a.NUMERICIDENTIFIER]+")",u("MAINVERSIONLOOSE"),s[a.MAINVERSIONLOOSE]="("+s[a.NUMERICIDENTIFIERLOOSE]+")\\.("+s[a.NUMERICIDENTIFIERLOOSE]+")\\.("+s[a.NUMERICIDENTIFIERLOOSE]+")",u("PRERELEASEIDENTIFIER"),s[a.PRERELEASEIDENTIFIER]="(?:"+s[a.NUMERICIDENTIFIER]+"|"+s[a.NONNUMERICIDENTIFIER]+")",u("PRERELEASEIDENTIFIERLOOSE"),s[a.PRERELEASEIDENTIFIERLOOSE]="(?:"+s[a.NUMERICIDENTIFIERLOOSE]+"|"+s[a.NONNUMERICIDENTIFIER]+")",u("PRERELEASE"),s[a.PRERELEASE]="(?:-("+s[a.PRERELEASEIDENTIFIER]+"(?:\\."+s[a.PRERELEASEIDENTIFIER]+")*))",u("PRERELEASELOOSE"),s[a.PRERELEASELOOSE]="(?:-?("+s[a.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+s[a.PRERELEASEIDENTIFIERLOOSE]+")*))",u("BUILDIDENTIFIER"),s[a.BUILDIDENTIFIER]="[0-9A-Za-z-]+",u("BUILD"),s[a.BUILD]="(?:\\+("+s[a.BUILDIDENTIFIER]+"(?:\\."+s[a.BUILDIDENTIFIER]+")*))",u("FULL"),u("FULLPLAIN"),s[a.FULLPLAIN]="v?"+s[a.MAINVERSION]+s[a.PRERELEASE]+"?"+s[a.BUILD]+"?",s[a.FULL]="^"+s[a.FULLPLAIN]+"$",u("LOOSEPLAIN"),s[a.LOOSEPLAIN]="[v=\\s]*"+s[a.MAINVERSIONLOOSE]+s[a.PRERELEASELOOSE]+"?"+s[a.BUILD]+"?",u("LOOSE"),s[a.LOOSE]="^"+s[a.LOOSEPLAIN]+"$",u("GTLT"),s[a.GTLT]="((?:<|>)?=?)",u("XRANGEIDENTIFIERLOOSE"),s[a.XRANGEIDENTIFIERLOOSE]=s[a.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",u("XRANGEIDENTIFIER"),s[a.XRANGEIDENTIFIER]=s[a.NUMERICIDENTIFIER]+"|x|X|\\*",u("XRANGEPLAIN"),s[a.XRANGEPLAIN]="[v=\\s]*("+s[a.XRANGEIDENTIFIER]+")(?:\\.("+s[a.XRANGEIDENTIFIER]+")(?:\\.("+s[a.XRANGEIDENTIFIER]+")(?:"+s[a.PRERELEASE]+")?"+s[a.BUILD]+"?)?)?",u("XRANGEPLAINLOOSE"),s[a.XRANGEPLAINLOOSE]="[v=\\s]*("+s[a.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+s[a.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+s[a.XRANGEIDENTIFIERLOOSE]+")(?:"+s[a.PRERELEASELOOSE]+")?"+s[a.BUILD]+"?)?)?",u("XRANGE"),s[a.XRANGE]="^"+s[a.GTLT]+"\\s*"+s[a.XRANGEPLAIN]+"$",u("XRANGELOOSE"),s[a.XRANGELOOSE]="^"+s[a.GTLT]+"\\s*"+s[a.XRANGEPLAINLOOSE]+"$",u("COERCE"),s[a.COERCE]="(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])",u("COERCERTL"),o[a.COERCERTL]=new RegExp(s[a.COERCE],"g"),u("LONETILDE"),s[a.LONETILDE]="(?:~>?)",u("TILDETRIM"),s[a.TILDETRIM]="(\\s*)"+s[a.LONETILDE]+"\\s+",o[a.TILDETRIM]=new RegExp(s[a.TILDETRIM],"g");u("TILDE"),s[a.TILDE]="^"+s[a.LONETILDE]+s[a.XRANGEPLAIN]+"$",u("TILDELOOSE"),s[a.TILDELOOSE]="^"+s[a.LONETILDE]+s[a.XRANGEPLAINLOOSE]+"$",u("LONECARET"),s[a.LONECARET]="(?:\\^)",u("CARETTRIM"),s[a.CARETTRIM]="(\\s*)"+s[a.LONECARET]+"\\s+",o[a.CARETTRIM]=new RegExp(s[a.CARETTRIM],"g");u("CARET"),s[a.CARET]="^"+s[a.LONECARET]+s[a.XRANGEPLAIN]+"$",u("CARETLOOSE"),s[a.CARETLOOSE]="^"+s[a.LONECARET]+s[a.XRANGEPLAINLOOSE]+"$",u("COMPARATORLOOSE"),s[a.COMPARATORLOOSE]="^"+s[a.GTLT]+"\\s*("+s[a.LOOSEPLAIN]+")$|^$",u("COMPARATOR"),s[a.COMPARATOR]="^"+s[a.GTLT]+"\\s*("+s[a.FULLPLAIN]+")$|^$",u("COMPARATORTRIM"),s[a.COMPARATORTRIM]="(\\s*)"+s[a.GTLT]+"\\s*("+s[a.LOOSEPLAIN]+"|"+s[a.XRANGEPLAIN]+")",o[a.COMPARATORTRIM]=new RegExp(s[a.COMPARATORTRIM],"g");u("HYPHENRANGE"),s[a.HYPHENRANGE]="^\\s*("+s[a.XRANGEPLAIN]+")\\s+-\\s+("+s[a.XRANGEPLAIN]+")\\s*$",u("HYPHENRANGELOOSE"),s[a.HYPHENRANGELOOSE]="^\\s*("+s[a.XRANGEPLAINLOOSE]+")\\s+-\\s+("+s[a.XRANGEPLAINLOOSE]+")\\s*$",u("STAR"),s[a.STAR]="(<|>)?=?\\s*\\*";for(var l=0;l<c;l++)n(l,s[l]),o[l]||(o[l]=new RegExp(s[l]));function p(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof h)return t;if("string"!=typeof t)return null;if(t.length>r)return null;if(!(e.loose?o[a.LOOSE]:o[a.FULL]).test(t))return null;try{return new h(t,e)}catch(t){return null}}function h(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof h){if(t.loose===e.loose)return t;t=t.version}else if("string"!=typeof t)throw new TypeError("Invalid Version: "+t);if(t.length>r)throw new TypeError("version is longer than "+r+" characters");if(!(this instanceof h))return new h(t,e);n("SemVer",t,e),this.options=e,this.loose=!!e.loose;var s=t.trim().match(e.loose?o[a.LOOSE]:o[a.FULL]);if(!s)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(function(t){if(/^[0-9]+$/.test(t)){var e=+t;if(e>=0&&e<i)return e}return t}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}e.parse=p,e.valid=function(t,e){var n=p(t,e);return n?n.version:null},e.clean=function(t,e){var n=p(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null},e.SemVer=h,h.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},h.prototype.toString=function(){return this.version},h.prototype.compare=function(t){return n("SemVer.compare",this.version,this.options,t),t instanceof h||(t=new h(t,this.options)),this.compareMain(t)||this.comparePre(t)},h.prototype.compareMain=function(t){return t instanceof h||(t=new h(t,this.options)),f(this.major,t.major)||f(this.minor,t.minor)||f(this.patch,t.patch)},h.prototype.comparePre=function(t){if(t instanceof h||(t=new h(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var e=0;do{var r=this.prerelease[e],i=t.prerelease[e];if(n("prerelease compare",e,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return f(r,i)}while(++e)},h.prototype.compareBuild=function(t){t instanceof h||(t=new h(t,this.options));var e=0;do{var r=this.build[e],i=t.build[e];if(n("prerelease compare",e,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return f(r,i)}while(++e)},h.prototype.inc=function(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e),this.inc("pre",e);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+t)}return this.format(),this.raw=this.version,this},e.inc=function(t,e,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new h(t,n).inc(e,r).version}catch(t){return null}},e.diff=function(t,e){if(y(t,e))return null;var n=p(t),r=p(e),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var o="prerelease"}for(var s in n)if(("major"===s||"minor"===s||"patch"===s)&&n[s]!==r[s])return i+s;return o},e.compareIdentifiers=f;var d=/^[0-9]+$/;function f(t,e){var n=d.test(t),r=d.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1}function m(t,e,n){return new h(t,n).compare(new h(e,n))}function g(t,e,n){return m(t,e,n)>0}function v(t,e,n){return m(t,e,n)<0}function y(t,e,n){return 0===m(t,e,n)}function _(t,e,n){return 0!==m(t,e,n)}function b(t,e,n){return m(t,e,n)>=0}function x(t,e,n){return m(t,e,n)<=0}function C(t,e,n,r){switch(e){case"===":return"object"==typeof t&&(t=t.version),"object"==typeof n&&(n=n.version),t===n;case"!==":return"object"==typeof t&&(t=t.version),"object"==typeof n&&(n=n.version),t!==n;case"":case"=":case"==":return y(t,n,r);case"!=":return _(t,n,r);case">":return g(t,n,r);case">=":return b(t,n,r);case"<":return v(t,n,r);case"<=":return x(t,n,r);default:throw new TypeError("Invalid operator: "+e)}}function w(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof w){if(t.loose===!!e.loose)return t;t=t.value}if(!(this instanceof w))return new w(t,e);n("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===E?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}e.rcompareIdentifiers=function(t,e){return f(e,t)},e.major=function(t,e){return new h(t,e).major},e.minor=function(t,e){return new h(t,e).minor},e.patch=function(t,e){return new h(t,e).patch},e.compare=m,e.compareLoose=function(t,e){return m(t,e,!0)},e.compareBuild=function(t,e,n){var r=new h(t,n),i=new h(e,n);return r.compare(i)||r.compareBuild(i)},e.rcompare=function(t,e,n){return m(e,t,n)},e.sort=function(t,n){return t.sort(function(t,r){return e.compareBuild(t,r,n)})},e.rsort=function(t,n){return t.sort(function(t,r){return e.compareBuild(r,t,n)})},e.gt=g,e.lt=v,e.eq=y,e.neq=_,e.gte=b,e.lte=x,e.cmp=C,e.Comparator=w;var E={};function I(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof I)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new I(t.raw,e);if(t instanceof w)return new I(t.value,e);if(!(this instanceof I))return new I(t,e);if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map(function(t){return this.parseRange(t.trim())},this).filter(function(t){return t.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+t);this.format()}function S(t,e){for(var n=!0,r=t.slice(),i=r.pop();n&&r.length;)n=r.every(function(t){return i.intersects(t,e)}),i=r.pop();return n}function T(t){return!t||"x"===t.toLowerCase()||"*"===t}function A(t,e,n,r,i,o,s,a,c,u,l,p,h){return((e=T(n)?"":T(r)?">="+n+".0.0":T(i)?">="+n+"."+r+".0":">="+e)+" "+(a=T(c)?"":T(u)?"<"+(+c+1)+".0.0":T(l)?"<"+c+"."+(+u+1)+".0":p?"<="+c+"."+u+"."+l+"-"+p:"<="+a)).trim()}function D(t,e,r){for(var i=0;i<t.length;i++)if(!t[i].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(i=0;i<t.length;i++)if(n(t[i].semver),t[i].semver!==E&&t[i].semver.prerelease.length>0){var o=t[i].semver;if(o.major===e.major&&o.minor===e.minor&&o.patch===e.patch)return!0}return!1}return!0}function O(t,e,n){try{e=new I(e,n)}catch(t){return!1}return e.test(t)}function k(t,e,n,r){var i,o,s,a,c;switch(t=new h(t,r),e=new I(e,r),n){case">":i=g,o=x,s=v,a=">",c=">=";break;case"<":i=v,o=b,s=g,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(O(t,e,r))return!1;for(var u=0;u<e.set.length;++u){var l=e.set[u],p=null,d=null;if(l.forEach(function(t){t.semver===E&&(t=new w(">=0.0.0")),p=p||t,d=d||t,i(t.semver,p.semver,r)?p=t:s(t.semver,d.semver,r)&&(d=t)}),p.operator===a||p.operator===c)return!1;if((!d.operator||d.operator===a)&&o(t,d.semver))return!1;if(d.operator===c&&s(t,d.semver))return!1}return!0}w.prototype.parse=function(t){var e=this.options.loose?o[a.COMPARATORLOOSE]:o[a.COMPARATOR],n=t.match(e);if(!n)throw new TypeError("Invalid comparator: "+t);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new h(n[2],this.options.loose):this.semver=E},w.prototype.toString=function(){return this.value},w.prototype.test=function(t){if(n("Comparator.test",t,this.options.loose),this.semver===E||t===E)return!0;if("string"==typeof t)try{t=new h(t,this.options)}catch(t){return!1}return C(t,this.operator,this.semver,this.options)},w.prototype.intersects=function(t,e){if(!(t instanceof w))throw new TypeError("a Comparator is required");var n;if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),""===this.operator)return""===this.value||(n=new I(t.value,e),O(this.value,n,e));if(""===t.operator)return""===t.value||(n=new I(this.value,e),O(t.semver,n,e));var r=!(">="!==this.operator&&">"!==this.operator||">="!==t.operator&&">"!==t.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==t.operator&&"<"!==t.operator),o=this.semver.version===t.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==t.operator&&"<="!==t.operator),a=C(this.semver,"<",t.semver,e)&&(">="===this.operator||">"===this.operator)&&("<="===t.operator||"<"===t.operator),c=C(this.semver,">",t.semver,e)&&("<="===this.operator||"<"===this.operator)&&(">="===t.operator||">"===t.operator);return r||i||o&&s||a||c},e.Range=I,I.prototype.format=function(){return this.range=this.set.map(function(t){return t.join(" ").trim()}).join("||").trim(),this.range},I.prototype.toString=function(){return this.range},I.prototype.parseRange=function(t){var e=this.options.loose;t=t.trim();var r=e?o[a.HYPHENRANGELOOSE]:o[a.HYPHENRANGE];t=t.replace(r,A),n("hyphen replace",t),t=t.replace(o[a.COMPARATORTRIM],"$1$2$3"),n("comparator trim",t,o[a.COMPARATORTRIM]),t=(t=(t=t.replace(o[a.TILDETRIM],"$1~")).replace(o[a.CARETTRIM],"$1^")).split(/\s+/).join(" ");var i=e?o[a.COMPARATORLOOSE]:o[a.COMPARATOR],s=t.split(" ").map(function(t){return function(t,e){return n("comp",t,e),t=function(t,e){return t.trim().split(/\s+/).map(function(t){return function(t,e){n("caret",t,e);var r=e.loose?o[a.CARETLOOSE]:o[a.CARET];return t.replace(r,function(e,r,i,o,s){var a;return n("caret",t,e,r,i,o,s),T(r)?a="":T(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":T(o)?a="0"===r?">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":">="+r+"."+i+".0 <"+(+r+1)+".0.0":s?(n("replaceCaret pr",s),a="0"===r?"0"===i?">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+"-"+s+" <"+(+r+1)+".0.0"):(n("no pr"),a="0"===r?"0"===i?">="+r+"."+i+"."+o+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+" <"+(+r+1)+".0.0"),n("caret return",a),a})}(t,e)}).join(" ")}(t,e),n("caret",t),t=function(t,e){return t.trim().split(/\s+/).map(function(t){return function(t,e){var r=e.loose?o[a.TILDELOOSE]:o[a.TILDE];return t.replace(r,function(e,r,i,o,s){var a;return n("tilde",t,e,r,i,o,s),T(r)?a="":T(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":T(o)?a=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":s?(n("replaceTilde pr",s),a=">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0"):a=">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0",n("tilde return",a),a})}(t,e)}).join(" ")}(t,e),n("tildes",t),t=function(t,e){return n("replaceXRanges",t,e),t.split(/\s+/).map(function(t){return function(t,e){t=t.trim();var r=e.loose?o[a.XRANGELOOSE]:o[a.XRANGE];return t.replace(r,function(r,i,o,s,a,c){n("xRange",t,r,i,o,s,a,c);var u=T(o),l=u||T(s),p=l||T(a),h=p;return"="===i&&h&&(i=""),c=e.includePrerelease?"-0":"",u?r=">"===i||"<"===i?"<0.0.0-0":"*":i&&h?(l&&(s=0),a=0,">"===i?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):"<="===i&&(i="<",l?o=+o+1:s=+s+1),r=i+o+"."+s+"."+a+c):l?r=">="+o+".0.0"+c+" <"+(+o+1)+".0.0"+c:p&&(r=">="+o+"."+s+".0"+c+" <"+o+"."+(+s+1)+".0"+c),n("xRange return",r),r})}(t,e)}).join(" ")}(t,e),n("xrange",t),t=function(t,e){return n("replaceStars",t,e),t.trim().replace(o[a.STAR],"")}(t,e),n("stars",t),t}(t,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter(function(t){return!!t.match(i)})),s=s.map(function(t){return new w(t,this.options)},this)},I.prototype.intersects=function(t,e){if(!(t instanceof I))throw new TypeError("a Range is required");return this.set.some(function(n){return S(n,e)&&t.set.some(function(t){return S(t,e)&&n.every(function(n){return t.every(function(t){return n.intersects(t,e)})})})})},e.toComparators=function(t,e){return new I(t,e).set.map(function(t){return t.map(function(t){return t.value}).join(" ").trim().split(" ")})},I.prototype.test=function(t){if(!t)return!1;if("string"==typeof t)try{t=new h(t,this.options)}catch(t){return!1}for(var e=0;e<this.set.length;e++)if(D(this.set[e],t,this.options))return!0;return!1},e.satisfies=O,e.maxSatisfying=function(t,e,n){var r=null,i=null;try{var o=new I(e,n)}catch(t){return null}return t.forEach(function(t){o.test(t)&&(r&&-1!==i.compare(t)||(i=new h(r=t,n)))}),r},e.minSatisfying=function(t,e,n){var r=null,i=null;try{var o=new I(e,n)}catch(t){return null}return t.forEach(function(t){o.test(t)&&(r&&1!==i.compare(t)||(i=new h(r=t,n)))}),r},e.minVersion=function(t,e){t=new I(t,e);var n=new h("0.0.0");if(t.test(n))return n;if(n=new h("0.0.0-0"),t.test(n))return n;n=null;for(var r=0;r<t.set.length;++r){t.set[r].forEach(function(t){var e=new h(t.semver.version);switch(t.operator){case">":0===e.prerelease.length?e.patch++:e.prerelease.push(0),e.raw=e.format();case"":case">=":n&&!g(n,e)||(n=e);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+t.operator)}})}if(n&&t.test(n))return n;return null},e.validRange=function(t,e){try{return new I(t,e).range||"*"}catch(t){return null}},e.ltr=function(t,e,n){return k(t,e,"<",n)},e.gtr=function(t,e,n){return k(t,e,">",n)},e.outside=k,e.prerelease=function(t,e){var n=p(t,e);return n&&n.prerelease.length?n.prerelease:null},e.intersects=function(t,e,n){return t=new I(t,n),e=new I(e,n),t.intersects(e)},e.coerce=function(t,e){if(t instanceof h)return t;"number"==typeof t&&(t=String(t));if("string"!=typeof t)return null;var n=null;if((e=e||{}).rtl){for(var r;(r=o[a.COERCERTL].exec(t))&&(!n||n.index+n[0].length!==t.length);)n&&r.index+r[0].length===n.index+n[0].length||(n=r),o[a.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;o[a.COERCERTL].lastIndex=-1}else n=t.match(o[a.COERCE]);if(null===n)return null;return p(n[2]+"."+(n[3]||"0")+"."+(n[4]||"0"),e)}},function(t,e,n){t.exports=n(312)},function(t,e){t.exports=function(t){return t&&t.length?t[0]:void 0}},function(t,e,n){const{assert:r}=n(2);t.exports=class{constructor({type:t,src:e,code:n,name:i,version:o,namespace:s,isExecuteOnly:a,component:c}){this.type=t,this.src=e,this.code=n,this.namespace=s,this.name=i,this.version=o,this.isExecuteOnly=a,r(this.src||this.code,'Dependency: No "src" or "code" param provided'),r(!(this.src&&this.code),'Dependency: Only provide one of "src" or "code" params'),r(this.type,"Dependency: Param type must be specified"),r(["js","css"].includes(this.type),`Dependency: Unrecognized type: ${this.type}`),this.code&&(this.inline=!0),this.components={},this.componentCount=0,c&&this.addComponent(c)}isJs(){return"js"===this.type}isCss(){return"css"===this.type}hasComponent(t){return null!=this.components[t.id]}addComponent(t){this.hasComponent(t)||(this.componentCount+=1,this.components[t.id]=!0)}forceExecution(){this.isExecuteOnly=!0}removeComponent(t){return!this.hasComponent(t)||(this.componentCount-=1,this.components[t.id]=void 0,0!==this.componentCount)}isSameAs(t){return this.type===t.type&&(this.namespace===t.namespace&&(t.src?this.src===t.src:this.code===t.code))}serialize(){r(!this.isExecuteOnly,"engine//dependency.js: Cannot serialize a temporary dependency");const t={};for(const e of["src","code","inline","name","version","namespace"])this[e]&&(t[e]=this[e]);for(const e in this.components)t.componentIds||(t.componentIds=[]),t.componentIds.push(e);return t}}},function(t,e,n){const r=n(315);t.exports={printJs:function(t){let e="";for(const n of Array.from(t.js))n.inline?e+=this.printInlineScript({codeBlock:n.code}):e+=this.printScriptTag({src:n.src}),e+="\n";return e},printCss:function(t){let e="";for(const n of Array.from(t.css))n.inline?e+=this.printInlineCss({styles:n.code}):e+=this.printCssLink({src:n.src}),e+="\n";return e},printScriptTag:function({src:t}){return`<script src="${t}"><\/script>`},printInlineScript:function({codeBlock:t}){return`<script> ${t=r.prepareInlineCode(t)} <\/script>`},printCssLink:function({src:t,head:e}){"boolean"!=typeof e&&(e=!0);if(e)return`<link rel="stylesheet" type="text/css" href="${t}">`;return`<link rel="stylesheet" type="text/css" href="${t}">`},printInlineCss:function({styles:t}){return`<style> ${t=r.prepareInlineStyles(t)} </style>`},printComment:function(t){return`\x3c!-- ${t} --\x3e`}}},function(t,e){const n=/<style[^>]*>|<\/style>/gi,r=/<script[^>]*>|<\/script>/gi;t.exports={prepareInlineStyles:t=>t.replace(n,""),prepareInlineCode:t=>t.replace(r,"")}},function(t,e){t.exports=class{constructor(t){this.design=t,this.components=this.design.components}getTransformations({structure:t,componentName:e,oneWay:n=!1,directives:r,filter:i}){e&&(t=this.design.getComponentStructure(e));const o=[];return this.design.eachStructure(e=>{if(t.name===e.name)return;if(i&&!i(e))return;const s=this.isCompatible(t,e,{oneWay:n,directives:r});s.isCompatible&&(s.structure=e,o.push(s))}),o.length?o:void 0}getOptionsList({structure:t,componentName:e,oneWay:n,directives:r,filter:i}){e&&(t=this.design.getComponentStructure(e));const o=this.getTransformations({structure:t,oneWay:n,directives:r,filter:i}),s=[];for(const n of Array.from(o||[]))e=n.name,t=n.structure,s.push({label:t.label,componentName:e});return s}isCompatible(t,e,n={}){const r={name:e.name,isCompatible:!0,mapping:{}},i=this.getSelectedDirectives(t,n);for(const n of i){const{name:i,type:o}=n;if(!["editable","image","link"].includes(o)){r.isCompatible=!1;continue}const s=e.directives.get(i);1===t.directives.count(o)&&1===e.directives.count(o)?r.mapping[i]=e.directives[o][0].name:s&&s.type===o?r.mapping[i]=i:(r.mapping[i]=null,r.isCompatible=!1)}return n.oneWay||t.directives.length===e.directives.length||(r.isCompatible=!1),r}getSelectedDirectives(t,e){let n;return e.directives?(e.oneWay=!0,n=e.directives.map(e=>t.directives.get(e))):n=t.directives,n||[]}}},function(t,e,n){var r=n(36),i=n(159)(function(t,e,n){r(t,n,e)});t.exports=i},function(t,e){t.exports=function(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}},function(t,e,n){var r=n(30);t.exports=function(t,e,n,i){return r(t,function(t,r,o){e(i,t,n(t),o)}),i}},function(t,e,n){const r=n(3),i=n(25),o=n(156),s=n(154);function a(t,e){return t.name>e.name?1:t.name<e.name?-1:0}t.exports=class{constructor({name:t,label:e,description:n,iconUrl:s,directives:a,properties:c,allowedParents:u}){this.name=t,this.properties=c,this.allowedParents=u,this.description=n,this.iconUrl=s,r.param(this.name,"new ComponentStructure()","name"),this.label=e||i.humanize(this.name),this.styles=this.properties=this.properties||{},this.directives=new o({directives:a}),this.allowedParents&&r(this.allowedParents.length,"AllowedParents must be an array or undefined")}setDesign(t){this.design=t,this.identifier=`${t.name}.${this.name}`}setSkin(t){this.skin=t}getSkin(){return this.skin?this.skin:this.design?this.design.getComponentSkin(this.name):void 0}createModel({id:t}={}){return new s({id:t,structure:this})}equals(t){if(this.design&&t&&t.design)return this.design.identifier===t.design.identifier&&this.name===t.name;throw new Error("Can not determine component structure equality: not implemented")}info(){const t={name:this.name,directives:[],styles:[]};for(const{name:e,type:n}of this.directives)t.directives.push({name:e,type:n});for(const e of Object.keys(this.properties))t.properties.push({name:e,type:"cssModificator"});return t.directives.sort(a),t.properties.sort(a),t}isSkinCompatible(t){}}},function(t,e,n){const r=n(3),i=n(37);t.exports=class{constructor({name:t,dom:e}){this.name=t,this.dom=e,r.param(this.name,"new ComponentSkin","name"),r.param(this.dom,"new ComponentSkin","dom"),this.assertRootElem()}assertRootElem(){r(1===this.dom.length,`Invalid HTML Template: The component '${this.name}' has more than one `+"root element in its HTML template. Please wrap your markup in one element.")}toHtml(t){return i(this.dom,t)}}},function(t,e,n){const r=n(323),i=n(86),o=n(332);t.exports=function(t){const e=i(r(t));if(!e.length)throw new Error("no template provided");if(e.length>1)throw new Error("more than one root element. Please wrap your markup in one element");const n=new o(e);return{directives:n.directives,skin:n.tree.children}}},function(t,e,n){var r=n(118),i=n(324),o=n(325),s=n(328),a=n(329),c=n(117),u=/^\s+|\s+$/g;t.exports=function(t,e,n){if((t=c(t))&&(n||void 0===e))return t.replace(u,"");if(!t||!(e=r(e)))return t;var l=a(t),p=a(e),h=s(l,p),d=o(l,p)+1;return i(l,h,d).join("")}},function(t,e,n){var r=n(91);t.exports=function(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:r(t,e,n)}},function(t,e,n){var r=n(92);t.exports=function(t,e){for(var n=t.length;n--&&r(e,t[n],0)>-1;);return n}},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},function(t,e,n){var r=n(92);t.exports=function(t,e){for(var n=-1,i=t.length;++n<i&&r(e,t[n],0)>-1;);return n}},function(t,e,n){var r=n(330),i=n(160),o=n(331);t.exports=function(t){return i(t)?o(t):r(t)}},function(t,e){t.exports=function(t){return t.split("")}},function(t,e){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+i+")"+"?",u="[\\ufe0e\\ufe0f]?"+c+("(?:\\u200d(?:"+[o,s,a].join("|")+")[\\ufe0e\\ufe0f]?"+c+")*"),l="(?:"+[o+r+"?",r,s,a,n].join("|")+")",p=RegExp(i+"(?="+i+")|"+l+u,"g");t.exports=function(t){return t.match(p)||[]}},function(t,e,n){const r=n(333),i=n(335),o=n(1),{decodeHTML:s}=n(54),{log:a}=n(2),c=n(25),u=n(339),l=n(37),p=n(93),h=n(340);t.exports=class{constructor(t){this.directives=[],this.tree=this.parseNode({type:"fragment",children:t})}parseNode(t){switch(t.type){case"text":return this.parseTextNode(t);case"tag":case"fragment":return this.parseElementNode(t);case"comment":case"script":return;default:throw new Error(`Parsing component template: Unrecognized node type '${t.type}'`)}}parseTextNode(t){return{type:"text",data:t.data}}parseElementNode(t){let e=!1;const n={type:t.type};if(t.name&&(n.name=t.name),t.attribs){const r=h.parseAttributes(t.attribs),i=r.attributes;if(i&&(n.attribs=i),r.directives){const i=this.parseDirectives(r.directives,t),o=i.directives;e=i.skipChildren;const s={};for(const t of o)s[t.type]=t.name;n.directives=s,this.directives=this.directives.concat(o)}}if(!e&&t.children&&t.children.length)for(const e of t.children){const t=this.parseNode(e);t&&(n.children||(n.children=[]),n.children.push(t))}return n}parseDirectives(t,e){let n,i={};for(const{name:r,type:o}of Array.from(t)){p.doesOverwriteContent(o)&&(n=!0);const t=this.createDirective(r,o,e);i[o]=t}return i=this.processOptionalDirective(i,e),{directives:t=r(i),skipChildren:n}}createDirective(t,e,n){const r={type:e,name:t};let i,o;switch(e){case"editable":i=this.getText(n),i=c.trim(i),i=s(i),r.placeholder=i,r.tag=n.name;break;case"image":r.tag=n.name,r.setAsBackground="img"!==n.name;break;case"html":case"include":o=this.getContentHtml(n),r.placeholder=o}return r}processOptionalDirective(t,e){if(t.optional){let n;return(n=t.editable)?n.optional=!0:a.error(`<${e.name}>: doc-optional can only be used in conjunction with doc-editable`),i(t,"optional")}return t}getText(t){let e,n="";const r=new u({firstNode:t,isRoot:!0});for(;e=r.next();)"text"===e.type&&(n+=e.data);return n}getContentHtml(t){if(o(t,"children.length"))return l(t.children)}}},function(t,e,n){var r=n(334),i=n(14);t.exports=function(t){return null==t?[]:r(t,i(t))}},function(t,e,n){var r=n(13);t.exports=function(t,e){return r(e,function(e){return t[e]})}},function(t,e,n){var r=n(13),i=n(69),o=n(161),s=n(23),a=n(22),c=n(338),u=n(122),l=n(75),p=u(function(t,e){var n={};if(null==t)return n;var u=!1;e=r(e,function(e){return e=s(e,t),u||(u=e.length>1),e}),a(t,l(t),n),u&&(n=i(n,7,c));for(var p=e.length;p--;)o(n,e[p]);return n});t.exports=p},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,n){var r=n(52),i=n(91);t.exports=function(t,e){return e.length<2?t:r(t,i(e,0,-1))}},function(t,e,n){var r=n(131);t.exports=function(t){return r(t)?void 0:t}},function(t,e){t.exports=class{constructor({firstNode:t,isRoot:e}){this._next=t,this.current=t,e&&(this.root=t)}next(){let t=this.current=this._next;if(this.current){let e;if(t.children&&t.children.length&&(e=t.children[0]),e&&"tag"===t.type)this._next=e;else{let e;for(;t&&t!==this.root&&!(e=t.next);)t=t.parent;this._next=e}}return this.current}nextElement(){for(;this.next()&&"tag"!==this.current.type;);return this.current}detach(){this.root=null,this._next=null,this.current=null}}},function(t,e,n){const r=/^(doc-|data-doc-|x-doc-)(.*)/,i=/(^| )doc-section($| )/,o=n(93);t.exports={parseAttributes(t){let e,n;for(const r of Object.keys(t)){const i=t[r],o=this.scanAttribute(r,i,!0);o?(n||(n=[]),n.push(o)):(e||(e={}),e[r]=i)}return{attributes:e,directives:n}},getDirectiveTypes(t){if(!t||!t.length)return;const e={};let n=!1;for(const r of Array.from(t||[])){const t=r.name||r.nodeName,i=r.value||r.nodeValue,o=this.scanAttribute(t,i);o&&(n=!0,e[o.type]=o.name)}return n?e:void 0},scanAttribute(t,e,n){let s=r.exec(t);if(s){const r=s[2];if(o.exists(r))return{type:r,name:e};if(n)throw new Error(`Unrecognized directive attribute '${t}'`)}else if("class"===t&&(s=i.exec(e)))return{type:"container",name:"content"}},convertBrowserAttributes(t){if(t&&t.length)return Array.from(t||[]).reduce((t,e)=>(t[e.name||e.nodeName]=e.value||e.nodeValue,t),{})}}},function(t,e,n){const r=n(162),i=n(95),o=r.new();t.exports=o,o.add("container",{type:"string",name:"string",allowedChildren:"array of string, optional",defaultContent:"array of object, optional",defaultComponents:{__validate:"optional",paragraph:"string, optional",image:"string, optional"},__additionalProperty:(t,e)=>!1}),o.add("editable",{type:"string",name:"string",tag:"string",placeholder:"string, optional",optional:"boolean, optional",plainText:"boolean, optional",tagWhitelist:"array of string, optional",tagBlacklist:"array of string, optional",excludeFromTextCount:"boolean, optional",__additionalProperty:(t,e)=>!1}),o.add("html",{type:"string",name:"string",placeholder:"string, optional",__additionalProperty:(t,e)=>!1}),o.add("include",{type:"string",name:"string",label:"string, optional",placeholder:"string, optional",service:"string, optional",defaultParams:"object, optional",services:"array of service, optional",config:"object, optional",__additionalProperty:(t,e)=>!1}),o.add("image",{type:"string",name:"string",tag:"string",setAsBackground:"boolean",imageRatios:"array of imageRatio, optional",allowOriginalRatio:"boolean, optional",srcSet:{__validate:"optional",defaultWidth:"number, optional",widths:"array of number, optional",sizes:"array of string, optional"},backgroundImage:{__validate:"optional",maxWidth:"number, optional"},__additionalProperty:(t,e)=>!1}),o.add("imageRatio",function(t){return t instanceof i||"must be an ImageRatio instance"}),o.add("service",{service:"string",label:"string",defaultParams:"object, optional",config:"object, optional",__additionalProperty:(t,e)=>!1}),o.add("link",{type:"string",name:"string",prefill:"object, optional",__additionalProperty:(t,e)=>!1}),o.add("optional",{type:"string",name:"string, optional",__additionalProperty:(t,e)=>!1}),o.add("toggle",{type:"string",name:"string",default:"boolean, optional",label:"string, optional",__additionalProperty:(t,e)=>!1}),o.add("style",{type:"string",name:"string",properties:"object, optional",__additionalProperty:(t,e)=>!1})},function(t,e,n){var r,i,o,s;i=n(343),r=n(344),s=n(345),o=n(94),t.exports=function(){var t;function e(){this.validators=Object.create(s),this.schemas={},this.propertiesRequired=!0,this.allowAdditionalProperties=!0}return t=/^[a-zA-Z]\w*$/,e.prototype.configure=function(t){this.propertiesRequired=t.propertiesRequired,this.allowAdditionalProperties=t.allowAdditionalProperties},e.prototype.add=function(t,e){return o.isFunction(e)?this.addValidator(t,e):this.addSchema(t,this.parseConfigObj(e,void 0,t)),this},e.prototype.addSchema=function(t,e){if(null!=this.validators[t])throw new Error("A validator is alredy registered under this name: "+t);var n;return this.schemas[t]=e,this.validators[t]=(n=this,function(t){var r;return!(r=n.recursiveValidate(e,t)).hasErrors()||r}),this},e.prototype.addValidator=function(t,e){return this.validators[t]=e,this},e.prototype.validate=function(t,e){var n;return this.errors=void 0,null==(n=this.schemas[t])?(this.errors=new i,this.errors.add("missing schema",{location:t}),!1):(this.errors=this.recursiveValidate(n,e).setRoot(t),!this.errors.hasErrors())},e.prototype.hasErrors=function(){var t;return null!=(t=this.errors)?t.hasErrors():void 0},e.prototype.getErrorMessages=function(){var t;return null!=(t=this.errors)?t.getMessages():void 0},e.prototype.recursiveValidate=function(t,e){var n,r,s,a,c;for(r in s=t.__validator,n=new i,s.validate(e,n),e)c=e[r],null!=t[r]?(a=t[r].__validator).validate(c,n)&&null==a.childSchemaName&&o.isObject(c)&&n.join(this.recursiveValidate(t[r],c)):s.validateOtherProperty(r,c,n);return n},e.prototype.parseConfigObj=function(t,e){var n,i,s;for(n in null==e&&(e=new r({inputString:"object",scheme:this})),t)s=t[n],this.addParentValidator(e,n,s)||(o.isString(s)?(i=new r({inputString:s,property:n,parent:e,scheme:this}),t[n]={__validator:i}):o.isObject(s)&&(i=new r({inputString:"object",property:n,parent:e,scheme:this}),t[n]=this.parseConfigObj(s,i)));return t.__validator=e,t},e.prototype.addParentValidator=function(t,e,n){switch(e){case"__validate":t.addValidations(n);break;case"__additionalProperty":o.isFunction(n)&&(t.otherPropertyValidator=n);break;default:return!1}return!0},e.prototype.writeProperty=function(e){return t.test(e)?"."+e:"['"+e+"']"},e}()},function(t,e,n){var r;r=n(94),t.exports=function(){function t(){}return t.prototype.hasErrors=function(){return null!=this.errors},t.prototype.setRoot=function(t){return this.root=t,this},t.prototype.add=function(e,n){var i,o,s,a;if(s=(a=null!=n?n:{}).location,i=a.defaultMessage,!1===e&&(e=i),void 0===e&&(e="validator returned undefined. Check your validator implementation."),null==this.errors&&(this.errors=[]),r.isString(e))this.errors.push({path:s,message:e});else if(e instanceof t)this.join(e,{location:s});else{if(!e.path||!e.message)throw new Error("ValidationError.add() unknown error type");o=e,this.errors.push({path:s+o.path,message:o.message})}return!1},t.prototype.join=function(t,e){var n,r,i,o,s,a;if(r=t.errors,i=(null!=e?e:{}).location,null!=r&&r.length){for(null==this.errors&&(this.errors=[]),a=[],o=0,s=r.length;o<s;o++)n=r[o],a.push(this.errors.push({path:(i||"")+n.path,message:n.message}));return a}},t.prototype.getMessages=function(){var t,e,n,r,i;for(e=[],n=0,r=(i=this.errors||[]).length;n<r;n++)t=i[n],e.push(""+(this.root||"")+t.path+": "+t.message);return e},t}()},function(t,e){t.exports=function(){var t;function e(t){var e;this.inputString=t.inputString,this.scheme=t.scheme,this.property=t.property,this.parent=t.parent,this.validators=[],this.location=this.getLocation(),this.scheme.propertiesRequired&&null!=(e=this.parent)&&e.addRequiredProperty(this.property),this.addValidations(this.inputString)}return t=/\w[\w ]*\w/g,e.prototype.getLocation=function(){return null==this.property?"":null!=this.parent?this.parent.location+this.scheme.writeProperty(this.property):this.scheme.writeProperty(this.property)},e.prototype.getPropLocation=function(t){return""+this.location+this.scheme.writeProperty(t)},e.prototype.addValidations=function(e){for(var n,r;n=t.exec(e);)"optional"===(r=n[0])?this.parent.removeRequiredProperty(this.property):"required"===r?this.parent.addRequiredProperty(this.property):0===r.indexOf("array of ")?(this.validators.push("array"),this.arrayValidator=r.slice(9)):-1!==r.indexOf(" or ")?(r.split(" or "),console.log("todo")):this.validators.push(r)},e.prototype.validate=function(t,e){var n,r,i,o,s,a,c,u;if(n=!0,null==t&&this.isOptional())return n;for(s=this.scheme.validators,a=0,c=(u=this.validators||[]).length;a<c;a++){if(null==(o=s[r=u[a]]))return e.add("missing validator "+r,{location:this.location});!0!==(i=o(t))&&(e.add(i,{location:this.location,defaultMessage:r+" validator failed"}),n=!1)}return!!(n=this.validateArray(t,e))&&(!!(n=this.validateRequiredProperties(t,e))&&n)},e.prototype.validateArray=function(t,e){var n,r,i,o,s,a,c,u;if(null==this.arrayValidator)return!0;if(r=!0,null==(s=this.scheme.validators[this.arrayValidator]))return e.add("missing validator "+this.arrayValidator,{location:this.location});for(n=a=0,c=(u=t||[]).length;a<c;n=++a)!0!==(o=s(u[n]))&&(i=this.location+"["+n+"]",e.add(o,{location:i,defaultMessage:this.arrayValidator+" validator failed"}),r=!1);return r},e.prototype.validateOtherProperty=function(t,e,n){return null!=this.otherPropertyValidator?(this.scheme.errors=void 0,!!this.otherPropertyValidator.call(this,t,e)||(null!=this.scheme.errors?n.join(this.scheme.errors,{location:this.getPropLocation(t)}):n.add("additional property check failed",{location:this.getPropLocation(t)}),!1)):!!this.scheme.allowAdditionalProperties||(n.add("unspecified additional property",{location:this.getPropLocation(t)}),!1)},e.prototype.validateRequiredProperties=function(t,e){var n,r,i,o;for(i in r=!0,o=this.requiredProperties)n=o[i],null==t[i]&&n&&(e.add("required property missing",{location:this.getPropLocation(i)}),r=!1);return r},e.prototype.addRequiredProperty=function(t){return null==this.requiredProperties&&(this.requiredProperties={}),this.requiredProperties[t]=!0},e.prototype.removeRequiredProperty=function(t){var e;return null!=(e=this.requiredProperties)?e[t]=void 0:void 0},e.prototype.isOptional=function(){if(null!=this.parent)return!0==!this.parent.requiredProperties[this.property]},e}()},function(t,e,n){var r;r=n(94),t.exports={object:function(t){return r.isObject(t)},string:function(t){return r.isString(t)},boolean:function(t){return r.isBoolean(t)},number:function(t){return r.isNumber(t)},function:function(t){return r.isFunction(t)},date:function(t){return r.isDate(t)},regexp:function(t){return r.isRegExp(t)},array:function(t){return r.isArray(t)},falsy:function(t){return!1==!!t},truthy:function(t){return!0==!!t},"not empty":function(t){return!0==!!t},deprecated:function(t){return!0}}},function(t,e,n){const r=n(78);t.exports=class{setHandleFunction(t){this.handle=t}handleViolation(t){this.handle?this.handle(t):r(!1,t.message)}}},function(t,e,n){const r=n(1),i=n(17),o=n(62),s=n(348),a=n(352),c=n(355),u=n(3),l=n(90);t.exports=class{constructor(t,e){this.onTreeChange=this.onTreeChange.bind(this),this.extractAll=this.extractAll.bind(this),this.onComponentChange=this.onComponentChange.bind(this),this.componentTree=t,this.fieldMapping=e,this.metadataConfig=e,this.fields={},this.initEvents(),this.extractAll(),this.setupListeners()}setupListeners(){this.componentTree.componentAdded.add(this.onTreeChange),this.componentTree.componentRemoved.add(this.onTreeChange),this.componentTree.componentMoved.add(this.onTreeChange),this.componentTree.componentContentChanged.add(this.onComponentChange)}onTreeChange(t){const e=t.componentName,n=this.fieldMapping.getComponentMap()[e],r={};let o=!1;const s=this.extractFields(n);for(const t in s){const e=s[t];i(this.fields[t],e)||(o=!0,r[t]=this.fields[t]=e)}o&&this.fieldsChanged.fire(r,this.fields)}isFieldCandidate(t,e){const n=e.component.componentName,r=e.name;return this.fieldMapping.getFieldsBySource(n,r).includes(t)}extractAll(){const t=this.fieldMapping.getListOfFields();return this.fields=this.extractFields(t),this.fieldsChanged.fire(this.fields,this.fields),this.fields}extractFields(t){const e={},n=new Map,r=this.fieldMapping.getComponentMap();for(const e of Object.keys(r)){const i=a(r[e],t);i.length&&n.set(e,i)}for(const t of this.componentTree.descendantsIterator()){const r=t.componentName;if(0===n.size)break;const i=n.get(r);if(!i)continue;const o=this.extractFieldsFromComponent(t,i);for(const t of Object.keys(o)){const r=o[t];for(const[e,r]of n){const i=c(r,t);i.length?n.set(e,i):n.delete(e)}e[t]=r}}return e}extractFieldsFromComponent(t,e){const n={},r=t.componentName;return e.forEach(e=>{this.fieldMapping.getDirectivesByComponentAndField(r,e).forEach(r=>{if(n[e])return;const i=t.directives.get(r);if(i.isEmpty())return;const o=this.extractFieldFromDirective(i,e);n[e]=o})}),n}onComponentChange(t,e){const n=t.componentName,r=this.fieldMapping.getFieldsBySource(n,e),i={},a=[],c=t.directives.get(e);for(const e of r){const n=c.isEmpty()?void 0:this.extractFieldFromDirective(c,e),r=this.checkChangedField(e,n,t);r&&(r.needsExtraction&&a.push(e),r.hasChanged&&(this.fields[e]=i[e]=n))}a.length&&o(this.extractFields(a),(t,e)=>{i[e]=t,this.fields[e]=t}),s(i)&&this.fieldsChanged.fire(i,this.fields)}checkChangedField(t,e,n){const o=null==e,s=null==this.fields[t],a=r(this.fields[t],"component.id")===n.id,c=n.componentTree;if((()=>o&&a)())return{hasChanged:!0,needsExtraction:!0};if((()=>(s||a)&&!i(this.fields[t],e))())return{hasChanged:!0};if((()=>!o&&!a)()){const e=c.indexOf(this.fields[t].component),r=c.indexOf(n),i=()=>-1!==r&&-1===e;if((()=>e>r)()||i())return{hasChanged:!0}}return{hasChanged:!1}}initEvents(){this.fieldsChanged=l()}extractFieldFromDirective(t,e){const n=this.fieldMapping.getConfigMap()[e],r=n.type;if("text"===r)return this.extractTextField(t);if("image"===r){if(!t.isTemporaryImage())return this.extractImageField(t)}else{if("cssProperty"===r)return this.extractStyleField(t,n.cssProperty);u(!1,`Unknown template type ${r}`)}}extractTextField(t){return{content:t.getContent(),component:t.component,directiveName:t.name,text:t.getText(),type:"text"}}extractImageField(t){return{component:t.component,directiveName:t.name,type:"image",image:{originalUrl:t.getOriginalUrl(),url:t.getProcessedUrl(),width:r(t.getOriginalImageDimensions(),"width"),height:r(t.getOriginalImageDimensions(),"height"),mimeType:t.getMimeType(),imageService:t.getImageServiceName()}}}extractStyleField(t,e){const n={content:t.getContent(),component:t.component,directiveName:t.name,type:"cssProperty"};return e&&(n.cssProperty=t.getStyle(e)),n}getFields(){return this.fields}}},function(t,e,n){var r=n(66),i=n(20),o=n(11),s=n(16),a=n(349),c="[object Map]",u="[object Set]";t.exports=function(t){if(null==t)return 0;if(o(t))return s(t)?a(t):t.length;var e=i(t);return e==c||e==u?t.size:r(t).length}},function(t,e,n){var r=n(350),i=n(160),o=n(351);t.exports=function(t){return i(t)?o(t):r(t)}},function(t,e,n){var r=n(142)("length");t.exports=r},function(t,e){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+i+")"+"?",u="[\\ufe0e\\ufe0f]?"+c+("(?:\\u200d(?:"+[o,s,a].join("|")+")[\\ufe0e\\ufe0f]?"+c+")*"),l="(?:"+[o+r+"?",r,s,a,n].join("|")+")",p=RegExp(i+"(?="+i+")|"+l+u,"g");t.exports=function(t){for(var e=p.lastIndex=0;p.test(t);)++e;return e}},function(t,e,n){var r=n(13),i=n(353),o=n(82),s=n(354),a=o(function(t){var e=r(t,s);return e.length&&e[0]===t[0]?i(e):[]});t.exports=a},function(t,e,n){var r=n(84),i=n(163),o=n(164),s=n(13),a=n(34),c=n(85),u=Math.min;t.exports=function(t,e,n){for(var l=n?o:i,p=t[0].length,h=t.length,d=h,f=Array(h),m=1/0,g=[];d--;){var v=t[d];d&&e&&(v=s(v,a(e))),m=u(v.length,m),f[d]=!n&&(e||p>=120&&v.length>=120)?new r(d&&v):void 0}v=t[0];var y=-1,_=f[0];t:for(;++y<p&&g.length<m;){var b=v[y],x=e?e(b):b;if(b=n||0!==b?b:0,!(_?c(_,x):l(g,x,n))){for(d=h;--d;){var C=f[d];if(!(C?c(C,x):l(t[d],x,n)))continue t}_&&_.push(x),g.push(b)}}return g}},function(t,e,n){var r=n(81);t.exports=function(t){return r(t)?t:[]}},function(t,e,n){var r=n(356),i=n(82),o=n(81),s=i(function(t,e){return o(t)?r(t,e):[]});t.exports=s},function(t,e,n){var r=n(84),i=n(163),o=n(164),s=n(13),a=n(34),c=n(85),u=200;t.exports=function(t,e,n,l){var p=-1,h=i,d=!0,f=t.length,m=[],g=e.length;if(!f)return m;n&&(e=s(e,a(n))),l?(h=o,d=!1):e.length>=u&&(h=c,d=!1,e=new r(e));t:for(;++p<f;){var v=t[p],y=null==n?v:n(v);if(v=l||0!==v?v:0,d&&y==y){for(var _=g;_--;)if(e[_]===y)continue t;m.push(v)}else h(e,y,l)||m.push(v)}return m}},function(t,e){t.exports=class{constructor(t){this.fieldsArray=[],this.fieldMap={},this.configMap={},this.componentDirectiveMap={},this.componentMap={},t&&t.length&&this.parse(t)}parse(t){for(const e of t){const t=e.identifier;this.fieldsArray.push(t),this.configMap[t]=e,this.fieldMap[t]||(this.fieldMap[t]={});for(const n of e.matches){const[e,r]=n.split(".");this.componentDirectiveMap[e]||(this.componentDirectiveMap[e]={}),this.componentDirectiveMap[e][r]||(this.componentDirectiveMap[e][r]=[]),this.componentDirectiveMap[e][r].push(t),this.componentMap[e]||(this.componentMap[e]=[]),this.componentMap[e].push(t),this.fieldMap[t][e]||(this.fieldMap[t][e]=[]),this.fieldMap[t][e].push(r)}}}getListOfFields(){return this.fieldsArray}getConfigMap(){return this.configMap}getComponentMap(){return this.componentMap}getFieldsBySource(t,e){return this.componentDirectiveMap[t]&&this.componentDirectiveMap[t][e]||[]}getDirectivesByComponentAndField(t,e){return this.fieldMap[e][t]}}},function(t,e,n){const r=n(359),i=n(361),o=n(56);t.exports=class{constructor(t,e,r){this._livingdoc=t,this._config=e,this._events=r||n(363),this.state={undo:[],redo:[],group:!1,undone:!1,redone:!1,enabled:!1}}enable(){this.state.enabled||(Object.keys(this._events).map(t=>{this._livingdoc.componentTree[t].add(r.bind(this,t,this._events[t]))}),this.state.enabled=!0)}undo(){return i.call(this,"undo")}redo(){return i.call(this,"redo")}hasUndo(){return!(!this.state.enabled||!this.state.undo.length)}hasRedo(){return!(!this.state.enabled||!this.state.redo.length)}startEventGroup(t){return this.state.group=t||o.next("event-group"),this.state.group}stopEventGroup(){return!!this.state.group&&(this.state.group=!1,!0)}}},function(t,e,n){const r=n(360),i=n(55),{eventSource:o}=n(165);t.exports=function(t,e,n,...s){const a=e.getContext(n,...s);if(!a)return;const c={context:a,event:t,model:n};c.group=this.state.grouped||this.state.group;const u=this.state.undone?"redo":"undo";return a.eventSource&&a.eventSource===o.remote&&function(t,e,n){return!i(t,t=>t.context.directive&&n.directive&&t.context.directive.component.id===n.directive.component.id&&t.context.directive.index===n.directive.index||!n.directive&&e.id===t.model.id)}(this.state[u],n,a)?void 0:("undo"!==u||this.state.redone||(this.state.redo=[]),this.state.undone=this.state.redone=this.state.grouped=!1,this.state[u].push(c),this.state[u]=r(this.state[u],this._config.limit),e)}},function(t,e,n){var r=n(91),i=n(145);t.exports=function(t,e,n){var o=null==t?0:t.length;return o?(e=n||void 0===e?1:i(e),r(t,(e=o-e)<0?0:e,o)):[]}},function(t,e,n){const{log:r}=n(2),{rollbackText:i}=n(362);t.exports=function t(e,n,o={}){if(!this.state.enabled)return r.warn("History API not enabled"),!1;const s=this.state[e];if(!s||!s.length)return!1;const a=s.pop();return!!Object.keys(this._events).includes(a.event)&&("undo"===e&&(this.state.undone=!0),"redo"===e&&(this.state.redone=!0),this.state.grouped=a.group,this._events[a.event].revert(this._livingdoc,a.model,a.context),function(t,e,n){if(!t)return!1;const r=e&&e===t;if((e||!t)&&!r)return!1;const i=n.length&&n[n.length-1],o=i?i.group:void 0;return!i||o===t}(a.group,n,s)?t.call(this,e,a.group):("undo"===e&&i(this.state,a,o,t.bind(this)),!0))}},function(t,e,n){const{decodeHTML:r}=n(54),i=n(6),o=n(56),s=2,a=6;function c(t,e,n){const r="beforeComponentContentChanged";if(function(t,e){return t.context&&e&&e.context&&t.context.directive!==e.context.directive}(t,e))return!1;if(!e||e.event!==r||t.event!==r)return!1;const o=i.history.groupingInterval;if(n.time-e.context.time>o)return!1;const c=u(n.content),l=u(e.context.content),p=c.replace(l,"");if(p.length===c.length)return!0;const h=p.replace(/(\.|,|\?|!)+\s*$/,"").split(/\.|,|\?|!/).length,d=p.split(/\s/).length;return h<s&&d<a}t.exports={rollbackText:function(t,e,n,r){const i=t.undo,s=i[i.length-1];let a=n.count+1||1;const u=n.context||e.context;if(c(e,s,u))return r("undo",e.group,{count:a,context:u});const l=o.next("event-group"),p=t.redo;for(;a;)a-=1,p[p.length-a-1]&&(p[p.length-a-1].group=l)},shouldMoreTextBeRolledback:c};const u=t=>r(t).replace(/\s/g," ")},function(t,e,n){t.exports={beforeComponentAdded:n(364),beforeComponentRemoved:n(166),beforeComponentMoved:n(166),beforeComponentContentChanged:n(365),beforeComponentHtmlChanged:n(367)}},function(t,e){t.exports.revert=(t,e)=>e.remove(),t.exports.getContext=(t,e)=>({model:t,eventSource:e})},function(t,e,n){const r=n(366);t.exports.revert=(t,e,n)=>{if(!n.directive)return!1;n.directive.setContent(n.content)},t.exports.getContext=(t,e,n)=>{const i=t.directives.all[e];if(!i)return!1;let o=i.getContent();const s=new Date;return o&&o.originalUrl&&((o=r(o)).url=o.originalUrl),{directive:i,content:o,time:s,eventSource:n}}},function(t,e,n){var r=n(69),i=4;t.exports=function(t){return r(t,i)}},function(t,e){t.exports.revert=(t,e,n)=>e.setStyle(n.name,n.value),t.exports.getContext=(t,e,n,r)=>"style"===e&&(n.eventSource=r,n)},function(t,e){const n={format:"text/html",prettyHtml:!1,decodeHtml:!1,renderDirectiveInfo:!1};t.exports=class{constructor({settings:t}){this.settings={...n,...t}}}},function(t,e,n){const r=n(99);t.exports={render({req:t,componentTree:e}){if("text/json"===t.settings.format)return this.renderJson({req:t,componentTree:e});let n="";for(const i of e)n+=r.renderComponent(i,t.settings);return n},renderJson({req:t,componentTree:e}){const n=[];for(const i of e)n.push(r.renderComponent(i,t.settings));return n}}},function(t,e,n){const{assert:r}=n(2),i=n(169),o=n(40),s=n(95),a=n(371),{parseComponent:c}=n(57);t.exports={parse(t,e={}){this.validateSchema(t);const n=this.parseDesignInfo(t),r=new o(n);try{return this.parseDesignConfig(t,r,e)}catch(t){throw t.message=`Parsing design ${r.identifier}: ${t.message}`,t}},parseDesignInfo(t){const{name:e,label:n,version:r,author:i,description:o}=t;return{name:e,label:n,version:r,author:i,description:o}},parseDesignConfig(t,e,n){e.metadata=t.metadata,e.wrapper=t.wrapper,e.groups=t.groups,e.layouts=t.layouts,e.defaultLayout=t.defaultLayout,e.defaultContent=t.defaultContent,e.prefilledComponents=t.prefilledComponents;const{assets:r,imageRatios:i,componentProperties:o}=t;e.dependencies.parseAssetsDeclaration(r),this.addImageRatios(i,e),e.properties=this.parseComponentProperties(o);const{components:s,defaultComponents:a}=t;return this.addComponents(s,e,n),this.parseDefaultComponents(a,e),e},parseComponentProperties:t=>t?Object.keys(t).reduce((e,n)=>{const r=t[n];return r.name=n,e[n]=new i(r),e},{}):{},addImageRatios(t,e){if(t)for(const n of Object.keys(t)){const{ratio:r,label:i}=t[n];e.imageRatios[n]=new s({name:n,label:i,ratio:r})}},addComponents(t,e,{strict:n}={}){t.forEach(t=>{try{const r=c(t,e);e.addComponent(r)}catch(e){if("DuplicateComponentError"===e.name&&!n)return;throw e.message=`component ${t.name}: ${e.message}`,e}})},parseDefaultComponents(t,e){if(!t)return;const{paragraph:n,image:r,html:i}=t,o=e.getMissingComponents(n,r,i);if(o)throw new Error(`Could not find components '${o.join("', '")}'`);e.setDefaultParagraph({name:n}),e.setDefaultImage({name:r}),e.setDefaultHtml({name:i})},assertComponent(t,e){t&&r(e.hasComponent(t),`Could not find component '${t}'`)},validateSchema(t){if(a.validate("design",t))return!0;throw new Error(a.getErrorMessages())}}},function(t,e,n){const r=n(162).new();t.exports=r,r.add("styleType",t=>"option"===t||"select"===t||"style"===t);const i=/(\d+)\.(\d+)\.(\d+)(.+)?/;r.add("semVer",t=>i.test(t)),r.add("wrapper",function(t){return!!new RegExp("<.* (?:[^>]* |)class=(\"|')[^'\"]*doc-section[^'\"]*\\1(?: [^>]*|)>").test(t)||`design.wrapper is missing a 'doc-section' class ('${t}').`}),r.add("one empty option",function(t){let e=0;for(const n in t){t[n].value||(e+=1)}return 1===e}),r.add("design",{name:"string",label:"string, optional",version:"string, semVer",author:"string, optional",description:"string, optional",assets:{__validate:"optional",css:"array of string",js:"array of string, optional",basePath:"string, optional"},components:"array of component",componentProperties:{__validate:"optional",__additionalProperty:(t,e)=>r.validate("componentProperty",e)},defaultComponents:{__validate:"optional",paragraph:"string, optional",image:"string, optional"},imageRatios:{__validate:"optional",__additionalProperty:(t,e)=>r.validate("imageRatio",e)},groups:"array of group, optional",metadata:"array of object, optional",wrapper:"string, wrapper, optional",layouts:"array of layout, optional",defaultLayout:"string, optional",defaultContent:"array of object, optional",prefilledComponents:"object, optional"}),r.add("component",{name:"string",label:"string, optional",description:"string, optional",iconUrl:"string, optional",html:"string",directives:"object, optional",properties:"array of string, optional",allowedParents:"array of string, optional",__additionalProperty:(t,e)=>!1}),r.add("group",{label:"string",components:"array of string"}),r.add("componentProperty",{label:"string, optional",type:"string, styleType",value:"string, optional",options:"array of styleOption, one empty option, optional"}),r.add("imageRatio",{label:"string, optional",ratio:"string"}),r.add("styleOption",{caption:"string",value:"string, optional"}),r.add("layout",{name:"string",caption:"string",wrapper:"wrapper",icon:"string, optional"})},function(t,e,n){const r=n(170),i=n(40),o=n(169),{parseComponent:s}=n(57);t.exports=function({v:t,name:e,version:n,designSettings:a={},components:c}){const{componentGroups:u,defaultComponents:l,componentProperties:p}=a,{fieldExtractor:h,assets:d}=a,f=new i({name:e,version:n});if(f.metadata=h,f.groups=u,p&&(f.properties=r(p,(t,e)=>(t[e.name]=new o(e),t),{})),c.forEach(t=>{try{const e=s(t,f);f.addComponent(e)}catch(e){throw e.message=`component ${t.name}: ${e.message}`,e}}),l){const{paragraph:t,image:e,html:n}=l,r=f.getMissingComponents(t,e,n);if(r)throw new Error(`Could not find components '${r.join("', '")}'`);f.setDefaultParagraph({name:t}),f.setDefaultImage({name:e}),f.setDefaultHtml({name:n})}return f.dependencies.parseAssetsDeclaration(d),f}},function(t,e){t.exports=function(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}},function(t,e){t.exports=function(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}},function(t,e,n){const r=n(3),i=n(40),o=n(168);t.exports=class{constructor(){this.designs={}}load(t,{basePath:e}={}){r(t,"design.load() was called with undefined.");const{name:n,version:s}=t;if(r(n&&s,"design.load(): The design configuration needs a name and version"),this.has(n,s))return this.get(n,s);e&&t.assets&&(t.assets.basePath=e);const a=o.parse(t);if(!a)throw new Error(i.parser.errors);return this.add(a)}add(t){return t.isNewerThan(this.designs[t.name])&&(this.designs[t.name]=t),this.designs[t.identifier]=t,this.designs[t.identifier]}has(t,e){if(!e)return!1;const n=i.getIdentifier(t,e);return!!this.designs[n]}get(t,e){r(this.has(t,e),`Error: design '${t}@${e}' is not loaded.`);const n=i.getIdentifier(t,e);return this.designs[n]}remove(t){delete this.designs[t.identifier]}resetCache(){this.designs={}}}},function(t,e,n){const r=n(377);t.exports={includes:{render(t){r.renderFunction=t}}}},function(t,e,n){const r=n(16);t.exports={renderFunction:null,renderInclude({serviceName:t,params:e},n){return!!this.renderFunction&&this.renderFunction({serviceName:t,params:e},(t,e)=>t?n(t):r(e)?n(null,{html:e}):n(null,e&&!1!==e?e:{doNotRender:!0}))}}},function(t,e,n){const r=n(17),i=n(379),{setPlacingOnRemovedComponentPatches:o}=n(380),s=n(381);function a(t,e,n,r,i){const o=u(e),s=u(t);if(void 0!==o&&s!==o){const e=t.name,a=n.diff_main(o,s);n.diff_cleanupSemantic(a),r.updateEditableDirective(i,e,a,s)}}function c(t,e){return t&&e&&t.id===e.id||(!t||!e)&&t===e}function u(t){return t&&t.content.value||""}function l(t,e,n,r){let i;if(t.previous){i=e.findById(t.previous.id).next}else{let n;if(t.parentContainer.isRoot)n=e.root;else{n=e.findById(t.getParentId()).containers.get(t.parentContainer.name)}i=n.first&&n.first.id!==t.id?n.first:void 0}const o={previous:t.previous,next:i,parentContainer:t.parentContainer},s=r.moveComponent(t,o);n.addCommand(s)}function p(t,e){return!(c(t.next,e.next)&&c(t.previous,e.previous)||t.previous&&t.next||e.parentContainer.parentComponent.id===t.parentContainer.parentComponent.id)}function h(t,e){return!e.parentContainer.isRoot&&e.parentContainer.parentComponent.id!==t.parentContainer.parentComponent.id}t.exports={diff(t,e,n){const u=new i,d=new s;return e.each(function(e){const i=t.findById(e.id);if(i){if(function(t,e,n){if(t.componentName!==e.componentName)return n.transformComponent(e),!0}(i,e,n))return;!function(t,e,n,r){let i=!1;t.directives.eachEditable(function(o){const s=e.directives.get(o.name);s?a(s,o,n,r,t):i=!0}),i&&e.directives.eachEditable(function(e){const i=t.directives.get(e.name);i||a(e,i,n,r,t)})}(i,e,u,n),function(t,e,n){t.directives.each(function(i){if("image"===i.type){const o=e.directives.get(i.name);o&&(r(o.content,i.content)||n.updateImageDirective(t,i,o.content))}else if("toggle"===i.type){const o=e.directives.get(i.name);o&&(r(o.content,i.content)||n.updateToggleDirective(t,i,o.content))}else if("style"===i.type){const o=e.directives.get(i.name);o&&(r(o.content,i.content)||n.updateStyleDirective(t,i,o.content))}else if("include"===i.type){const o=e.directives.get(i.name);if(o){if(o.getService()!==i.getService()||!r(o.getParams(),i.getParams())){const e={service:o.getService(),params:o.getParams()};n.updateIncludeDirective(t,i,e)}}}else if("link"===i.type){const r=e.directives.get(i.name);r&&r.content.value!==i.content.value&&n.updateLinkDirective(t,i,r.content.value)}else if("html"===i.type){const r=e.directives.get(i.name);r&&r.content.value!==i.content.value&&n.updateHtmlDirective(t,i,r.content.value)}})}(i,e,n),function(t,e,n){if(!r(t.styles,e.styles)){Object.keys({...e.styles,...t.styles}).forEach(r=>{n.updateComponentStyle(t,r,e.styles[r])})}}(i,e,n),function(t,e,n){r(t.getData(),e.getData())||Object.keys(e.getData()).forEach(r=>{n.updateComponentData(t,r,e.getData(r))})}(i,e,n)}else{const t=n.insertComponent(e);d.addCommand(t)}}),function(t,e,n,r){const i=[];t.each(function(s){if(!e.findById(s.id)){const a=s.containers.length>0,c=s.parentContainer.parentComponent,u=c&&i.includes(c.id);if(a&&i.push(s.id),!c||!u){const i=n.removeComponent(s);o(e,t,i),r.addCommand(i)}}})}(t,e,n,d),function(t,e,n,r){const i=t.clone(),o=e.getAllComponents();for(;!r.isCommandExecutionCorrect(i,e);){for(let t=0;t<o.length;t++){const e=o[t],s=i.findById(e.id);if(s&&(!c(e.next,s.next)&&!c(e.previous,s.previous)||h(e,s))){l(e,i,r,n);break}}if(0===r.createdCommands.length){for(let t=0;t<o.length;t++){const e=o[t],s=i.findById(e.id);if(p(e,s)||h(e,s)){l(e,i,r,n);break}}if(0===r.createdCommands.length)throw new Error("failed to create commands for componentTree")}}}(t,e,n,d),n.getAll()}}},function(t,e){function n(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}n.Diff,n.prototype.diff_main=function(t,e,n,r){void 0===r&&(r=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var i=r;if(null==t||null==e)throw new Error("Null input. (diff_main)");if(t==e)return t?[[0,t]]:[];void 0===n&&(n=!0);var o=n,s=this.diff_commonPrefix(t,e),a=t.substring(0,s);t=t.substring(s),e=e.substring(s),s=this.diff_commonSuffix(t,e);var c=t.substring(t.length-s);t=t.substring(0,t.length-s),e=e.substring(0,e.length-s);var u=this.diff_compute_(t,e,o,i);return a&&u.unshift([0,a]),c&&u.push([0,c]),this.diff_cleanupMerge(u),u},n.prototype.diff_compute_=function(t,e,n,r){var i;if(!t)return[[1,e]];if(!e)return[[-1,t]];var o=t.length>e.length?t:e,s=t.length>e.length?e:t,a=o.indexOf(s);if(-1!=a)return i=[[1,o.substring(0,a)],[0,s],[1,o.substring(a+s.length)]],t.length>e.length&&(i[0][0]=i[2][0]=-1),i;if(1==s.length)return[[-1,t],[1,e]];var c=this.diff_halfMatch_(t,e);if(c){var u=c[0],l=c[1],p=c[2],h=c[3],d=c[4],f=this.diff_main(u,p,n,r),m=this.diff_main(l,h,n,r);return f.concat([[0,d]],m)}return n&&t.length>100&&e.length>100?this.diff_lineMode_(t,e,r):this.diff_bisect_(t,e,r)},n.prototype.diff_lineMode_=function(t,e,n){t=(l=this.diff_linesToChars_(t,e)).chars1,e=l.chars2;var r=l.lineArray,i=this.diff_main(t,e,!1,n);this.diff_charsToLines_(i,r),this.diff_cleanupSemantic(i),i.push([0,""]);for(var o=0,s=0,a=0,c="",u="";o<i.length;){switch(i[o][0]){case 1:a++,u+=i[o][1];break;case-1:s++,c+=i[o][1];break;case 0:if(s>=1&&a>=1){i.splice(o-s-a,s+a),o=o-s-a;for(var l,p=(l=this.diff_main(c,u,!1,n)).length-1;p>=0;p--)i.splice(o,0,l[p]);o+=l.length}a=0,s=0,c="",u=""}o++}return i.pop(),i},n.prototype.diff_bisect_=function(t,e,n){for(var r=t.length,i=e.length,o=Math.ceil((r+i)/2),s=o,a=2*o,c=new Array(a),u=new Array(a),l=0;l<a;l++)c[l]=-1,u[l]=-1;c[s+1]=0,u[s+1]=0;for(var p=r-i,h=p%2!=0,d=0,f=0,m=0,g=0,v=0;v<o&&!((new Date).getTime()>n);v++){for(var y=-v+d;y<=v-f;y+=2){for(var _=s+y,b=(I=y==-v||y!=v&&c[_-1]<c[_+1]?c[_+1]:c[_-1]+1)-y;I<r&&b<i&&t.charAt(I)==e.charAt(b);)I++,b++;if(c[_]=I,I>r)f+=2;else if(b>i)d+=2;else if(h){if((w=s+p-y)>=0&&w<a&&-1!=u[w])if(I>=(C=r-u[w]))return this.diff_bisectSplit_(t,e,I,b,n)}}for(var x=-v+m;x<=v-g;x+=2){for(var C,w=s+x,E=(C=x==-v||x!=v&&u[w-1]<u[w+1]?u[w+1]:u[w-1]+1)-x;C<r&&E<i&&t.charAt(r-C-1)==e.charAt(i-E-1);)C++,E++;if(u[w]=C,C>r)g+=2;else if(E>i)m+=2;else if(!h){if((_=s+p-x)>=0&&_<a&&-1!=c[_]){var I;b=s+(I=c[_])-_;if(I>=(C=r-C))return this.diff_bisectSplit_(t,e,I,b,n)}}}}return[[-1,t],[1,e]]},n.prototype.diff_bisectSplit_=function(t,e,n,r,i){var o=t.substring(0,n),s=e.substring(0,r),a=t.substring(n),c=e.substring(r),u=this.diff_main(o,s,!1,i),l=this.diff_main(a,c,!1,i);return u.concat(l)},n.prototype.diff_linesToChars_=function(t,e){var n=[],r={};function i(t){for(var e="",i=0,o=-1,s=n.length;o<t.length-1;){-1==(o=t.indexOf("\n",i))&&(o=t.length-1);var a=t.substring(i,o+1);i=o+1,(r.hasOwnProperty?r.hasOwnProperty(a):void 0!==r[a])?e+=String.fromCharCode(r[a]):(e+=String.fromCharCode(s),r[a]=s,n[s++]=a)}return e}return n[0]="",{chars1:i(t),chars2:i(e),lineArray:n}},n.prototype.diff_charsToLines_=function(t,e){for(var n=0;n<t.length;n++){for(var r=t[n][1],i=[],o=0;o<r.length;o++)i[o]=e[r.charCodeAt(o)];t[n][1]=i.join("")}},n.prototype.diff_commonPrefix=function(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(o,i)==e.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},n.prototype.diff_commonSuffix=function(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(t.length-i,t.length-o)==e.substring(e.length-i,e.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},n.prototype.diff_commonOverlap_=function(t,e){var n=t.length,r=e.length;if(0==n||0==r)return 0;n>r?t=t.substring(n-r):n<r&&(e=e.substring(0,n));var i=Math.min(n,r);if(t==e)return i;for(var o=0,s=1;;){var a=t.substring(i-s),c=e.indexOf(a);if(-1==c)return o;s+=c,0!=c&&t.substring(i-s)!=e.substring(0,s)||(o=s,s++)}},n.prototype.diff_halfMatch_=function(t,e){if(this.Diff_Timeout<=0)return null;var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||2*r.length<n.length)return null;var i=this;function o(t,e,n){for(var r,o,s,a,c=t.substring(n,n+Math.floor(t.length/4)),u=-1,l="";-1!=(u=e.indexOf(c,u+1));){var p=i.diff_commonPrefix(t.substring(n),e.substring(u)),h=i.diff_commonSuffix(t.substring(0,n),e.substring(0,u));l.length<h+p&&(l=e.substring(u-h,u)+e.substring(u,u+p),r=t.substring(0,n-h),o=t.substring(n+p),s=e.substring(0,u-h),a=e.substring(u+p))}return 2*l.length>=t.length?[r,o,s,a,l]:null}var s,a,c,u,l,p=o(n,r,Math.ceil(n.length/4)),h=o(n,r,Math.ceil(n.length/2));return p||h?(s=h?p&&p[4].length>h[4].length?p:h:p,t.length>e.length?(a=s[0],c=s[1],u=s[2],l=s[3]):(u=s[0],l=s[1],a=s[2],c=s[3]),[a,c,u,l,s[4]]):null},n.prototype.diff_cleanupSemantic=function(t){for(var e=!1,n=[],r=0,i=null,o=0,s=0,a=0,c=0,u=0;o<t.length;)0==t[o][0]?(n[r++]=o,s=c,a=u,c=0,u=0,i=t[o][1]):(1==t[o][0]?c+=t[o][1].length:u+=t[o][1].length,i&&i.length<=Math.max(s,a)&&i.length<=Math.max(c,u)&&(t.splice(n[r-1],0,[-1,i]),t[n[r-1]+1][0]=1,r--,o=--r>0?n[r-1]:-1,s=0,a=0,c=0,u=0,i=null,e=!0)),o++;for(e&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),o=1;o<t.length;){if(-1==t[o-1][0]&&1==t[o][0]){var l=t[o-1][1],p=t[o][1],h=this.diff_commonOverlap_(l,p),d=this.diff_commonOverlap_(p,l);h>=d?(h>=l.length/2||h>=p.length/2)&&(t.splice(o,0,[0,p.substring(0,h)]),t[o-1][1]=l.substring(0,l.length-h),t[o+1][1]=p.substring(h),o++):(d>=l.length/2||d>=p.length/2)&&(t.splice(o,0,[0,l.substring(0,d)]),t[o-1][0]=1,t[o-1][1]=p.substring(0,p.length-d),t[o+1][0]=-1,t[o+1][1]=l.substring(d),o++),o++}o++}},n.prototype.diff_cleanupSemanticLossless=function(t){function e(t,e){if(!t||!e)return 6;var r=t.charAt(t.length-1),i=e.charAt(0),o=r.match(n.nonAlphaNumericRegex_),s=i.match(n.nonAlphaNumericRegex_),a=o&&r.match(n.whitespaceRegex_),c=s&&i.match(n.whitespaceRegex_),u=a&&r.match(n.linebreakRegex_),l=c&&i.match(n.linebreakRegex_),p=u&&t.match(n.blanklineEndRegex_),h=l&&e.match(n.blanklineStartRegex_);return p||h?5:u||l?4:o&&!a&&c?3:a||c?2:o||s?1:0}for(var r=1;r<t.length-1;){if(0==t[r-1][0]&&0==t[r+1][0]){var i=t[r-1][1],o=t[r][1],s=t[r+1][1],a=this.diff_commonSuffix(i,o);if(a){var c=o.substring(o.length-a);i=i.substring(0,i.length-a),o=c+o.substring(0,o.length-a),s=c+s}for(var u=i,l=o,p=s,h=e(i,o)+e(o,s);o.charAt(0)===s.charAt(0);){i+=o.charAt(0),o=o.substring(1)+s.charAt(0),s=s.substring(1);var d=e(i,o)+e(o,s);d>=h&&(h=d,u=i,l=o,p=s)}t[r-1][1]!=u&&(u?t[r-1][1]=u:(t.splice(r-1,1),r--),t[r][1]=l,p?t[r+1][1]=p:(t.splice(r+1,1),r--))}r++}},n.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,n.whitespaceRegex_=/\s/,n.linebreakRegex_=/[\r\n]/,n.blanklineEndRegex_=/\n\r?\n$/,n.blanklineStartRegex_=/^\r?\n\r?\n/,n.prototype.diff_cleanupEfficiency=function(t){for(var e=!1,n=[],r=0,i=null,o=0,s=!1,a=!1,c=!1,u=!1;o<t.length;)0==t[o][0]?(t[o][1].length<this.Diff_EditCost&&(c||u)?(n[r++]=o,s=c,a=u,i=t[o][1]):(r=0,i=null),c=u=!1):(-1==t[o][0]?u=!0:c=!0,i&&(s&&a&&c&&u||i.length<this.Diff_EditCost/2&&s+a+c+u==3)&&(t.splice(n[r-1],0,[-1,i]),t[n[r-1]+1][0]=1,r--,i=null,s&&a?(c=u=!0,r=0):(o=--r>0?n[r-1]:-1,c=u=!1),e=!0)),o++;e&&this.diff_cleanupMerge(t)},n.prototype.diff_cleanupMerge=function(t){t.push([0,""]);for(var e,n=0,r=0,i=0,o="",s="";n<t.length;)switch(t[n][0]){case 1:i++,s+=t[n][1],n++;break;case-1:r++,o+=t[n][1],n++;break;case 0:r+i>1?(0!==r&&0!==i&&(0!==(e=this.diff_commonPrefix(s,o))&&(n-r-i>0&&0==t[n-r-i-1][0]?t[n-r-i-1][1]+=s.substring(0,e):(t.splice(0,0,[0,s.substring(0,e)]),n++),s=s.substring(e),o=o.substring(e)),0!==(e=this.diff_commonSuffix(s,o))&&(t[n][1]=s.substring(s.length-e)+t[n][1],s=s.substring(0,s.length-e),o=o.substring(0,o.length-e))),0===r?t.splice(n-i,r+i,[1,s]):0===i?t.splice(n-r,r+i,[-1,o]):t.splice(n-r-i,r+i,[-1,o],[1,s]),n=n-r-i+(r?1:0)+(i?1:0)+1):0!==n&&0==t[n-1][0]?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,r=0,o="",s=""}""===t[t.length-1][1]&&t.pop();var a=!1;for(n=1;n<t.length-1;)0==t[n-1][0]&&0==t[n+1][0]&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)==t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),a=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),a=!0)),n++;a&&this.diff_cleanupMerge(t)},n.prototype.diff_xIndex=function(t,e){var n,r=0,i=0,o=0,s=0;for(n=0;n<t.length&&(1!==t[n][0]&&(r+=t[n][1].length),-1!==t[n][0]&&(i+=t[n][1].length),!(r>e));n++)o=r,s=i;return t.length!=n&&-1===t[n][0]?s:s+(e-o)},n.prototype.diff_prettyHtml=function(t){for(var e=[],n=/&/g,r=/</g,i=/>/g,o=/\n/g,s=0;s<t.length;s++){var a=t[s][0],c=t[s][1].replace(n,"&amp;").replace(r,"&lt;").replace(i,"&gt;").replace(o,"&para;<br>");switch(a){case 1:e[s]='<ins style="background:#e6ffe6;">'+c+"</ins>";break;case-1:e[s]='<del style="background:#ffe6e6;">'+c+"</del>";break;case 0:e[s]="<span>"+c+"</span>"}}return e.join("")},n.prototype.diff_text1=function(t){for(var e=[],n=0;n<t.length;n++)1!==t[n][0]&&(e[n]=t[n][1]);return e.join("")},n.prototype.diff_text2=function(t){for(var e=[],n=0;n<t.length;n++)-1!==t[n][0]&&(e[n]=t[n][1]);return e.join("")},n.prototype.diff_levenshtein=function(t){for(var e=0,n=0,r=0,i=0;i<t.length;i++){var o=t[i][0],s=t[i][1];switch(o){case 1:n+=s.length;break;case-1:r+=s.length;break;case 0:e+=Math.max(n,r),n=0,r=0}}return e+=Math.max(n,r)},n.prototype.diff_toDelta=function(t){for(var e=[],n=0;n<t.length;n++)switch(t[n][0]){case 1:e[n]="+"+encodeURI(t[n][1]);break;case-1:e[n]="-"+t[n][1].length;break;case 0:e[n]="="+t[n][1].length}return e.join("\t").replace(/%20/g," ")},n.prototype.diff_fromDelta=function(t,e){for(var n=[],r=0,i=0,o=e.split(/\t/g),s=0;s<o.length;s++){var a=o[s].substring(1);switch(o[s].charAt(0)){case"+":try{n[r++]=[1,decodeURI(a)]}catch(t){throw new Error("Illegal escape in diff_fromDelta: "+a)}break;case"-":case"=":var c=parseInt(a,10);if(isNaN(c)||c<0)throw new Error("Invalid number in diff_fromDelta: "+a);var u=t.substring(i,i+=c);"="==o[s].charAt(0)?n[r++]=[0,u]:n[r++]=[-1,u];break;default:if(o[s])throw new Error("Invalid diff operation in diff_fromDelta: "+o[s])}}if(i!=t.length)throw new Error("Delta length ("+i+") does not equal source text length ("+t.length+").");return n},n.prototype.match_main=function(t,e,n){if(null==t||null==e||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,t.length)),t==e?0:t.length?t.substring(n,n+e.length)==e?n:this.match_bitap_(t,e,n):-1},n.prototype.match_bitap_=function(t,e,n){if(e.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var r=this.match_alphabet_(e),i=this;function o(t,r){var o=t/e.length,s=Math.abs(n-r);return i.Match_Distance?o+s/i.Match_Distance:s?1:o}var s=this.Match_Threshold,a=t.indexOf(e,n);-1!=a&&(s=Math.min(o(0,a),s),-1!=(a=t.lastIndexOf(e,n+e.length))&&(s=Math.min(o(0,a),s)));var c,u,l=1<<e.length-1;a=-1;for(var p,h=e.length+t.length,d=0;d<e.length;d++){for(c=0,u=h;c<u;)o(d,n+u)<=s?c=u:h=u,u=Math.floor((h-c)/2+c);h=u;var f=Math.max(1,n-u+1),m=Math.min(n+u,t.length)+e.length,g=Array(m+2);g[m+1]=(1<<d)-1;for(var v=m;v>=f;v--){var y=r[t.charAt(v-1)];if(g[v]=0===d?(g[v+1]<<1|1)&y:(g[v+1]<<1|1)&y|(p[v+1]|p[v])<<1|1|p[v+1],g[v]&l){var _=o(d,v-1);if(_<=s){if(s=_,!((a=v-1)>n))break;f=Math.max(1,2*n-a)}}}if(o(d+1,n)>s)break;p=g}return a},n.prototype.match_alphabet_=function(t){for(var e={},n=0;n<t.length;n++)e[t.charAt(n)]=0;for(n=0;n<t.length;n++)e[t.charAt(n)]|=1<<t.length-n-1;return e},n.prototype.patch_addContext_=function(t,e){if(0!=e.length){for(var n=e.substring(t.start2,t.start2+t.length1),r=0;e.indexOf(n)!=e.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)r+=this.Patch_Margin,n=e.substring(t.start2-r,t.start2+t.length1+r);r+=this.Patch_Margin;var i=e.substring(t.start2-r,t.start2);i&&t.diffs.unshift([0,i]);var o=e.substring(t.start2+t.length1,t.start2+t.length1+r);o&&t.diffs.push([0,o]),t.start1-=i.length,t.start2-=i.length,t.length1+=i.length+o.length,t.length2+=i.length+o.length}},n.prototype.patch_make=function(t,e,r){var i,o;if("string"==typeof t&&"string"==typeof e&&void 0===r)i=t,(o=this.diff_main(i,e,!0)).length>2&&(this.diff_cleanupSemantic(o),this.diff_cleanupEfficiency(o));else if(t&&"object"==typeof t&&void 0===e&&void 0===r)o=t,i=this.diff_text1(o);else if("string"==typeof t&&e&&"object"==typeof e&&void 0===r)i=t,o=e;else{if("string"!=typeof t||"string"!=typeof e||!r||"object"!=typeof r)throw new Error("Unknown call format to patch_make.");i=t,o=r}if(0===o.length)return[];for(var s=[],a=new n.patch_obj,c=0,u=0,l=0,p=i,h=i,d=0;d<o.length;d++){var f=o[d][0],m=o[d][1];switch(c||0===f||(a.start1=u,a.start2=l),f){case 1:a.diffs[c++]=o[d],a.length2+=m.length,h=h.substring(0,l)+m+h.substring(l);break;case-1:a.length1+=m.length,a.diffs[c++]=o[d],h=h.substring(0,l)+h.substring(l+m.length);break;case 0:m.length<=2*this.Patch_Margin&&c&&o.length!=d+1?(a.diffs[c++]=o[d],a.length1+=m.length,a.length2+=m.length):m.length>=2*this.Patch_Margin&&c&&(this.patch_addContext_(a,p),s.push(a),a=new n.patch_obj,c=0,p=h,u=l)}1!==f&&(u+=m.length),-1!==f&&(l+=m.length)}return c&&(this.patch_addContext_(a,p),s.push(a)),s},n.prototype.patch_deepCopy=function(t){for(var e=[],r=0;r<t.length;r++){var i=t[r],o=new n.patch_obj;o.diffs=[];for(var s=0;s<i.diffs.length;s++)o.diffs[s]=i.diffs[s].slice();o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,e[r]=o}return e},n.prototype.patch_apply=function(t,e){if(0==t.length)return[e,[]];t=this.patch_deepCopy(t);var n=this.patch_addPadding(t);e=n+e+n,this.patch_splitMax(t);for(var r=0,i=[],o=0;o<t.length;o++){var s,a,c=t[o].start2+r,u=this.diff_text1(t[o].diffs),l=-1;if(u.length>this.Match_MaxBits?-1!=(s=this.match_main(e,u.substring(0,this.Match_MaxBits),c))&&(-1==(l=this.match_main(e,u.substring(u.length-this.Match_MaxBits),c+u.length-this.Match_MaxBits))||s>=l)&&(s=-1):s=this.match_main(e,u,c),-1==s)i[o]=!1,r-=t[o].length2-t[o].length1;else if(i[o]=!0,r=s-c,u==(a=-1==l?e.substring(s,s+u.length):e.substring(s,l+this.Match_MaxBits)))e=e.substring(0,s)+this.diff_text2(t[o].diffs)+e.substring(s+u.length);else{var p=this.diff_main(u,a,!1);if(u.length>this.Match_MaxBits&&this.diff_levenshtein(p)/u.length>this.Patch_DeleteThreshold)i[o]=!1;else{this.diff_cleanupSemanticLossless(p);for(var h,d=0,f=0;f<t[o].diffs.length;f++){var m=t[o].diffs[f];0!==m[0]&&(h=this.diff_xIndex(p,d)),1===m[0]?e=e.substring(0,s+h)+m[1]+e.substring(s+h):-1===m[0]&&(e=e.substring(0,s+h)+e.substring(s+this.diff_xIndex(p,d+m[1].length))),-1!==m[0]&&(d+=m[1].length)}}}}return[e=e.substring(n.length,e.length-n.length),i]},n.prototype.patch_addPadding=function(t){for(var e=this.Patch_Margin,n="",r=1;r<=e;r++)n+=String.fromCharCode(r);for(r=0;r<t.length;r++)t[r].start1+=e,t[r].start2+=e;var i=t[0],o=i.diffs;if(0==o.length||0!=o[0][0])o.unshift([0,n]),i.start1-=e,i.start2-=e,i.length1+=e,i.length2+=e;else if(e>o[0][1].length){var s=e-o[0][1].length;o[0][1]=n.substring(o[0][1].length)+o[0][1],i.start1-=s,i.start2-=s,i.length1+=s,i.length2+=s}if(0==(o=(i=t[t.length-1]).diffs).length||0!=o[o.length-1][0])o.push([0,n]),i.length1+=e,i.length2+=e;else if(e>o[o.length-1][1].length){s=e-o[o.length-1][1].length;o[o.length-1][1]+=n.substring(0,s),i.length1+=s,i.length2+=s}return n},n.prototype.patch_splitMax=function(t){for(var e=this.Match_MaxBits,r=0;r<t.length;r++)if(!(t[r].length1<=e)){var i=t[r];t.splice(r--,1);for(var o=i.start1,s=i.start2,a="";0!==i.diffs.length;){var c=new n.patch_obj,u=!0;for(c.start1=o-a.length,c.start2=s-a.length,""!==a&&(c.length1=c.length2=a.length,c.diffs.push([0,a]));0!==i.diffs.length&&c.length1<e-this.Patch_Margin;){var l=i.diffs[0][0],p=i.diffs[0][1];1===l?(c.length2+=p.length,s+=p.length,c.diffs.push(i.diffs.shift()),u=!1):-1===l&&1==c.diffs.length&&0==c.diffs[0][0]&&p.length>2*e?(c.length1+=p.length,o+=p.length,u=!1,c.diffs.push([l,p]),i.diffs.shift()):(p=p.substring(0,e-c.length1-this.Patch_Margin),c.length1+=p.length,o+=p.length,0===l?(c.length2+=p.length,s+=p.length):u=!1,c.diffs.push([l,p]),p==i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(p.length))}a=(a=this.diff_text2(c.diffs)).substring(a.length-this.Patch_Margin);var h=this.diff_text1(i.diffs).substring(0,this.Patch_Margin);""!==h&&(c.length1+=h.length,c.length2+=h.length,0!==c.diffs.length&&0===c.diffs[c.diffs.length-1][0]?c.diffs[c.diffs.length-1][1]+=h:c.diffs.push([0,h])),u||t.splice(++r,0,c)}}},n.prototype.patch_toText=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=t[n];return e.join("")},n.prototype.patch_fromText=function(t){var e=[];if(!t)return e;for(var r=t.split("\n"),i=0,o=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<r.length;){var s=r[i].match(o);if(!s)throw new Error("Invalid patch string: "+r[i]);var a=new n.patch_obj;for(e.push(a),a.start1=parseInt(s[1],10),""===s[2]?(a.start1--,a.length1=1):"0"==s[2]?a.length1=0:(a.start1--,a.length1=parseInt(s[2],10)),a.start2=parseInt(s[3],10),""===s[4]?(a.start2--,a.length2=1):"0"==s[4]?a.length2=0:(a.start2--,a.length2=parseInt(s[4],10)),i++;i<r.length;){var c=r[i].charAt(0);try{var u=decodeURI(r[i].substring(1))}catch(t){throw new Error("Illegal escape in patch_fromText: "+u)}if("-"==c)a.diffs.push([-1,u]);else if("+"==c)a.diffs.push([1,u]);else if(" "==c)a.diffs.push([0,u]);else{if("@"==c)break;if(""!==c)throw new Error('Invalid patch mode "'+c+'" in: '+u)}i++}}return e},n.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},n.patch_obj.prototype.toString=function(){for(var t,e=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],n=0;n<this.diffs.length;n++){switch(this.diffs[n][0]){case 1:t="+";break;case-1:t="-";break;case 0:t=" "}e[n+1]=t+encodeURI(this.diffs[n][1])+"\n"}return e.join("").replace(/%20/g," ")},t.exports=n,t.exports.diff_match_patch=n,t.exports.DIFF_DELETE=-1,t.exports.DIFF_INSERT=1,t.exports.DIFF_EQUAL=0},function(t,e){t.exports={setPlacingOnRemovedComponentPatches(t,e,n){const r=e.findById(n.component.id);n.position={},r&&(function(t,e,n){if(t.previous){const r=e.findById(t.previous.id);if(r)return n.position.previousId=r.id,!0}return!1}(r,t,n)||function(t,e,n){if(t.next){const r=e.findById(t.next.id);if(r)return n.position.nextId=r.id,!0}return!1}(r,t,n)||function(t,e){if(t.next)return e.position.nextId=t.next.id,!0;return!1}(r,n)||function(t,e){if(t.previous)return e.position.previousId=t.previous.id,!0}(r,n))}}},function(t,e,n){const r=n(4),{serializeCommand:i,deserializeCommand:o}=n(96);t.exports=class{constructor(){this.createdCommands=[]}addCommand(t){this.createdCommands.push(i(t))}isCommandExecutionCorrect(t,e,n){for(let e=0;e<this.createdCommands.length;e++){const n=this.createdCommands[e],{conflicts:i,deserializedCommand:s}=o(n,t);if(0!==i.length)throw new Error("conflicts");r.handle(s)}const i=function(t,e){const n=t.getAllComponents(),r=e.getAllComponents();if(r.length!==n.length)return!1;for(let t=0;t<r.length;t++)if(n[t].id!==r[t].id)return!1;return!0}(t,e);return this.createdCommands=[],i}}},function(t,e,n){const{fromJson:r}=n(153),i={adaptDirective(t,e){let n;if(t.directiveName&&e){const r=e.directives.get(t.directiveName);return r||(n={type:"NotExistingComponentForDirective"}),{directiveConflict:n,directive:r}}return{}},adaptComponentToInsert(t,e){if(t.component)return r(t.component,e.design)},adaptPositionComponent(t,e){let n,r,o;const s={},a=i.getParentContainer(t,e);return a&&a.hasChildren()&&(t.nextId&&((r=e.findById(t.nextId))?s.next=r:0===t.containerInsertIndex?s.next=a.first:n={type:"NotExistingComponent",componentId:t.nextId}),t.previousId&&((o=e.findById(t.previousId))?s.previous=o:n={type:"NotExistingComponent",componentId:t.previousId})),s.parentContainer=a,s.containerInsertIndex=t.containerInsertIndex,{conflict:n,deserializedPosition:s}},getParentContainer(t,e){if("root"===t.parentId)return e.root;if(t.parentId){return e.findById(t.parentId).containers.get(t.parentContainerName)}}};t.exports=i},function(t,e,n){const r=n(172),i=n(173),o=n(21),s=n(17),a=n(143),c=n(170),u=n(62);function l(t,e){for(let i=0;i<e.length-1;i++){const s=t[e[i]],a=t[e[i+1]],c=o(a.diffPatches);p(c,(n=s.diffPatches,r(n,t=>-1===t[0])),s.diffPatches),h(c,C(s.diffPatches),s.diffPatches),t[e[i]]=void 0,c.forEach(t=>{t.length>3&&t.pop()}),a.diffPatches=c}var n;return t}function p(t,e,n){e.forEach(e=>{const r=w(t),i=_(g(n,e,x(r),"",v),r);i.insertPosition=E(i,r,t),0!==i.matchIndex?b(t,t[i.insertPosition],i.matchIndex,e,0):t.splice(i.insertPosition,0,e)})}function h(t,e,n){e.forEach(e=>{e.push("isPreviousAddedPatch");const r=w(t),i=_(g(n,e,x(r),e[1],y),r);i.insertPosition=E(i,r,t),function(t,e,n){let r=t.insertPosition,i=m(e,n,n[r],0,t.matchIndex);for(;e[1].length-i>0;){const t=r;if(-1===(r=f(n,r)))return;const o=d(t,r,n);i=m(e,n,n[r],i+o,0)}}(i,e,t)})}function d(t,e,n){let r=0;for(let i=t+1;i<e;i++)-1===n[i][0]&&(r+=n[i][1].length);return r}function f(t,e){let n=e;for(n++;n<t.length&&0!==t[n][0];)n++;return t.length===n?-1:n}function m(t,e,n,r,i){const c=o(t);if(n&&-1!==n[0]){let t=c[1].length;return n[1].length<c[1].length-r?(c[1]=c[1].substring(r,r+n[1].length),t=r+n[1].length):c[1]=c[1].substring(r,c[1].length),0!==i&&0===r?(t=n[1].length-i,c[1]=c[1].substring(0,t),b(e,n,i,c,c[1].length)):function(t,e,n){const r=a(n,e=>s(e,t));t[1]=t[1].replace(e[1],""),""===t[1]?n.splice(r,1,e):n.splice(r,0,e)}(n,c,e),t}return n[1].length-i}function g(t,e,n,r,i){const o=a(t,t=>s(t,e));let c=0;if(t.length>o+1){const e=i(t,o+1);-1!==e&&(r+=t[e][1])}o-1>=0&&(c=r.length,c=(r=t[o-1][1]+r).length-c);let u=n.indexOf(r);return o-1>=0&&c>0&&(u+=c),u}function v(t,e){let n=e;for(;-1===t[n][0];)if(n++,t.length-1<=n)return-1;return n}function y(t,e){return t.length>e?e:-1}function _(t,e){let n="";for(let r=0;r<e.length;r++){const i=n;if((n+=e[r][1]).length>t)return{insertPosition:r,matchIndex:t-i.length}}return{insertPosition:e.length-1,matchIndex:0}}function b(t,e,n,r,i){const c=a(t,t=>s(t,e)),u=o(e);e[1]=e[1].substring(0,n),u[1]=u[1].substring(n+i),""!==u[1]&&t.splice(c+1,0,u),t.splice(c+1,0,r)}function x(t){let e="";return t.forEach(t=>{e+=t[1]}),e}function C(t){return r(t,t=>1===t[0])}function w(t){return r(t,t=>1!==t[0]||function(t){return 4===t.length}(t))}function E(t,e,n){return a(n,n=>s(n,e[t.insertPosition]))}t.exports={simplifyTextChanges(t){const e=function(t){return c(t,function(t,e,n){if("textChange"===e.type){const r=e.componentId+e.directiveName;(t[r]||(t[r]=[])).push(n)}return t},{})}(t);return u(e,function(e,n){t=l(t,e)}),function(t){i(t,t=>void 0===t)}(t),t},mergeTextChanges:l}},function(t,e,n){var r=n(30);t.exports=function(t,e){var n=[];return r(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}},function(t,e,n){var r=n(161),i=n(33),o=Array.prototype.splice;t.exports=function(t,e){for(var n=t?e.length:0,s=n-1;n--;){var a=e[n];if(n==s||a!==c){var c=a;i(a)?o.call(t,a,1):r(t,a)}}return t}},function(t,e,n){const r=n(7),{eventSource:i}=n(165),o=i.remote;function s(t){let e=0,n=t.parentContainer.first;for(;n!==t;)if(e+=1,n=n.next,e>1e3)return 0;return e}t.exports=class{constructor(){this.changes=[]}insertComponent(t){return t.previous?this.add({type:"insertComponent",component:t,position:{parentContainer:t.parentContainer,previous:t.previous,containerInsertIndex:s(t)},eventSource:o}):this.add({type:"insertComponent",component:t,position:{parentContainer:t.parentContainer,next:t.next,containerInsertIndex:s(t)},eventSource:o})}moveComponent(t,e){return this.add(r.moveComponent(t,e,o))}removeComponent(t){return this.add(r.removeComponent(t,o))}updateComponentStyle(t,e,n){this.add(r.updateComponentStyle(t,e,n,o))}updateComponentData(t,e,n){this.add(r.updateComponentData(t,e,n,o))}transformComponent(t){this.add(r.transformComponent(t,o))}updateEditableDirective(t,e,n,r){(function(t){return 1!==t.length||0!==t[0][0]})(n)&&this.add({type:"updateEditableDirective",component:t,directive:t.directives.get(e),value:r,diffPatches:n,eventSource:o})}updateImageDirective(t,e,n){this.add(r.updateImageDirective(t,e,n,o))}updateToggleDirective(t,e,n){this.add(r.updateToggleDirective(t,e,n,o))}updateIncludeDirective(t,e,n){this.add(r.updateIncludeDirective(t,e,n,o))}updateStyleDirective(t,e,n){this.add(r.updateStyleDirective(t,e,n,o))}updateLinkDirective(t,e,n){this.add(r.updateLinkDirective(t,e,n,o))}updateHtmlDirective(t,e,n){this.add(r.updateHtmlDirective(t,e,n,o))}getAll(){return this.changes}add(t){return this.changes.push(t),t}}},function(t,e){t.exports=function(t,e){if(!t)return[];const r=[];return t.forEach(t=>{const i=n[t.type](t);i&&(e&&function(t,e){t.user=e,"textChange"===t.type&&t.diffPatches.forEach(t=>{t[2]||t.push(e)})}(i,e),r.unshift(i))}),r};const n={insertComponent:({component:t})=>({type:"componentAdded",componentId:t.id}),transformComponent:({component:t})=>({type:"componentTransformed",componentId:t.id}),moveComponent:({component:t,position:e})=>({type:"componentMoved",componentId:t.id,nextId:e.next?e.next.id:void 0,previousId:e.previous?e.previous.id:void 0}),removeComponent:({component:t,position:e})=>({type:"componentRemoved",componentId:t.id,removedComponent:t.toJson({deep:!0}),nextComponentId:e.nextId,previousComponentId:e.previousId}),updateComponentStyle:({component:t})=>r(t),updateComponentData:({component:t})=>r(t),updateEditableDirective:({component:t,directive:e,diffPatches:n,value:r})=>({type:"textChange",componentId:t.id,directiveName:e.name,diffPatches:n}),updateImageDirective:({component:t,directive:e,value:n})=>r(t),updateTmpImageDirective(){},updateLinkDirective:({component:t})=>r(t),updateHtmlDirective:({component:t})=>r(t),updateToggleDirective:({component:t})=>r(t),updateIncludeDirective:({component:t})=>r(t),updateStyleDirective:({component:t})=>r(t),updateDirectiveTmpData(){}};function r(t){return{type:"componentModified",componentId:t.id}}},function(t,e,n){const{createDiffCommands:r}=n(171),i=n(389),o=n(17),s=n(391),a=n(173);t.exports={getMergeCommands({baseComponentTree:t,remoteComponentTree:e,localComponentTree:n}){const c=r({versions:[{componentTree:e,user:""},{componentTree:t,user:""}]}),u=r({versions:[{componentTree:n,user:""},{componentTree:t,user:""}]}),l=i(u,c),p=s(l,t=>t.commands);return a(c,t=>p.some(e=>o(e,t))),{localCommands:u,remoteCommands:c,conflicts:l}}}},function(t,e,n){const r=n(390),i=n(172),o=n(55),s=n(17);t.exports=function(t,e){const n=[],a=function(t,e){const n=r(e,t=>t.type),i=r(t,t=>t.type),s=[];n.moveComponent&&n.moveComponent.forEach(t=>{const e=o(i.moveComponent,e=>e.component.id===t.component.id&&e.position.previousId===t.position.previousId&&e.position.nextId===t.position.nextId);if(e)s.push({type:"DuplicatedCommand",componentId:t.component.id,commands:[t],localCommand:e});else{const e=o(i.moveComponent,e=>e.component.id===t.component.id||e.component.id===t.position.nextId||e.component.id===t.position.previousId||e.position.previousId===t.component.id||e.position.nextId===t.component.id);e&&s.push({type:"ComponentAlreadyMoved",componentId:t.component.id,commands:[t],localCommand:e})}});return s}(t,e),c=function(t,e){const n=[];return t.forEach(t=>{const r=i(e,e=>e.component.id===t.component.id);if(r.length>0){let e=!1;r.forEach(r=>{s(r,t)&&(n.push({type:"DuplicatedCommand",componentId:t.component.id,commands:[r],localCommand:t}),e=!0),t.type.includes("Directive")&&!e&&t.component.id===r.component.id&&t.directiveName===r.directiveName&&n.push({type:"DirectiveAlreadyModified",componentId:t.component.id,directiveName:t.directiveName,commands:[r],localCommand:t})}),"removeComponent"!==t.type||e||n.push({type:"ComponentLocallyRemoved",componentId:t.component.id,commands:r,localCommand:t})}}),n}(t,e);return n.push(...a),n.push(...c),n}},function(t,e,n){var r=n(36),i=n(159),o=Object.prototype.hasOwnProperty,s=i(function(t,e,n){o.call(t,n)?t[n].push(e):r(t,n,[e])});t.exports=s},function(t,e,n){var r=n(123),i=n(392);t.exports=function(t,e){return r(i(t,e),1)}},function(t,e,n){var r=n(13),i=n(12),o=n(393),s=n(0);t.exports=function(t,e){return(s(t)?r:o)(t,i(e,3))}},function(t,e,n){var r=n(30),i=n(11);t.exports=function(t,e){var n=-1,o=i(t)?Array(t.length):[];return r(t,function(t,r,i){o[++n]=e(t,r,i)}),o}},function(t,e,n){const{handle:r}=n(4),{deserializeCommand:i}=n(96);t.exports={runCommandsOnComponentTree({componentTree:t,commands:e}){const n=[];return e.forEach(e=>{const{conflicts:o,deserializedCommand:s}=i(e,t);o.length>0?n.push(...o):r(s)}),n}}},function(t,e,n){const r=n(396),i=n(397),o=n(27),s=n(399),a=n(41);t.exports={name:"resrc.it",hasBrowserPlugin:!0,supportsCrop:!0,supportsBackgroundImages:!0,allowedMimeTypes:["image/gif","image/jpeg","image/png","image/webp"],disabledMimeTypes:[],createBrowserPlugin:function(t){return s({window:t})},canProcessAsset:function(t,e){return!(e&&!this.supportsBackgroundImages)&&a(t,this.allowedMimeTypes,this.disabledMimeTypes)},getUrl:function(t,e){return r.getUrl(t,e)},getUncroppedUrl:function(t){return this.getUrl(t)},set:function(t,e){const n=e.getProcessedUrl();return!n||e.isTemporaryImage()?(i.resetMarkup(t,"resrc"),o.set(t,e)):e.isInlineImage()?i.setInlineImage(t,n,"resrc"):e.isBackgroundImage()&&i.setBackgroundImage(t,n,"resrc"),!1},reset:function(t,e){i.resetMarkup(t,"resrc")}}},function(t,e,n){const r=n(1),i=n(26),o=n(3),s=n(6);t.exports={getUrl:function(t,{host:e,crop:n,ratio:i,size:o,quality:p}={}){const h=n?a(n):"",d=i?c(i):"",f=o?u(o):"",m=l(p||r(s,["imageServices","resrc.it","quality"]));return`${e||r(s,["imageServices","resrc.it","host"])}${h}${d}${f}${m}/${t}`}};const a=function({x:t,y:e,width:n,height:r}={}){return o(i(t),"x should be a number"),o(i(e),"y should be a number"),o(i(n),"width should be a number"),o(i(r),"height should be a number"),`/C=W${n},H${r},X${t},Y${e}`},c=function({x:t,y:e}={}){return o(i(t),"x should be a number"),o(i(e),"y should be a number"),`/C=AR${t}x${e}`},u=function({w:t,h:e}={}){t&&o(i(t),"w should be a number"),e&&o(i(e),"h should be a number");let n="";return t&&e?n=`W${t}M,H${e}M`:t?n=`W${t}`:e&&(n=`H${e}`),`/S=${n}`},l=function(t){return`/O=${t}`}},function(t,e,n){const r=n(58),i=n(398);t.exports={setInlineImage:function(t,e,n){i(t.attr("src"))&&t.attr("src",""),n&&t.addClass(n),t.attr("data-src",e)},setBackgroundImage:function(t,e,n){t.addClass(n),r(t,e)},resetMarkup:function(t,e){t.removeClass(e),t.removeAttr("data-src"),t.css("background-image","")}}},function(t,e){t.exports=function(t){return/^(data:|blob:)/.test(t)}},function(t,e,n){const r=n(1),{log:i}=n(2),o=n(6);t.exports=function({window:t}={}){return{name:"browserPlugins.resrcit",initialized:!1,dependencies:{js:[{src:r(o,["imageServices","resrc.it","scriptUrl"])}]},init:function(){const e=r(o,["imageServices","resrc.it","quality"]),n=r(o,["imageServices","resrc.it","host"]).replace(/https?:\/\//,""),i=r(o,["imageServices","resrc.it","host"]);t.resrc&&(t.resrc.configure({imageQuality:e,server:n,ssl:/^https/.test(i)}),this.initialized=!0)},updateDirective:function(e,n){this.initialized||this.init();try{if(n.isInlineImage())t.resrc.run(e[0]);else{const r=n.getProcessedUrl();t.resrc.setImageUrl(e[0],r)}}catch(t){i(t,n)}}}}},function(t,e,n){const r=n(1),i=n(401),o=n(60),s=n(6),a=n(27),c=n(41);t.exports={name:"sz",supportsBackgroundImages:!1,allowedMimeTypes:["image/gif","image/jpeg","image/png","image/webp"],disabledMimeTypes:[],canProcessAsset:function(t,e){return!(e&&!this.supportsBackgroundImages)&&c(t,this.allowedMimeTypes,this.disabledMimeTypes)},getUrl:function(t,e){return i.getUrl(t,e)},getUncroppedUrl:function(t){return t},set:function(t,e){if(e.isTemporaryImage())o.reset(t),a.set(t,e);else{const n=[];for(const t in r(s,"imageServices.sz.srcSet.widths")){const i=r(s,"imageServices.sz.srcSet.widths")[t],o=this.getUrl(e.getOriginalUrl(),{width:i,crop:e.getCrop()});n.push({width:i,url:o})}const i=this.getUrl(e.getOriginalUrl(),{width:r(s,"imageServices.sz.srcSet.defaultWidth"),crop:e.getCrop()}),a=r(s,"imageServices.sz.srcSet.sizes");o.set(t,i,n,a)}}}},function(t,e,n){const r=n(1),i=n(59),{log:o,assert:s}=n(2),a=n(26),c=n(6),u=n(402);t.exports={getUrl:function(t,{crop:e,width:n}={}){const{pathname:r}=h(t),i=r.split("/");if(i.length<3)return o.error(`SZ Image service: can not parse path ${r}`),"";const s=i[i.length-1],a=i[i.length-2],u=`image/${i[i.length-3]}/${a}${e?l(e):""}/${n||d(c)}/${s}`,g=p(`/${u}`);return`${f(c)}/${u}?h=${g}&hv=${m(c)}`}};const l=function({x:t,y:e,width:n,height:r}){return s(a(t),"x should be a number"),s(a(e),"y should be a number"),s(a(n),"width should be a number"),s(a(r),"height should be a number"),`/t${e}l${t}w${n}h${r}`},p=function(t){return u({secret:r(c,"imageServices.sz.shaSecret"),valueToHash:t})},h=function(t){const e=i.parse(t);return{hostname:e.hostname,pathname:e.pathname,query:e.query}},d=function(t){return r(t,"imageServices.sz.srcSet.defaultWidth")},f=function(t){return r(t,"imageServices.sz.host")},m=function(t){return r(t,"imageServices.sz.hashVersion")}},function(t,e,n){"use strict";const r=n(403),{notStrictEqual:i,strictEqual:o}=n(78);t.exports=function({secret:t,valueToHash:e,hashLength:n=32}={}){i(t,void 0,"please provide »secret«!"),i(e,void 0,"please provide »valueToHash«!"),o(typeof e,"string","»valueToHash« must be a string!");const s=`${t}/${e}`;return r("sha256").update(s,"utf-8").digest("hex").substr(0,n)}},function(t,e,n){(e=t.exports=function(t){t=t.toLowerCase();var n=e[t];if(!n)throw new Error(t+" is not supported (we accept pull requests)");return new n}).sha=n(404),e.sha1=n(408),e.sha224=n(409),e.sha256=n(175),e.sha384=n(410),e.sha512=n(176)},function(t,e,n){var r=n(28),i=n(29),o=n(18).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,i.call(this,64,56)}function u(t){return t<<30|t>>>2}function l(t,e,n,r){return 0===t?e&n|~e&r:2===t?e&n|e&r|n&r:e^n^r}r(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,c=0|this._e,p=0;p<16;++p)n[p]=t.readInt32BE(4*p);for(;p<80;++p)n[p]=n[p-3]^n[p-8]^n[p-14]^n[p-16];for(var h=0;h<80;++h){var d=~~(h/20),f=0|((e=r)<<5|e>>>27)+l(d,i,o,a)+c+n[h]+s[d];c=a,a=o,o=u(i),i=r,r=f}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=c},function(t,e){t.exports=require("util")},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},function(t,e){t.exports=require("buffer")},function(t,e,n){var r=n(28),i=n(29),o=n(18).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,i.call(this,64,56)}function u(t){return t<<5|t>>>27}function l(t){return t<<30|t>>>2}function p(t,e,n,r){return 0===t?e&n|~e&r:2===t?e&n|e&r|n&r:e^n^r}r(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,c=0|this._e,h=0;h<16;++h)n[h]=t.readInt32BE(4*h);for(;h<80;++h)n[h]=(e=n[h-3]^n[h-8]^n[h-14]^n[h-16])<<1|e>>>31;for(var d=0;d<80;++d){var f=~~(d/20),m=u(r)+p(f,i,o,a)+c+n[d]+s[f]|0;c=a,a=o,o=l(i),i=r,r=m}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=c},function(t,e,n){var r=n(28),i=n(175),o=n(29),s=n(18).Buffer,a=new Array(64);function c(){this.init(),this._w=a,o.call(this,64,56)}r(c,i),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var t=s.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=c},function(t,e,n){var r=n(28),i=n(176),o=n(29),s=n(18).Buffer,a=new Array(160);function c(){this.init(),this._w=a,o.call(this,128,112)}r(c,i),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var t=s.allocUnsafe(48);function e(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=c},function(t,e,n){const r=n(412),i=n(60),o=n(98),s=n(58),a=n(27),c=n(41);t.exports={name:"imgix",supportsBackgroundImages:!0,allowedMimeTypes:["image/gif","image/jpeg","image/png","image/webp"],disabledMimeTypes:[],canProcessAsset:function(t,e){return!(e&&!this.supportsBackgroundImages)&&c(t,this.allowedMimeTypes,this.disabledMimeTypes)},getUrl:function(t,e){return r.getUrl(t,e)},getUncroppedUrl:function(t){return this.getUrl(t)},set:function(t,e){const n=o.for(["imageServices","imgix"]);if(e.isTemporaryImage())i.reset(t),a.set(t,e);else if(e.isInlineImage()){const r=[],o=n.getWidths(e);for(const t in o){const n=o[t],i=this.getUrl(e.getOriginalUrl(),{width:n,crop:e.getCrop()});r.push({width:n,url:i})}const s=this.getUrl(e.getOriginalUrl(),{width:n.getDefaultWidth(e),crop:e.getCrop()}),a=n.getSizes(e);i.set(t,s,r,a)}else if(e.isBackgroundImage()){const r=n.getBgImageMaxWidth(e),i=this.getUrl(e.getOriginalUrl(),{width:r,crop:e.getCrop()});s(t,i)}}}},function(t,e,n){const r=n(1),i=n(26),o=n(59),{assert:s}=n(2),a=n(6);t.exports={getUrl:function(t,{crop:e,width:n}={}){const i=o.parse(t),s=e?c(e):null,u={};s&&(u.rect=s),n&&(u.w=n),r(a,"imageServices.imgix.preferWebp")&&(u.auto="format");const l=o.parse(r(a,"imageServices.imgix.host"));return l.pathname=i.pathname,l.query=u,o.format(l)}};const c=function({x:t,y:e,width:n,height:r}){return s(i(t),"x should be a number"),s(i(e),"y should be a number"),s(i(n),"width should be a number"),s(i(r),"height should be a number"),`${t},${e},${n},${r}`}},function(t,e,n){const r=n(414),i=n(60),o=n(98),s=n(58),a=n(27),c=n(41);t.exports={name:"liImageProxy",supportsBackgroundImages:!0,allowedMimeTypes:["image/gif","image/jpeg","image/png","image/webp"],disabledMimeTypes:[],canProcessAsset:function(t,e){return!(e&&!this.supportsBackgroundImages)&&c(t,this.allowedMimeTypes,this.disabledMimeTypes)},getUrl:function(t,e){return r.getUrl(t,e)},getUncroppedUrl:function(t){return this.getUrl(t)},set:function(t,e){const n=o.for(["imageServices",this.name]);if(e.isTemporaryImage())i.reset(t),a.set(t,e);else if(e.isInlineImage()){const r=[],o=n.getWidths(e);for(const t in o){const n=o[t],i=this.getUrl(e.getOriginalUrl(),{width:n,crop:e.getCrop()});r.push({width:n,url:i})}const s=this.getUrl(e.getOriginalUrl(),{width:n.getDefaultWidth(e),crop:e.getCrop()}),a=n.getSizes(e);i.set(t,s,r,a)}else if(e.isBackgroundImage()){const r=n.getBgImageMaxWidth(e),i=this.getUrl(e.getOriginalUrl(),{width:r,crop:e.getCrop()});s(t,i)}}}},function(t,e,n){const r=n(1),i=n(26),o=n(59),{assert:s}=n(2),a=n(6);t.exports={getUrl:function(t,{crop:e,width:n}={}){const i=o.parse(t,!0),s=e?c(e):null,u=i.query;s&&(u.rect=s),n&&(u.w=n),r(a,"imageServices.liImageProxy.preferWebp")&&(u.auto="format");const l=o.parse(r(a,"imageServices.liImageProxy.host"));return l.pathname=i.pathname,l.query=u,o.format(l)}};const c=function({x:t,y:e,width:n,height:r}){return s(i(t),"x should be a number"),s(i(e),"y should be a number"),s(i(n),"width should be a number"),s(i(r),"height should be a number"),`${t},${e},${n},${r}`}},function(t,e,n){const r=n(41),i=n(416),o=n(98),s=n(60),a=n(417),c=n(418),u=n(27),l=n(419);t.exports={name:"image.resizer",hasBrowserPlugin:!0,supportsCrop:!0,supportsBackgroundImages:!0,allowedMimeTypes:["image/gif","image/jpeg","image/png","image/webp"],disabledMimeTypes:[],createBrowserPlugin:function(t){return l({window:t})},canProcessAsset:function(t,e){return!(e&&!this.supportsBackgroundImages)&&r(t,this.allowedMimeTypes,this.disabledMimeTypes)},getUrl:function(t,e){return i.getUrl(t,e)},getUncroppedUrl:function(t){return this.getUrl(t)},set:function(t,e){const n=o.for(["imageServices","image.resizer"]);if(e.isTemporaryImage())s.reset(t),u.set(t,e);else if(e.isInlineImage()){const r=[],i=n.getWidths(e);for(const t in i){const n=i[t],o=this.getUrl(e.getOriginalUrl(),{size:{w:n},crop:e.getCrop()});r.push({width:n,url:o})}const o=n.getDefaultWidth(e),a=this.getUrl(e.getOriginalUrl(),{size:{w:o},crop:e.getCrop()}),c=n.getSizes(e);s.set(t,a,r,c)}else if(e.isBackgroundImage()){const r=[],i=n.getWidths(e);for(const t in i){const n=i[t],o=this.getUrl(e.getOriginalUrl(),{size:{w:n},crop:e.getCrop()});r.push({name:t,url:o})}const o=n.getDefaultWidth(e),s=this.getUrl(e.getOriginalUrl(),{size:{w:o},crop:e.getCrop()});a(t,r),c(t,s)}}}},function(t,e,n){const r=n(1),i=n(26),o=n(59),{assert:s}=n(2),a=n(6);t.exports={getUrl:function(t,{host:e,crop:n,ratio:i,size:s,quality:l}={}){const p=e||r(a,["imageServices","image.resizer","host"]),h=c(t),d={};l&&(d.quality=l),s&&s.w&&(d.width=s.w),s&&s.h&&(d.height=s.h),n&&(d.crop=u(n));const f=o.parse(p);return f.pathname=f.pathname+h,f.query=d,o.format(f)}};const c=function(t){return`/${t.replace("http://","").replace("https://","")}`},u=function({x:t,y:e,width:n,height:r}){return s(i(t),"x should be a number"),s(i(e),"y should be a number"),s(i(n),"width should be a number"),s(i(r),"height should be a number"),`(${t},${e},${t+n},${e+r})`}},function(t,e,n){const r=n(97);t.exports=function(t,e){const n=e.map(({name:t,url:e})=>`--${t}-url: ${i(e)}`).join(";");t.setAttr("style",n)};const i=function(t){return`url(${t=r(t)})`}},function(t,e,n){const r=n(97);t.exports=function(t,e){let n=t.getAttr("style");n.length>0&&(n=`${n};`),e&&(n=`${n}background-image: ${i(e)}`),t.setAttr("style",n)};const i=function(t){return`url(${t=r(t)})`}},function(t,e,n){const r=n(1),i=n(6);t.exports=function({window:t}={}){return{name:"browserPlugins.imageresizer",dependencies:{js:[{src:r(i,["imageServices","image.resizer","scriptUrl"])}]},init:function(){},updateDirective:function(t,e){}}}}]);
