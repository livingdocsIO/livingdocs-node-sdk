module.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=172)}([function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var r=n(51);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},function(t,e,n){const r=n(126),i=n(3);t.exports={log:r,assert:i}},function(t,e,n){const r=n(126);function i(t,e){t||r.error(e)}t.exports=i,i.param=function(t,e,n){if(!t)return r.error(`${e}: param '${n}' is missing`)}},function(t,e,n){try{var r=n(56);if("function"!=typeof r.inherits)throw"";t.exports=r.inherits}catch(e){t.exports=n(273)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){const r=n(125);t.exports={loadResources:!0,ignoreInteraction:".ld-control",livingdocsCssFile:"/assets/css/livingdocs.css",wordSeparators:"./\\()\"':,.;<>~!#%^&*|+=[]{}`~?",singleLineBreak:/^<br\s*\/?>\s*$/,editable:{allowNewline:!0,changeDelay:0,browserSpellcheck:!1,mouseMoveSelectionChanges:!1,formatting:{}},css:{section:"doc-section",component:"doc-component",editable:"doc-editable",noPlaceholder:"doc-no-placeholder",emptyImage:"doc-image-empty",interface:"doc-ui",componentHighlight:"doc-component-highlight",containerHighlight:"doc-container-highlight",dragged:"doc-dragged",draggedPlaceholder:"doc-dragged-placeholder",draggedPlaceholderCounter:"doc-drag-counter",dragBlocker:"doc-drag-blocker",dropMarker:"doc-drop-marker",beforeDrop:"doc-before-drop",noDrop:"doc-drag-no-drop",afterDrop:"doc-after-drop",longpressIndicator:"doc-longpress-indicator",preventSelection:"doc-no-selection",maximizedContainer:"doc-js-maximized-container",interactionBlocker:"doc-interaction-blocker",diffComponentAdded:"ld-diff-component-added",diffComponentRemoved:"ld-diff-component-removed",diffRemovedText:"ld-diff-text-removed",diffAddedText:"ld-diff-text-added",diffOriginalText:"ld-diff-text-original"},attr:{component:"doc-component",placeholder:"doc-placeholder"},directives:{container:{attr:"doc-container"},editable:{attr:"doc-editable"},html:{attr:"doc-html"},image:{attr:"doc-image"},link:{attr:"doc-link"},optional:{attr:"doc-optional"},include:{attr:"doc-include"}},imagePlaceholder:`data:image/svg+xml;charset=UTF-8,${encodeURIComponent(r`
    <svg xmlns="http://www.w3.org/2000/svg" width="620" height="350" \
      viewBox="0 0 620 350" preserveAspectRatio="none"> \
      <rect width="620" height="350" fill="#D4D4CE"/> \
      <line x1="0" y1="0" x2="620" y2="350" style="stroke:#ffffff;stroke-width:2"/> \
      <line x1="620" y1="0" x2="0" y2="350" style="stroke:#ffffff;stroke-width:2"/> \
    </svg>`)}`,history:{limit:1e3,groupingInterval:2e3},imageServices:{"resrc.it":{quality:75,host:"https://app.resrc.it"},liImageProxy:{host:"http://localhost:9090"},imgix:{host:"https://livingdocs.imgix.net",preferWebp:!1,backgroundImage:{maxWidth:1500},srcSet:{defaultWidth:1280,widths:[2048,1280,980,720],sizes:["(max-width: 980px) 80vw","(max-width: 720px) 100vw","100vw"]}},sz:{host:"https://sz.de",shaSecret:"please-change-me-in-the-server-configuration",hashVersion:1,srcSet:{defaultWidth:1280,widths:[2048,1280,980,720],sizes:["(max-width: 980px) 80vw","(max-width: 720px) 100vw","60vw"]}},"image.resizer":{host:"http://images.nswow.ch/remote",srcSet:{defaultWidth:1280,widths:{xlarge:2048,large:1280,medium:980,small:720},sizes:["(max-width: 980px) 80vw","(max-width: 720px) 100vw","100vw"]}}}}},function(t,e,n){var r=n(42),i=n(64);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var r=n(98),i="object"==typeof self&&self&&self.Object===Object&&self,s=r||i||Function("return this")();t.exports=s},function(t,e,n){var r=n(18),i=n(178),s=n(179),o="[object Null]",a="[object Undefined]",c=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?a:o:c&&c in Object(t)?i(t):s(t)}},function(t,e,n){var r=n(97),i=n(66),s=n(7);t.exports=function(t){return s(t)?r(t):i(t)}},function(t,e,n){var r=n(10),i=n(0),s=n(5),o="[object String]";t.exports=function(t){return"string"==typeof t||!i(t)&&s(t)&&r(t)==o}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){var r=n(38),i=r.Buffer;function s(t,e){for(var n in t)e[n]=t[n]}function o(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(s(r,e),e.Buffer=o),s(i,o),o.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},o.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){var r=n(307),i=n(310),s=n(43),o=n(0),a=n(311);t.exports=function(t){return"function"==typeof t?t:null==t?s:"object"==typeof t?o(t)?i(t[0],t[1]):r(t):a(t)}},function(t,e,n){var r=n(186),i=n(189);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e,n){var r=n(49),i=n(71);t.exports=function(t,e,n,s){var o=!n;n||(n={});for(var a=-1,c=e.length;++a<c;){var h=e[a],u=s?s(n[h],t[h],h,n,t):void 0;void 0===u&&(u=t[h]),o?i(n,h,u):r(n,h,u)}return n}},function(t,e,n){var r=n(9).Symbol;t.exports=r},function(t,e,n){var r=n(185),i=n(68),s=n(190),o=n(191),a=n(192),c=n(10),h=n(100),u=h(r),l=h(i),p=h(s),f=h(o),d=h(a),g=c;(r&&"[object DataView]"!=g(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=g(new i)||s&&"[object Promise]"!=g(s.resolve())||o&&"[object Set]"!=g(new o)||a&&"[object WeakMap]"!=g(new a))&&(g=function(t){var e=c(t),n="[object Object]"==e?t.constructor:void 0,r=n?h(n):"";if(r)switch(r){case u:return"[object DataView]";case l:return"[object Map]";case p:return"[object Promise]";case f:return"[object Set]";case d:return"[object WeakMap]"}return e}),t.exports=g},function(t,e,n){var r=n(69),i=1,s=4;t.exports=function(t){return r(t,i|s)}},function(t,e,n){var r=n(0),i=n(77),s=n(233),o=n(236);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:s(o(t))}},function(t,e,n){var r=n(52),i=1/0;t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}},function(t,e,n){"use strict";const r={};function i(t,e,n){n||(n=Error);class i extends n{constructor(t,n,r){super(function(t,n,r){return"string"==typeof e?e:e(t,n,r)}(t,n,r))}}i.prototype.name=n.name,i.prototype.code=t,r[t]=i}function s(t,e){if(Array.isArray(t)){const n=t.length;return t=t.map(t=>String(t)),n>2?`one of ${e} ${t.slice(0,n-1).join(", ")}, or `+t[n-1]:2===n?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}return`of ${e} ${String(t)}`}i("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError),i("ERR_INVALID_ARG_TYPE",function(t,e,n){let r;var i,o;let a;if("string"==typeof e&&(i="not ",e.substr(!o||o<0?0:+o,i.length)===i)?(r="must not be",e=e.replace(/^not /,"")):r="must be",function(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}(t," argument"))a=`The ${t} ${r} ${s(e,"type")}`;else{a=`The "${t}" ${function(t,e,n){return"number"!=typeof n&&(n=0),!(n+e.length>t.length)&&-1!==t.indexOf(e,n)}(t,".")?"property":"argument"} ${r} ${s(e,"type")}`}return a+=`. Received type ${typeof n}`},TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"}),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=r},function(t,e,n){"use strict";var r=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=h;var i=n(137),s=n(141);n(4)(h,i);for(var o=r(s.prototype),a=0;a<o.length;a++){var c=o[a];h.prototype[c]||(h.prototype[c]=s.prototype[c])}function h(t){if(!(this instanceof h))return new h(t);i.call(this,t),s.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||process.nextTick(l,this)}function l(t){t.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})},function(t,e){t.exports={humanize(t){const e=this.trim(t).replace(/([a-z\d])([A-Z]+)/g,"$1 $2").toLowerCase();return this.titleize(e)},capitalize:t=>(t=t?String(t):"").charAt(0).toUpperCase()+t.slice(1),titleize:t=>null==t?"":String(t).replace(/(?:^|\s)\S/g,t=>t.toUpperCase()),snakeCase(t){return this.trim(t).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()},prefix:(t,e)=>0===e.indexOf(t)?e:`${t}${e}`,readableJson:t=>JSON.stringify(t,null,2),camelize(t){return this.trim(t).replace(/[-_\s]+(.)?/g,(t,e)=>e.toUpperCase())},trim:t=>t.replace(/^\s+|\s+$/g,""),collapseWhitespace:t=>t.replace(/\s+/g," ")}},function(t,e,n){var r=n(10),i=n(5),s="[object Number]";t.exports=function(t){return"number"==typeof t||i(t)&&r(t)==s}},function(t,e,n){const r=n(59),i=n(169);t.exports={name:"default",hasBrowserPlugin:!1,supportsCrop:!1,getUrl:function(t){return t},getUncroppedUrl:function(t){return this.getUrl(t)},canProcessAsset:function(t,e){return!0},set:function(t,e){let n="";if(e.isTemporaryImage()){const t=e.getTemporaryUrl();t&&(n=t)}else{const t=e.getOriginalUrl();t&&(n=t)}e.isInlineImage()?i(t,n):e.isBackgroundImage()&&r(t,n)}}},function(t,e,n){var r=n(14).Buffer;function i(t,e){this._block=r.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}i.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=r.from(t,e));for(var n=this._block,i=this._blockSize,s=t.length,o=this._len,a=0;a<s;){for(var c=o%i,h=Math.min(s-a,i-c),u=0;u<h;u++)n[c+u]=t[a+u];a+=h,(o+=h)%i==0&&this._update(n)}return this._len+=s,this},i.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=i},function(t,e,n){var r=n(177),i=n(5),s=Object.prototype,o=s.hasOwnProperty,a=s.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(t){return i(t)&&o.call(t,"callee")&&!a.call(t,"callee")};t.exports=c},function(t,e,n){(function(t){var r=n(9),i=n(180),s="object"==typeof e&&e&&!e.nodeType&&e,o=s&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===s?r.Buffer:void 0,c=(a?a.isBuffer:void 0)||i;t.exports=c}).call(e,n(63)(t))},function(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var i=typeof t;return!!(e=null==e?n:e)&&("number"==i||"symbol"!=i&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){const r=n(20),i=n(1),s=n(3);t.exports=class{constructor({component:t,structureDirective:e}){this.component=t;for(const[t,n]of Object.entries(e||{}))this[t]=n;this.content={}}getContent(){return this.content.value}setContent(t){""===t&&(t=void 0),this.hasDifferentContent(t)&&(this.component.beforeDirectiveChanging(this.name),this.content.value=t,this.component.directiveChanging(this.name))}hasDifferentContent(t){return""===t&&(t=void 0),this.content.value!==t}copyTo(t){this.assertCompatibility(t),t.content=r(this.content)}assertCompatibility(t){const e=this.type===t.type;s(e,`Incompatible directives: ${this.type} <-> ${t.type}`)}isEmpty(){return!this.getContent()}setData(t,e){const n=`_${this.name}Directive`;let r=this.component.getData(n);null==r&&(r={}),r[t]=e,this.component.setData(n,r)}removeData(t){const e=`_${this.name}Directive`,n=this.component.getData(e);n&&(delete n[t],this.component.setData(e,n))}getData(t){return t?null!=this.component.dataValues[`_${this.name}Directive`]?this.component.dataValues[`_${this.name}Directive`][t]:void 0:this.component.dataValues[`_${this.name}Directive`]}setTmp(t,e){this.tmp={},this.tmp[t]=e}getTmp(t){return i(this.tmp,t)}getId(){return`${this.component.id}:${this.name}`}serialize(){return this.content.value}deserialize(t){this.content.value=t}}},function(t,e,n){var r=n(132),i=n(274);function s(e,n){return delete t.exports[e],t.exports[e]=n,n}t.exports={Parser:r,Tokenizer:n(133),ElementType:n(37),DomHandler:i,get FeedHandler(){return s("FeedHandler",n(276))},get Stream(){return s("Stream",n(277))},get WritableStream(){return s("WritableStream",n(135))},get ProxyHandler(){return s("ProxyHandler",n(286))},get DomUtils(){return s("DomUtils",n(287))},get CollectingHandler(){return s("CollectingHandler",n(296))},DefaultHandler:i,get RssHandler(){return s("RssHandler",this.FeedHandler)},parseDOM:function(t,e){var n=new i(e);return new r(n,e).end(t),n.dom},parseFeed:function(e,n){var i=new t.exports.FeedHandler(n);return new r(i,n).end(e),i.dom},createDomStream:function(t,e,n){var s=new i(t,e,n);return new r(s,e)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},function(t,e){t.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(t){return"tag"===t.type||"script"===t.type||"style"===t.type}}},function(t,e){t.exports=require("buffer")},function(t,e){t.exports=function(t,e,n){if(null==t)return!1;const r=t.toLowerCase(),i=-1!==e.indexOf(r),s=-1!==n.indexOf(r);return i&&!s}},function(t,e,n){var r=n(174),i=n(183)(r);t.exports=i},function(t,e,n){var r=n(181),i=n(32),s=n(65),o=s&&s.isTypedArray,a=o?i(o):r;t.exports=a},function(t,e,n){var r=n(10),i=n(8),s="[object AsyncFunction]",o="[object Function]",a="[object GeneratorFunction]",c="[object Proxy]";t.exports=function(t){if(!i(t))return!1;var e=r(t);return e==o||e==a||e==s||e==c}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(45),i=n(198),s=n(199),o=n(200),a=n(201),c=n(202);function h(t){var e=this.__data__=new r(t);this.size=e.size}h.prototype.clear=i,h.prototype.delete=s,h.prototype.get=o,h.prototype.has=a,h.prototype.set=c,t.exports=h},function(t,e,n){var r=n(193),i=n(194),s=n(195),o=n(196),a=n(197);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=s,c.prototype.has=o,c.prototype.set=a,t.exports=c},function(t,e,n){var r=n(34);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(16)(Object,"create");t.exports=r},function(t,e,n){var r=n(211);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(71),i=n(34),s=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var o=t[e];s.call(t,e)&&i(o,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(97),i=n(217),s=n(7);t.exports=function(t){return s(t)?r(t,!0):i(t)}},function(t,e,n){var r=n(21),i=n(22);t.exports=function(t,e){for(var n=0,s=(e=r(e,t)).length;null!=t&&n<s;)t=t[i(e[n++])];return n&&n==s?t:void 0}},function(t,e,n){var r=n(10),i=n(5),s="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||i(t)&&r(t)==s}},function(t,e,n){const r=n(1),i=n(249),s=n(54),{booleanAttributes:o,unencodedElements:a,singleTags:c,blockElements:h}=i;function u(t,e){return t.reduce((n,i,o)=>{let d;switch(i.type){case"text":n+=function(t,e){let n=t.data||"";!e.encodeXML||t.parent&&a[t.parent.name]?e.decodeHTML&&(n=s.decodeHTML(n)):n=s.encodeXML(n);return n}(i,e);break;case"tag":case"script":case"style":d=t[o+1],n+=function(t,e,n){let i,s;if(t.doNotRender)return"";if(e.plainText)return u(t.children,e);if(e.editableValidator){const n=e.editableValidator;if(n.isProhibited(t)&&t.children)return u(t.children,e)}"svg"===t.name&&(e={encodeXML:e.encodeXML,renderDirectiveInfo:e.renderDirectiveInfo,xmlMode:!0});let o=function(t,e){let n=`<${t.name}`;const i=l(t.attribs,e);i&&(n+=` ${i}`);const s=function(t,e){let n;if(!t)return;if(e.renderDirectiveInfo){n="";for(const e of Object.keys(t)){const r=t[e];n&&(n+=" "),n+=`doc-${e}="${r}"`}}return n}(t.directives,e);s&&(n+=` ${s}`);e.xmlMode&&!r(t,"children",!1)?n+="/>":n+=">";return n}(t,e);if(e.prettyHtml){const e=f(n),r=function(t){return!(!t.children||!t.children.length)&&f(t.children[0])}(t),o=h[t.name];s=o&&t.children&&!r,i=n&&!e}!function(t,e){if(e.xmlMode&&!r(t,"children.length",!1))return!0;return!!c[t.name]}(t,e)?(t.children&&(s&&(o+=function(t){t.indentLevel||(t.indentLevel=0);return t.indentLevel+=1,p(t)}(e)),o+=u(t.children,e),s&&(o+=function(t){t.indentLevel||(t.indentLevel=0);t.indentLevel>0&&(t.indentLevel-=1);return p(t)}(e))),o+=`</${t.name}>`,i&&(o+=p(e))):i&&(o+=p(e));return o}(i,e,d);break;case"root":n+=u(i.children,e);break;case"comment":n+=function(t){return`\x3c!--${t.data}--\x3e`}(i);break;case"directive":n+=function(t){return`<${t.data}>`}(i);break;case"cdata":n+=function(t){return`<![CDATA[${t.children[0].data}]]>`}(i)}return n},"")}t.exports=function(t,e={}){return Array.isArray(t)||t.cheerio||(t=[t]),e.prettyHtml&&(e.tabSize||(e.tabSize=2),e.decodeHTML=!0),u(t,e)};const l=function(t,e){if(!t)return;let n="";for(const r of Object.keys(t)){let i=t[r];n&&(n+=" "),!i&&o[r]?n+=r:(e.encodeXML&&(i=s.encodeXML(i)),n+=`${r}="${i}"`)}return n};function p(t){return`\n${function(t){t.indentLevel||(t.indentLevel=0);if(t.indentLevel<0)return"";const e=t.indentLevel*t.tabSize;return" ".repeat(e)}(t)}`}function f(t){return!!t&&("text"===t.type&&/\n/.test(t.data))}},function(t,e,n){var r=n(250),i=n(251);e.decode=function(t,e){return(!e||e<=0?i.XML:i.HTML)(t)},e.decodeStrict=function(t,e){return(!e||e<=0?i.XML:i.HTMLStrict)(t)},e.encode=function(t,e){return(!e||e<=0?r.XML:r.HTML)(t)},e.encodeXML=r.XML,e.encodeHTML4=e.encodeHTML5=e.encodeHTML=r.HTML,e.decodeXML=e.decodeXMLStrict=i.XML,e.decodeHTML4=e.decodeHTML5=e.decodeHTML=i.HTML,e.decodeHTML4Strict=e.decodeHTML5Strict=e.decodeHTMLStrict=i.HTMLStrict,e.escape=r.escape},function(t,e,n){var r=n(83);t.exports=function(t,e){return r(t,e)}},function(t,e){t.exports=require("util")},function(t,e){let n,r=n;t.exports={next(t="doc"){const e=Date.now().toString(32);return n===e?r+=1:(r=0,n=e),`${t}-${e}${r}`}}},function(t,e,n){const r=n(326),i=n(327),s=n(153),{log:o,assert:a}=n(2),c=n(25),h=n(156),u=n(157),l=n(332);t.exports=class t{constructor({name:e,version:n,label:i,author:s,description:o}){this.name=e,this.author=s,this.description=o,this.version=r.valid(n),a(this.name,"Design: param 'name' is required"),a(this.version,`Design: missing or invalid param 'version' ${n}`),this.label=i||c.humanize(this.name),this.identifier=t.getIdentifier(this.name,this.version),this.imageRatios={},this.dependencies=new u,this.components=new h,this.defaultParagraph={name:void 0,directiveName:void 0},this.defaultImage={name:void 0,directiveName:void 0},this.defaultHtml={name:void 0,directiveName:void 0},this.transforms=new l(this),this.groups=[]}equals(t){return t.name===this.name&&t.version===this.version}isInRange(t){return r.satisfies(this.version,t)}isNewerThan(t){return!t||this.name===t.name&&r.gt(this.version,t.version)}hasComponent(t){return this.components.has(t)}getComponent(t){return this.components.get(t)}getComponentStructure(t){const e=this.components.get(t);if(e)return e.structure}getComponentSkin(t){const e=this.components.get(t);if(e)return e.skin}addComponent({structure:t,skin:e}){t.setDesign(this);const n=t.name;if(this.components.get(n)){const t=new Error("Design.addComponent(): "+`duplicate component '${n}'`);throw t.name="DuplicateComponentError",t}this.components.push(n,{structure:t,skin:e})}eachStructure(t){this.components.each(e=>t(e.structure))}getComponentNameFromIdentifier(e){return t.parseComponentIdentifier(e).name}setDefaultParagraph({name:t,directiveName:e}){this.defaultParagraph=e?{name:t,directiveName:e}:this.getDirectiveLocator({name:t,directiveType:"editable"})}setDefaultImage({name:t,directiveName:e}){this.defaultImage=e?{name:t,directiveName:e}:this.getDirectiveLocator({name:t,directiveType:"image"})}setDefaultHtml({name:t,directiveName:e}){this.defaultHtml=e?{name:t,directiveName:e}:this.getDirectiveLocator({name:t,directiveType:"html"})}getDirectiveLocator({name:t,directiveType:e}){const n=this.getComponentStructure(t);if(!n)return{name:t,directiveName:void 0};const r=n.directives.firstOfType(e);return{name:t,directiveName:r?r.name:void 0}}getLayout(t=this.defaultLayout){return this.layouts?t||this.defaultLayout?s(this.layouts,{name:t}):i(this.layouts):{wrapper:this.wrapper}}static getIdentifier(t,e){return`${t}@${e}`}static parseIdentifier(t){if(!t)return;const e=t.split("@");return 2===e.length?{name:e[0],version:e[1]}:a(!1,`could not parse design identifier: ${t}`)}static parseComponentIdentifier(t){if(!t)return;const e=t.split(".");return 1===e.length?{designName:void 0,name:e[0]}:2===e.length?{designName:e[0],name:e[1]}:o.error(`could not parse component template identifier: ${t}`)}}},function(t,e,n){const r=n(92);t.exports=function(t,e){e?t.css("background-image",i(e)):t.css("background-image","")};const i=function(t){return`url(${t=r(t)})`}},function(t,e){t.exports=require("url")},function(t,e,n){const r=n(169);t.exports={set:function(t,e,n,i){r(t,e);const s=n.map(({width:t,url:e})=>`${e} ${t}w`).join(",");t.attr("srcset",s),t.attr("sizes",i.join(","))},reset:function(t){t.removeAttr("srcset"),t.removeAttr("sizes")}}},function(t,e,n){var r=n(95),i=n(40),s=n(184),o=n(0);t.exports=function(t,e){return(o(t)?r:i)(t,s(e))}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(t,e,n){(function(t){var r=n(98),i="object"==typeof e&&e&&!e.nodeType&&e,s=i&&"object"==typeof t&&t&&!t.nodeType&&t,o=s&&s.exports===i&&r.process,a=function(){try{var t=s&&s.require&&s.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=a}).call(e,n(63)(t))},function(t,e,n){var r=n(33),i=n(182),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))s.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(66),i=n(19),s=n(29),o=n(0),a=n(7),c=n(30),h=n(33),u=n(41),l="[object Map]",p="[object Set]",f=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(a(t)&&(o(t)||"string"==typeof t||"function"==typeof t.splice||c(t)||u(t)||s(t)))return!t.length;var e=i(t);if(e==l||e==p)return!t.size;if(h(t))return!r(t).length;for(var n in t)if(f.call(t,n))return!1;return!0}},function(t,e,n){var r=n(16)(n(9),"Map");t.exports=r},function(t,e,n){var r=n(44),i=n(95),s=n(49),o=n(215),a=n(216),c=n(102),h=n(103),u=n(219),l=n(220),p=n(107),f=n(75),d=n(19),g=n(221),m=n(222),v=n(111),b=n(0),_=n(30),y=n(227),x=n(8),w=n(229),C=n(11),S=1,E=2,T=4,A="[object Arguments]",k="[object Function]",D="[object GeneratorFunction]",I="[object Object]",j={};j[A]=j["[object Array]"]=j["[object ArrayBuffer]"]=j["[object DataView]"]=j["[object Boolean]"]=j["[object Date]"]=j["[object Float32Array]"]=j["[object Float64Array]"]=j["[object Int8Array]"]=j["[object Int16Array]"]=j["[object Int32Array]"]=j["[object Map]"]=j["[object Number]"]=j[I]=j["[object RegExp]"]=j["[object Set]"]=j["[object String]"]=j["[object Symbol]"]=j["[object Uint8Array]"]=j["[object Uint8ClampedArray]"]=j["[object Uint16Array]"]=j["[object Uint32Array]"]=!0,j["[object Error]"]=j[k]=j["[object WeakMap]"]=!1,t.exports=function t(e,n,M,R,P,O){var N,q=n&S,L=n&E,B=n&T;if(M&&(N=P?M(e,R,P,O):M(e)),void 0!==N)return N;if(!x(e))return e;var U=b(e);if(U){if(N=g(e),!q)return h(e,N)}else{var $=d(e),V=$==k||$==D;if(_(e))return c(e,q);if($==I||$==A||V&&!P){if(N=L||V?{}:v(e),!q)return L?l(e,a(N,e)):u(e,o(N,e))}else{if(!j[$])return P?e:{};N=m(e,$,q)}}O||(O=new r);var z=O.get(e);if(z)return z;if(O.set(e,N),w(e))return e.forEach(function(r){N.add(t(r,n,M,r,e,O))}),N;if(y(e))return e.forEach(function(r,i){N.set(i,t(r,n,M,i,e,O))}),N;var H=B?L?f:p:L?keysIn:C,F=U?void 0:H(e);return i(F||e,function(r,i){F&&(r=e[i=r]),s(N,i,t(r,n,M,i,e,O))}),N}},function(t,e,n){var r=n(203),i=n(210),s=n(212),o=n(213),a=n(214);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=s,c.prototype.has=o,c.prototype.set=a,t.exports=c},function(t,e,n){var r=n(101);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var r=n(104),i=n(105),s=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,a=o?function(t){return null==t?[]:(t=Object(t),r(o(t),function(e){return s.call(t,e)}))}:i;t.exports=a},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e,n){var r=n(99)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(108),i=n(106),s=n(50);t.exports=function(t){return r(t,s,i)}},function(t,e,n){var r=n(109);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e,n){var r=n(0),i=n(52),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||o.test(t)||!s.test(t)||null!=e&&t in Object(e)}},function(t,e){t.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},function(t,e){t.exports={Aacute:"Ã",aacute:"Ã¡",Abreve:"Ä‚",abreve:"Äƒ",ac:"âˆ¾",acd:"âˆ¿",acE:"âˆ¾Ì³",Acirc:"Ã‚",acirc:"Ã¢",acute:"Â´",Acy:"Ğ",acy:"Ğ°",AElig:"Ã†",aelig:"Ã¦",af:"â¡",Afr:"ğ”„",afr:"ğ”",Agrave:"Ã€",agrave:"Ã ",alefsym:"â„µ",aleph:"â„µ",Alpha:"Î‘",alpha:"Î±",Amacr:"Ä€",amacr:"Ä",amalg:"â¨¿",amp:"&",AMP:"&",andand:"â©•",And:"â©“",and:"âˆ§",andd:"â©œ",andslope:"â©˜",andv:"â©š",ang:"âˆ ",ange:"â¦¤",angle:"âˆ ",angmsdaa:"â¦¨",angmsdab:"â¦©",angmsdac:"â¦ª",angmsdad:"â¦«",angmsdae:"â¦¬",angmsdaf:"â¦­",angmsdag:"â¦®",angmsdah:"â¦¯",angmsd:"âˆ¡",angrt:"âˆŸ",angrtvb:"âŠ¾",angrtvbd:"â¦",angsph:"âˆ¢",angst:"Ã…",angzarr:"â¼",Aogon:"Ä„",aogon:"Ä…",Aopf:"ğ”¸",aopf:"ğ•’",apacir:"â©¯",ap:"â‰ˆ",apE:"â©°",ape:"â‰Š",apid:"â‰‹",apos:"'",ApplyFunction:"â¡",approx:"â‰ˆ",approxeq:"â‰Š",Aring:"Ã…",aring:"Ã¥",Ascr:"ğ’œ",ascr:"ğ’¶",Assign:"â‰”",ast:"*",asymp:"â‰ˆ",asympeq:"â‰",Atilde:"Ãƒ",atilde:"Ã£",Auml:"Ã„",auml:"Ã¤",awconint:"âˆ³",awint:"â¨‘",backcong:"â‰Œ",backepsilon:"Ï¶",backprime:"â€µ",backsim:"âˆ½",backsimeq:"â‹",Backslash:"âˆ–",Barv:"â«§",barvee:"âŠ½",barwed:"âŒ…",Barwed:"âŒ†",barwedge:"âŒ…",bbrk:"âµ",bbrktbrk:"â¶",bcong:"â‰Œ",Bcy:"Ğ‘",bcy:"Ğ±",bdquo:"â€",becaus:"âˆµ",because:"âˆµ",Because:"âˆµ",bemptyv:"â¦°",bepsi:"Ï¶",bernou:"â„¬",Bernoullis:"â„¬",Beta:"Î’",beta:"Î²",beth:"â„¶",between:"â‰¬",Bfr:"ğ”…",bfr:"ğ”Ÿ",bigcap:"â‹‚",bigcirc:"â—¯",bigcup:"â‹ƒ",bigodot:"â¨€",bigoplus:"â¨",bigotimes:"â¨‚",bigsqcup:"â¨†",bigstar:"â˜…",bigtriangledown:"â–½",bigtriangleup:"â–³",biguplus:"â¨„",bigvee:"â‹",bigwedge:"â‹€",bkarow:"â¤",blacklozenge:"â§«",blacksquare:"â–ª",blacktriangle:"â–´",blacktriangledown:"â–¾",blacktriangleleft:"â—‚",blacktriangleright:"â–¸",blank:"â£",blk12:"â–’",blk14:"â–‘",blk34:"â–“",block:"â–ˆ",bne:"=âƒ¥",bnequiv:"â‰¡âƒ¥",bNot:"â«­",bnot:"âŒ",Bopf:"ğ”¹",bopf:"ğ•“",bot:"âŠ¥",bottom:"âŠ¥",bowtie:"â‹ˆ",boxbox:"â§‰",boxdl:"â”",boxdL:"â••",boxDl:"â•–",boxDL:"â•—",boxdr:"â”Œ",boxdR:"â•’",boxDr:"â•“",boxDR:"â•”",boxh:"â”€",boxH:"â•",boxhd:"â”¬",boxHd:"â•¤",boxhD:"â•¥",boxHD:"â•¦",boxhu:"â”´",boxHu:"â•§",boxhU:"â•¨",boxHU:"â•©",boxminus:"âŠŸ",boxplus:"âŠ",boxtimes:"âŠ ",boxul:"â”˜",boxuL:"â•›",boxUl:"â•œ",boxUL:"â•",boxur:"â””",boxuR:"â•˜",boxUr:"â•™",boxUR:"â•š",boxv:"â”‚",boxV:"â•‘",boxvh:"â”¼",boxvH:"â•ª",boxVh:"â•«",boxVH:"â•¬",boxvl:"â”¤",boxvL:"â•¡",boxVl:"â•¢",boxVL:"â•£",boxvr:"â”œ",boxvR:"â•",boxVr:"â•Ÿ",boxVR:"â• ",bprime:"â€µ",breve:"Ë˜",Breve:"Ë˜",brvbar:"Â¦",bscr:"ğ’·",Bscr:"â„¬",bsemi:"â",bsim:"âˆ½",bsime:"â‹",bsolb:"â§…",bsol:"\\",bsolhsub:"âŸˆ",bull:"â€¢",bullet:"â€¢",bump:"â‰",bumpE:"âª®",bumpe:"â‰",Bumpeq:"â‰",bumpeq:"â‰",Cacute:"Ä†",cacute:"Ä‡",capand:"â©„",capbrcup:"â©‰",capcap:"â©‹",cap:"âˆ©",Cap:"â‹’",capcup:"â©‡",capdot:"â©€",CapitalDifferentialD:"â……",caps:"âˆ©ï¸€",caret:"â",caron:"Ë‡",Cayleys:"â„­",ccaps:"â©",Ccaron:"ÄŒ",ccaron:"Ä",Ccedil:"Ã‡",ccedil:"Ã§",Ccirc:"Äˆ",ccirc:"Ä‰",Cconint:"âˆ°",ccups:"â©Œ",ccupssm:"â©",Cdot:"ÄŠ",cdot:"Ä‹",cedil:"Â¸",Cedilla:"Â¸",cemptyv:"â¦²",cent:"Â¢",centerdot:"Â·",CenterDot:"Â·",cfr:"ğ” ",Cfr:"â„­",CHcy:"Ğ§",chcy:"Ñ‡",check:"âœ“",checkmark:"âœ“",Chi:"Î§",chi:"Ï‡",circ:"Ë†",circeq:"â‰—",circlearrowleft:"â†º",circlearrowright:"â†»",circledast:"âŠ›",circledcirc:"âŠš",circleddash:"âŠ",CircleDot:"âŠ™",circledR:"Â®",circledS:"â“ˆ",CircleMinus:"âŠ–",CirclePlus:"âŠ•",CircleTimes:"âŠ—",cir:"â—‹",cirE:"â§ƒ",cire:"â‰—",cirfnint:"â¨",cirmid:"â«¯",cirscir:"â§‚",ClockwiseContourIntegral:"âˆ²",CloseCurlyDoubleQuote:"â€",CloseCurlyQuote:"â€™",clubs:"â™£",clubsuit:"â™£",colon:":",Colon:"âˆ·",Colone:"â©´",colone:"â‰”",coloneq:"â‰”",comma:",",commat:"@",comp:"âˆ",compfn:"âˆ˜",complement:"âˆ",complexes:"â„‚",cong:"â‰…",congdot:"â©­",Congruent:"â‰¡",conint:"âˆ®",Conint:"âˆ¯",ContourIntegral:"âˆ®",copf:"ğ•”",Copf:"â„‚",coprod:"âˆ",Coproduct:"âˆ",copy:"Â©",COPY:"Â©",copysr:"â„—",CounterClockwiseContourIntegral:"âˆ³",crarr:"â†µ",cross:"âœ—",Cross:"â¨¯",Cscr:"ğ’",cscr:"ğ’¸",csub:"â«",csube:"â«‘",csup:"â«",csupe:"â«’",ctdot:"â‹¯",cudarrl:"â¤¸",cudarrr:"â¤µ",cuepr:"â‹",cuesc:"â‹Ÿ",cularr:"â†¶",cularrp:"â¤½",cupbrcap:"â©ˆ",cupcap:"â©†",CupCap:"â‰",cup:"âˆª",Cup:"â‹“",cupcup:"â©Š",cupdot:"âŠ",cupor:"â©…",cups:"âˆªï¸€",curarr:"â†·",curarrm:"â¤¼",curlyeqprec:"â‹",curlyeqsucc:"â‹Ÿ",curlyvee:"â‹",curlywedge:"â‹",curren:"Â¤",curvearrowleft:"â†¶",curvearrowright:"â†·",cuvee:"â‹",cuwed:"â‹",cwconint:"âˆ²",cwint:"âˆ±",cylcty:"âŒ­",dagger:"â€ ",Dagger:"â€¡",daleth:"â„¸",darr:"â†“",Darr:"â†¡",dArr:"â‡“",dash:"â€",Dashv:"â«¤",dashv:"âŠ£",dbkarow:"â¤",dblac:"Ë",Dcaron:"Ä",dcaron:"Ä",Dcy:"Ğ”",dcy:"Ğ´",ddagger:"â€¡",ddarr:"â‡Š",DD:"â……",dd:"â…†",DDotrahd:"â¤‘",ddotseq:"â©·",deg:"Â°",Del:"âˆ‡",Delta:"Î”",delta:"Î´",demptyv:"â¦±",dfisht:"â¥¿",Dfr:"ğ”‡",dfr:"ğ”¡",dHar:"â¥¥",dharl:"â‡ƒ",dharr:"â‡‚",DiacriticalAcute:"Â´",DiacriticalDot:"Ë™",DiacriticalDoubleAcute:"Ë",DiacriticalGrave:"`",DiacriticalTilde:"Ëœ",diam:"â‹„",diamond:"â‹„",Diamond:"â‹„",diamondsuit:"â™¦",diams:"â™¦",die:"Â¨",DifferentialD:"â…†",digamma:"Ï",disin:"â‹²",div:"Ã·",divide:"Ã·",divideontimes:"â‹‡",divonx:"â‹‡",DJcy:"Ğ‚",djcy:"Ñ’",dlcorn:"âŒ",dlcrop:"âŒ",dollar:"$",Dopf:"ğ”»",dopf:"ğ••",Dot:"Â¨",dot:"Ë™",DotDot:"âƒœ",doteq:"â‰",doteqdot:"â‰‘",DotEqual:"â‰",dotminus:"âˆ¸",dotplus:"âˆ”",dotsquare:"âŠ¡",doublebarwedge:"âŒ†",DoubleContourIntegral:"âˆ¯",DoubleDot:"Â¨",DoubleDownArrow:"â‡“",DoubleLeftArrow:"â‡",DoubleLeftRightArrow:"â‡”",DoubleLeftTee:"â«¤",DoubleLongLeftArrow:"âŸ¸",DoubleLongLeftRightArrow:"âŸº",DoubleLongRightArrow:"âŸ¹",DoubleRightArrow:"â‡’",DoubleRightTee:"âŠ¨",DoubleUpArrow:"â‡‘",DoubleUpDownArrow:"â‡•",DoubleVerticalBar:"âˆ¥",DownArrowBar:"â¤“",downarrow:"â†“",DownArrow:"â†“",Downarrow:"â‡“",DownArrowUpArrow:"â‡µ",DownBreve:"Ì‘",downdownarrows:"â‡Š",downharpoonleft:"â‡ƒ",downharpoonright:"â‡‚",DownLeftRightVector:"â¥",DownLeftTeeVector:"â¥",DownLeftVectorBar:"â¥–",DownLeftVector:"â†½",DownRightTeeVector:"â¥Ÿ",DownRightVectorBar:"â¥—",DownRightVector:"â‡",DownTeeArrow:"â†§",DownTee:"âŠ¤",drbkarow:"â¤",drcorn:"âŒŸ",drcrop:"âŒŒ",Dscr:"ğ’Ÿ",dscr:"ğ’¹",DScy:"Ğ…",dscy:"Ñ•",dsol:"â§¶",Dstrok:"Ä",dstrok:"Ä‘",dtdot:"â‹±",dtri:"â–¿",dtrif:"â–¾",duarr:"â‡µ",duhar:"â¥¯",dwangle:"â¦¦",DZcy:"Ğ",dzcy:"ÑŸ",dzigrarr:"âŸ¿",Eacute:"Ã‰",eacute:"Ã©",easter:"â©®",Ecaron:"Äš",ecaron:"Ä›",Ecirc:"ÃŠ",ecirc:"Ãª",ecir:"â‰–",ecolon:"â‰•",Ecy:"Ğ­",ecy:"Ñ",eDDot:"â©·",Edot:"Ä–",edot:"Ä—",eDot:"â‰‘",ee:"â…‡",efDot:"â‰’",Efr:"ğ”ˆ",efr:"ğ”¢",eg:"âªš",Egrave:"Ãˆ",egrave:"Ã¨",egs:"âª–",egsdot:"âª˜",el:"âª™",Element:"âˆˆ",elinters:"â§",ell:"â„“",els:"âª•",elsdot:"âª—",Emacr:"Ä’",emacr:"Ä“",empty:"âˆ…",emptyset:"âˆ…",EmptySmallSquare:"â—»",emptyv:"âˆ…",EmptyVerySmallSquare:"â–«",emsp13:"â€„",emsp14:"â€…",emsp:"â€ƒ",ENG:"ÅŠ",eng:"Å‹",ensp:"â€‚",Eogon:"Ä˜",eogon:"Ä™",Eopf:"ğ”¼",eopf:"ğ•–",epar:"â‹•",eparsl:"â§£",eplus:"â©±",epsi:"Îµ",Epsilon:"Î•",epsilon:"Îµ",epsiv:"Ïµ",eqcirc:"â‰–",eqcolon:"â‰•",eqsim:"â‰‚",eqslantgtr:"âª–",eqslantless:"âª•",Equal:"â©µ",equals:"=",EqualTilde:"â‰‚",equest:"â‰Ÿ",Equilibrium:"â‡Œ",equiv:"â‰¡",equivDD:"â©¸",eqvparsl:"â§¥",erarr:"â¥±",erDot:"â‰“",escr:"â„¯",Escr:"â„°",esdot:"â‰",Esim:"â©³",esim:"â‰‚",Eta:"Î—",eta:"Î·",ETH:"Ã",eth:"Ã°",Euml:"Ã‹",euml:"Ã«",euro:"â‚¬",excl:"!",exist:"âˆƒ",Exists:"âˆƒ",expectation:"â„°",exponentiale:"â…‡",ExponentialE:"â…‡",fallingdotseq:"â‰’",Fcy:"Ğ¤",fcy:"Ñ„",female:"â™€",ffilig:"ï¬ƒ",fflig:"ï¬€",ffllig:"ï¬„",Ffr:"ğ”‰",ffr:"ğ”£",filig:"ï¬",FilledSmallSquare:"â—¼",FilledVerySmallSquare:"â–ª",fjlig:"fj",flat:"â™­",fllig:"ï¬‚",fltns:"â–±",fnof:"Æ’",Fopf:"ğ”½",fopf:"ğ•—",forall:"âˆ€",ForAll:"âˆ€",fork:"â‹”",forkv:"â«™",Fouriertrf:"â„±",fpartint:"â¨",frac12:"Â½",frac13:"â…“",frac14:"Â¼",frac15:"â…•",frac16:"â…™",frac18:"â…›",frac23:"â…”",frac25:"â…–",frac34:"Â¾",frac35:"â…—",frac38:"â…œ",frac45:"â…˜",frac56:"â…š",frac58:"â…",frac78:"â…",frasl:"â„",frown:"âŒ¢",fscr:"ğ’»",Fscr:"â„±",gacute:"Çµ",Gamma:"Î“",gamma:"Î³",Gammad:"Ïœ",gammad:"Ï",gap:"âª†",Gbreve:"Ä",gbreve:"ÄŸ",Gcedil:"Ä¢",Gcirc:"Äœ",gcirc:"Ä",Gcy:"Ğ“",gcy:"Ğ³",Gdot:"Ä ",gdot:"Ä¡",ge:"â‰¥",gE:"â‰§",gEl:"âªŒ",gel:"â‹›",geq:"â‰¥",geqq:"â‰§",geqslant:"â©¾",gescc:"âª©",ges:"â©¾",gesdot:"âª€",gesdoto:"âª‚",gesdotol:"âª„",gesl:"â‹›ï¸€",gesles:"âª”",Gfr:"ğ”Š",gfr:"ğ”¤",gg:"â‰«",Gg:"â‹™",ggg:"â‹™",gimel:"â„·",GJcy:"Ğƒ",gjcy:"Ñ“",gla:"âª¥",gl:"â‰·",glE:"âª’",glj:"âª¤",gnap:"âªŠ",gnapprox:"âªŠ",gne:"âªˆ",gnE:"â‰©",gneq:"âªˆ",gneqq:"â‰©",gnsim:"â‹§",Gopf:"ğ”¾",gopf:"ğ•˜",grave:"`",GreaterEqual:"â‰¥",GreaterEqualLess:"â‹›",GreaterFullEqual:"â‰§",GreaterGreater:"âª¢",GreaterLess:"â‰·",GreaterSlantEqual:"â©¾",GreaterTilde:"â‰³",Gscr:"ğ’¢",gscr:"â„Š",gsim:"â‰³",gsime:"âª",gsiml:"âª",gtcc:"âª§",gtcir:"â©º",gt:">",GT:">",Gt:"â‰«",gtdot:"â‹—",gtlPar:"â¦•",gtquest:"â©¼",gtrapprox:"âª†",gtrarr:"â¥¸",gtrdot:"â‹—",gtreqless:"â‹›",gtreqqless:"âªŒ",gtrless:"â‰·",gtrsim:"â‰³",gvertneqq:"â‰©ï¸€",gvnE:"â‰©ï¸€",Hacek:"Ë‡",hairsp:"â€Š",half:"Â½",hamilt:"â„‹",HARDcy:"Ğª",hardcy:"ÑŠ",harrcir:"â¥ˆ",harr:"â†”",hArr:"â‡”",harrw:"â†­",Hat:"^",hbar:"â„",Hcirc:"Ä¤",hcirc:"Ä¥",hearts:"â™¥",heartsuit:"â™¥",hellip:"â€¦",hercon:"âŠ¹",hfr:"ğ”¥",Hfr:"â„Œ",HilbertSpace:"â„‹",hksearow:"â¤¥",hkswarow:"â¤¦",hoarr:"â‡¿",homtht:"âˆ»",hookleftarrow:"â†©",hookrightarrow:"â†ª",hopf:"ğ•™",Hopf:"â„",horbar:"â€•",HorizontalLine:"â”€",hscr:"ğ’½",Hscr:"â„‹",hslash:"â„",Hstrok:"Ä¦",hstrok:"Ä§",HumpDownHump:"â‰",HumpEqual:"â‰",hybull:"âƒ",hyphen:"â€",Iacute:"Ã",iacute:"Ã­",ic:"â£",Icirc:"Ã",icirc:"Ã®",Icy:"Ğ˜",icy:"Ğ¸",Idot:"Ä°",IEcy:"Ğ•",iecy:"Ğµ",iexcl:"Â¡",iff:"â‡”",ifr:"ğ”¦",Ifr:"â„‘",Igrave:"ÃŒ",igrave:"Ã¬",ii:"â…ˆ",iiiint:"â¨Œ",iiint:"âˆ­",iinfin:"â§œ",iiota:"â„©",IJlig:"Ä²",ijlig:"Ä³",Imacr:"Äª",imacr:"Ä«",image:"â„‘",ImaginaryI:"â…ˆ",imagline:"â„",imagpart:"â„‘",imath:"Ä±",Im:"â„‘",imof:"âŠ·",imped:"Æµ",Implies:"â‡’",incare:"â„…",in:"âˆˆ",infin:"âˆ",infintie:"â§",inodot:"Ä±",intcal:"âŠº",int:"âˆ«",Int:"âˆ¬",integers:"â„¤",Integral:"âˆ«",intercal:"âŠº",Intersection:"â‹‚",intlarhk:"â¨—",intprod:"â¨¼",InvisibleComma:"â£",InvisibleTimes:"â¢",IOcy:"Ğ",iocy:"Ñ‘",Iogon:"Ä®",iogon:"Ä¯",Iopf:"ğ•€",iopf:"ğ•š",Iota:"Î™",iota:"Î¹",iprod:"â¨¼",iquest:"Â¿",iscr:"ğ’¾",Iscr:"â„",isin:"âˆˆ",isindot:"â‹µ",isinE:"â‹¹",isins:"â‹´",isinsv:"â‹³",isinv:"âˆˆ",it:"â¢",Itilde:"Ä¨",itilde:"Ä©",Iukcy:"Ğ†",iukcy:"Ñ–",Iuml:"Ã",iuml:"Ã¯",Jcirc:"Ä´",jcirc:"Äµ",Jcy:"Ğ™",jcy:"Ğ¹",Jfr:"ğ”",jfr:"ğ”§",jmath:"È·",Jopf:"ğ•",jopf:"ğ•›",Jscr:"ğ’¥",jscr:"ğ’¿",Jsercy:"Ğˆ",jsercy:"Ñ˜",Jukcy:"Ğ„",jukcy:"Ñ”",Kappa:"Îš",kappa:"Îº",kappav:"Ï°",Kcedil:"Ä¶",kcedil:"Ä·",Kcy:"Ğš",kcy:"Ğº",Kfr:"ğ”",kfr:"ğ”¨",kgreen:"Ä¸",KHcy:"Ğ¥",khcy:"Ñ…",KJcy:"ĞŒ",kjcy:"Ñœ",Kopf:"ğ•‚",kopf:"ğ•œ",Kscr:"ğ’¦",kscr:"ğ“€",lAarr:"â‡š",Lacute:"Ä¹",lacute:"Äº",laemptyv:"â¦´",lagran:"â„’",Lambda:"Î›",lambda:"Î»",lang:"âŸ¨",Lang:"âŸª",langd:"â¦‘",langle:"âŸ¨",lap:"âª…",Laplacetrf:"â„’",laquo:"Â«",larrb:"â‡¤",larrbfs:"â¤Ÿ",larr:"â†",Larr:"â†",lArr:"â‡",larrfs:"â¤",larrhk:"â†©",larrlp:"â†«",larrpl:"â¤¹",larrsim:"â¥³",larrtl:"â†¢",latail:"â¤™",lAtail:"â¤›",lat:"âª«",late:"âª­",lates:"âª­ï¸€",lbarr:"â¤Œ",lBarr:"â¤",lbbrk:"â²",lbrace:"{",lbrack:"[",lbrke:"â¦‹",lbrksld:"â¦",lbrkslu:"â¦",Lcaron:"Ä½",lcaron:"Ä¾",Lcedil:"Ä»",lcedil:"Ä¼",lceil:"âŒˆ",lcub:"{",Lcy:"Ğ›",lcy:"Ğ»",ldca:"â¤¶",ldquo:"â€œ",ldquor:"â€",ldrdhar:"â¥§",ldrushar:"â¥‹",ldsh:"â†²",le:"â‰¤",lE:"â‰¦",LeftAngleBracket:"âŸ¨",LeftArrowBar:"â‡¤",leftarrow:"â†",LeftArrow:"â†",Leftarrow:"â‡",LeftArrowRightArrow:"â‡†",leftarrowtail:"â†¢",LeftCeiling:"âŒˆ",LeftDoubleBracket:"âŸ¦",LeftDownTeeVector:"â¥¡",LeftDownVectorBar:"â¥™",LeftDownVector:"â‡ƒ",LeftFloor:"âŒŠ",leftharpoondown:"â†½",leftharpoonup:"â†¼",leftleftarrows:"â‡‡",leftrightarrow:"â†”",LeftRightArrow:"â†”",Leftrightarrow:"â‡”",leftrightarrows:"â‡†",leftrightharpoons:"â‡‹",leftrightsquigarrow:"â†­",LeftRightVector:"â¥",LeftTeeArrow:"â†¤",LeftTee:"âŠ£",LeftTeeVector:"â¥š",leftthreetimes:"â‹‹",LeftTriangleBar:"â§",LeftTriangle:"âŠ²",LeftTriangleEqual:"âŠ´",LeftUpDownVector:"â¥‘",LeftUpTeeVector:"â¥ ",LeftUpVectorBar:"â¥˜",LeftUpVector:"â†¿",LeftVectorBar:"â¥’",LeftVector:"â†¼",lEg:"âª‹",leg:"â‹š",leq:"â‰¤",leqq:"â‰¦",leqslant:"â©½",lescc:"âª¨",les:"â©½",lesdot:"â©¿",lesdoto:"âª",lesdotor:"âªƒ",lesg:"â‹šï¸€",lesges:"âª“",lessapprox:"âª…",lessdot:"â‹–",lesseqgtr:"â‹š",lesseqqgtr:"âª‹",LessEqualGreater:"â‹š",LessFullEqual:"â‰¦",LessGreater:"â‰¶",lessgtr:"â‰¶",LessLess:"âª¡",lesssim:"â‰²",LessSlantEqual:"â©½",LessTilde:"â‰²",lfisht:"â¥¼",lfloor:"âŒŠ",Lfr:"ğ”",lfr:"ğ”©",lg:"â‰¶",lgE:"âª‘",lHar:"â¥¢",lhard:"â†½",lharu:"â†¼",lharul:"â¥ª",lhblk:"â–„",LJcy:"Ğ‰",ljcy:"Ñ™",llarr:"â‡‡",ll:"â‰ª",Ll:"â‹˜",llcorner:"âŒ",Lleftarrow:"â‡š",llhard:"â¥«",lltri:"â—º",Lmidot:"Ä¿",lmidot:"Å€",lmoustache:"â°",lmoust:"â°",lnap:"âª‰",lnapprox:"âª‰",lne:"âª‡",lnE:"â‰¨",lneq:"âª‡",lneqq:"â‰¨",lnsim:"â‹¦",loang:"âŸ¬",loarr:"â‡½",lobrk:"âŸ¦",longleftarrow:"âŸµ",LongLeftArrow:"âŸµ",Longleftarrow:"âŸ¸",longleftrightarrow:"âŸ·",LongLeftRightArrow:"âŸ·",Longleftrightarrow:"âŸº",longmapsto:"âŸ¼",longrightarrow:"âŸ¶",LongRightArrow:"âŸ¶",Longrightarrow:"âŸ¹",looparrowleft:"â†«",looparrowright:"â†¬",lopar:"â¦…",Lopf:"ğ•ƒ",lopf:"ğ•",loplus:"â¨­",lotimes:"â¨´",lowast:"âˆ—",lowbar:"_",LowerLeftArrow:"â†™",LowerRightArrow:"â†˜",loz:"â—Š",lozenge:"â—Š",lozf:"â§«",lpar:"(",lparlt:"â¦“",lrarr:"â‡†",lrcorner:"âŒŸ",lrhar:"â‡‹",lrhard:"â¥­",lrm:"â€",lrtri:"âŠ¿",lsaquo:"â€¹",lscr:"ğ“",Lscr:"â„’",lsh:"â†°",Lsh:"â†°",lsim:"â‰²",lsime:"âª",lsimg:"âª",lsqb:"[",lsquo:"â€˜",lsquor:"â€š",Lstrok:"Å",lstrok:"Å‚",ltcc:"âª¦",ltcir:"â©¹",lt:"<",LT:"<",Lt:"â‰ª",ltdot:"â‹–",lthree:"â‹‹",ltimes:"â‹‰",ltlarr:"â¥¶",ltquest:"â©»",ltri:"â—ƒ",ltrie:"âŠ´",ltrif:"â—‚",ltrPar:"â¦–",lurdshar:"â¥Š",luruhar:"â¥¦",lvertneqq:"â‰¨ï¸€",lvnE:"â‰¨ï¸€",macr:"Â¯",male:"â™‚",malt:"âœ ",maltese:"âœ ",Map:"â¤…",map:"â†¦",mapsto:"â†¦",mapstodown:"â†§",mapstoleft:"â†¤",mapstoup:"â†¥",marker:"â–®",mcomma:"â¨©",Mcy:"Ğœ",mcy:"Ğ¼",mdash:"â€”",mDDot:"âˆº",measuredangle:"âˆ¡",MediumSpace:"âŸ",Mellintrf:"â„³",Mfr:"ğ”",mfr:"ğ”ª",mho:"â„§",micro:"Âµ",midast:"*",midcir:"â«°",mid:"âˆ£",middot:"Â·",minusb:"âŠŸ",minus:"âˆ’",minusd:"âˆ¸",minusdu:"â¨ª",MinusPlus:"âˆ“",mlcp:"â«›",mldr:"â€¦",mnplus:"âˆ“",models:"âŠ§",Mopf:"ğ•„",mopf:"ğ•",mp:"âˆ“",mscr:"ğ“‚",Mscr:"â„³",mstpos:"âˆ¾",Mu:"Îœ",mu:"Î¼",multimap:"âŠ¸",mumap:"âŠ¸",nabla:"âˆ‡",Nacute:"Åƒ",nacute:"Å„",nang:"âˆ âƒ’",nap:"â‰‰",napE:"â©°Ì¸",napid:"â‰‹Ì¸",napos:"Å‰",napprox:"â‰‰",natural:"â™®",naturals:"â„•",natur:"â™®",nbsp:"Â ",nbump:"â‰Ì¸",nbumpe:"â‰Ì¸",ncap:"â©ƒ",Ncaron:"Å‡",ncaron:"Åˆ",Ncedil:"Å…",ncedil:"Å†",ncong:"â‰‡",ncongdot:"â©­Ì¸",ncup:"â©‚",Ncy:"Ğ",ncy:"Ğ½",ndash:"â€“",nearhk:"â¤¤",nearr:"â†—",neArr:"â‡—",nearrow:"â†—",ne:"â‰ ",nedot:"â‰Ì¸",NegativeMediumSpace:"â€‹",NegativeThickSpace:"â€‹",NegativeThinSpace:"â€‹",NegativeVeryThinSpace:"â€‹",nequiv:"â‰¢",nesear:"â¤¨",nesim:"â‰‚Ì¸",NestedGreaterGreater:"â‰«",NestedLessLess:"â‰ª",NewLine:"\n",nexist:"âˆ„",nexists:"âˆ„",Nfr:"ğ”‘",nfr:"ğ”«",ngE:"â‰§Ì¸",nge:"â‰±",ngeq:"â‰±",ngeqq:"â‰§Ì¸",ngeqslant:"â©¾Ì¸",nges:"â©¾Ì¸",nGg:"â‹™Ì¸",ngsim:"â‰µ",nGt:"â‰«âƒ’",ngt:"â‰¯",ngtr:"â‰¯",nGtv:"â‰«Ì¸",nharr:"â†®",nhArr:"â‡",nhpar:"â«²",ni:"âˆ‹",nis:"â‹¼",nisd:"â‹º",niv:"âˆ‹",NJcy:"ĞŠ",njcy:"Ñš",nlarr:"â†š",nlArr:"â‡",nldr:"â€¥",nlE:"â‰¦Ì¸",nle:"â‰°",nleftarrow:"â†š",nLeftarrow:"â‡",nleftrightarrow:"â†®",nLeftrightarrow:"â‡",nleq:"â‰°",nleqq:"â‰¦Ì¸",nleqslant:"â©½Ì¸",nles:"â©½Ì¸",nless:"â‰®",nLl:"â‹˜Ì¸",nlsim:"â‰´",nLt:"â‰ªâƒ’",nlt:"â‰®",nltri:"â‹ª",nltrie:"â‹¬",nLtv:"â‰ªÌ¸",nmid:"âˆ¤",NoBreak:"â ",NonBreakingSpace:"Â ",nopf:"ğ•Ÿ",Nopf:"â„•",Not:"â«¬",not:"Â¬",NotCongruent:"â‰¢",NotCupCap:"â‰­",NotDoubleVerticalBar:"âˆ¦",NotElement:"âˆ‰",NotEqual:"â‰ ",NotEqualTilde:"â‰‚Ì¸",NotExists:"âˆ„",NotGreater:"â‰¯",NotGreaterEqual:"â‰±",NotGreaterFullEqual:"â‰§Ì¸",NotGreaterGreater:"â‰«Ì¸",NotGreaterLess:"â‰¹",NotGreaterSlantEqual:"â©¾Ì¸",NotGreaterTilde:"â‰µ",NotHumpDownHump:"â‰Ì¸",NotHumpEqual:"â‰Ì¸",notin:"âˆ‰",notindot:"â‹µÌ¸",notinE:"â‹¹Ì¸",notinva:"âˆ‰",notinvb:"â‹·",notinvc:"â‹¶",NotLeftTriangleBar:"â§Ì¸",NotLeftTriangle:"â‹ª",NotLeftTriangleEqual:"â‹¬",NotLess:"â‰®",NotLessEqual:"â‰°",NotLessGreater:"â‰¸",NotLessLess:"â‰ªÌ¸",NotLessSlantEqual:"â©½Ì¸",NotLessTilde:"â‰´",NotNestedGreaterGreater:"âª¢Ì¸",NotNestedLessLess:"âª¡Ì¸",notni:"âˆŒ",notniva:"âˆŒ",notnivb:"â‹¾",notnivc:"â‹½",NotPrecedes:"âŠ€",NotPrecedesEqual:"âª¯Ì¸",NotPrecedesSlantEqual:"â‹ ",NotReverseElement:"âˆŒ",NotRightTriangleBar:"â§Ì¸",NotRightTriangle:"â‹«",NotRightTriangleEqual:"â‹­",NotSquareSubset:"âŠÌ¸",NotSquareSubsetEqual:"â‹¢",NotSquareSuperset:"âŠÌ¸",NotSquareSupersetEqual:"â‹£",NotSubset:"âŠ‚âƒ’",NotSubsetEqual:"âŠˆ",NotSucceeds:"âŠ",NotSucceedsEqual:"âª°Ì¸",NotSucceedsSlantEqual:"â‹¡",NotSucceedsTilde:"â‰¿Ì¸",NotSuperset:"âŠƒâƒ’",NotSupersetEqual:"âŠ‰",NotTilde:"â‰",NotTildeEqual:"â‰„",NotTildeFullEqual:"â‰‡",NotTildeTilde:"â‰‰",NotVerticalBar:"âˆ¤",nparallel:"âˆ¦",npar:"âˆ¦",nparsl:"â«½âƒ¥",npart:"âˆ‚Ì¸",npolint:"â¨”",npr:"âŠ€",nprcue:"â‹ ",nprec:"âŠ€",npreceq:"âª¯Ì¸",npre:"âª¯Ì¸",nrarrc:"â¤³Ì¸",nrarr:"â†›",nrArr:"â‡",nrarrw:"â†Ì¸",nrightarrow:"â†›",nRightarrow:"â‡",nrtri:"â‹«",nrtrie:"â‹­",nsc:"âŠ",nsccue:"â‹¡",nsce:"âª°Ì¸",Nscr:"ğ’©",nscr:"ğ“ƒ",nshortmid:"âˆ¤",nshortparallel:"âˆ¦",nsim:"â‰",nsime:"â‰„",nsimeq:"â‰„",nsmid:"âˆ¤",nspar:"âˆ¦",nsqsube:"â‹¢",nsqsupe:"â‹£",nsub:"âŠ„",nsubE:"â«…Ì¸",nsube:"âŠˆ",nsubset:"âŠ‚âƒ’",nsubseteq:"âŠˆ",nsubseteqq:"â«…Ì¸",nsucc:"âŠ",nsucceq:"âª°Ì¸",nsup:"âŠ…",nsupE:"â«†Ì¸",nsupe:"âŠ‰",nsupset:"âŠƒâƒ’",nsupseteq:"âŠ‰",nsupseteqq:"â«†Ì¸",ntgl:"â‰¹",Ntilde:"Ã‘",ntilde:"Ã±",ntlg:"â‰¸",ntriangleleft:"â‹ª",ntrianglelefteq:"â‹¬",ntriangleright:"â‹«",ntrianglerighteq:"â‹­",Nu:"Î",nu:"Î½",num:"#",numero:"â„–",numsp:"â€‡",nvap:"â‰âƒ’",nvdash:"âŠ¬",nvDash:"âŠ­",nVdash:"âŠ®",nVDash:"âŠ¯",nvge:"â‰¥âƒ’",nvgt:">âƒ’",nvHarr:"â¤„",nvinfin:"â§",nvlArr:"â¤‚",nvle:"â‰¤âƒ’",nvlt:"<âƒ’",nvltrie:"âŠ´âƒ’",nvrArr:"â¤ƒ",nvrtrie:"âŠµâƒ’",nvsim:"âˆ¼âƒ’",nwarhk:"â¤£",nwarr:"â†–",nwArr:"â‡–",nwarrow:"â†–",nwnear:"â¤§",Oacute:"Ã“",oacute:"Ã³",oast:"âŠ›",Ocirc:"Ã”",ocirc:"Ã´",ocir:"âŠš",Ocy:"Ğ",ocy:"Ğ¾",odash:"âŠ",Odblac:"Å",odblac:"Å‘",odiv:"â¨¸",odot:"âŠ™",odsold:"â¦¼",OElig:"Å’",oelig:"Å“",ofcir:"â¦¿",Ofr:"ğ”’",ofr:"ğ”¬",ogon:"Ë›",Ograve:"Ã’",ograve:"Ã²",ogt:"â§",ohbar:"â¦µ",ohm:"Î©",oint:"âˆ®",olarr:"â†º",olcir:"â¦¾",olcross:"â¦»",oline:"â€¾",olt:"â§€",Omacr:"ÅŒ",omacr:"Å",Omega:"Î©",omega:"Ï‰",Omicron:"ÎŸ",omicron:"Î¿",omid:"â¦¶",ominus:"âŠ–",Oopf:"ğ•†",oopf:"ğ• ",opar:"â¦·",OpenCurlyDoubleQuote:"â€œ",OpenCurlyQuote:"â€˜",operp:"â¦¹",oplus:"âŠ•",orarr:"â†»",Or:"â©”",or:"âˆ¨",ord:"â©",order:"â„´",orderof:"â„´",ordf:"Âª",ordm:"Âº",origof:"âŠ¶",oror:"â©–",orslope:"â©—",orv:"â©›",oS:"â“ˆ",Oscr:"ğ’ª",oscr:"â„´",Oslash:"Ã˜",oslash:"Ã¸",osol:"âŠ˜",Otilde:"Ã•",otilde:"Ãµ",otimesas:"â¨¶",Otimes:"â¨·",otimes:"âŠ—",Ouml:"Ã–",ouml:"Ã¶",ovbar:"âŒ½",OverBar:"â€¾",OverBrace:"â",OverBracket:"â´",OverParenthesis:"âœ",para:"Â¶",parallel:"âˆ¥",par:"âˆ¥",parsim:"â«³",parsl:"â«½",part:"âˆ‚",PartialD:"âˆ‚",Pcy:"ĞŸ",pcy:"Ğ¿",percnt:"%",period:".",permil:"â€°",perp:"âŠ¥",pertenk:"â€±",Pfr:"ğ”“",pfr:"ğ”­",Phi:"Î¦",phi:"Ï†",phiv:"Ï•",phmmat:"â„³",phone:"â˜",Pi:"Î ",pi:"Ï€",pitchfork:"â‹”",piv:"Ï–",planck:"â„",planckh:"â„",plankv:"â„",plusacir:"â¨£",plusb:"âŠ",pluscir:"â¨¢",plus:"+",plusdo:"âˆ”",plusdu:"â¨¥",pluse:"â©²",PlusMinus:"Â±",plusmn:"Â±",plussim:"â¨¦",plustwo:"â¨§",pm:"Â±",Poincareplane:"â„Œ",pointint:"â¨•",popf:"ğ•¡",Popf:"â„™",pound:"Â£",prap:"âª·",Pr:"âª»",pr:"â‰º",prcue:"â‰¼",precapprox:"âª·",prec:"â‰º",preccurlyeq:"â‰¼",Precedes:"â‰º",PrecedesEqual:"âª¯",PrecedesSlantEqual:"â‰¼",PrecedesTilde:"â‰¾",preceq:"âª¯",precnapprox:"âª¹",precneqq:"âªµ",precnsim:"â‹¨",pre:"âª¯",prE:"âª³",precsim:"â‰¾",prime:"â€²",Prime:"â€³",primes:"â„™",prnap:"âª¹",prnE:"âªµ",prnsim:"â‹¨",prod:"âˆ",Product:"âˆ",profalar:"âŒ®",profline:"âŒ’",profsurf:"âŒ“",prop:"âˆ",Proportional:"âˆ",Proportion:"âˆ·",propto:"âˆ",prsim:"â‰¾",prurel:"âŠ°",Pscr:"ğ’«",pscr:"ğ“…",Psi:"Î¨",psi:"Ïˆ",puncsp:"â€ˆ",Qfr:"ğ””",qfr:"ğ”®",qint:"â¨Œ",qopf:"ğ•¢",Qopf:"â„š",qprime:"â—",Qscr:"ğ’¬",qscr:"ğ“†",quaternions:"â„",quatint:"â¨–",quest:"?",questeq:"â‰Ÿ",quot:'"',QUOT:'"',rAarr:"â‡›",race:"âˆ½Ì±",Racute:"Å”",racute:"Å•",radic:"âˆš",raemptyv:"â¦³",rang:"âŸ©",Rang:"âŸ«",rangd:"â¦’",range:"â¦¥",rangle:"âŸ©",raquo:"Â»",rarrap:"â¥µ",rarrb:"â‡¥",rarrbfs:"â¤ ",rarrc:"â¤³",rarr:"â†’",Rarr:"â† ",rArr:"â‡’",rarrfs:"â¤",rarrhk:"â†ª",rarrlp:"â†¬",rarrpl:"â¥…",rarrsim:"â¥´",Rarrtl:"â¤–",rarrtl:"â†£",rarrw:"â†",ratail:"â¤š",rAtail:"â¤œ",ratio:"âˆ¶",rationals:"â„š",rbarr:"â¤",rBarr:"â¤",RBarr:"â¤",rbbrk:"â³",rbrace:"}",rbrack:"]",rbrke:"â¦Œ",rbrksld:"â¦",rbrkslu:"â¦",Rcaron:"Å˜",rcaron:"Å™",Rcedil:"Å–",rcedil:"Å—",rceil:"âŒ‰",rcub:"}",Rcy:"Ğ ",rcy:"Ñ€",rdca:"â¤·",rdldhar:"â¥©",rdquo:"â€",rdquor:"â€",rdsh:"â†³",real:"â„œ",realine:"â„›",realpart:"â„œ",reals:"â„",Re:"â„œ",rect:"â–­",reg:"Â®",REG:"Â®",ReverseElement:"âˆ‹",ReverseEquilibrium:"â‡‹",ReverseUpEquilibrium:"â¥¯",rfisht:"â¥½",rfloor:"âŒ‹",rfr:"ğ”¯",Rfr:"â„œ",rHar:"â¥¤",rhard:"â‡",rharu:"â‡€",rharul:"â¥¬",Rho:"Î¡",rho:"Ï",rhov:"Ï±",RightAngleBracket:"âŸ©",RightArrowBar:"â‡¥",rightarrow:"â†’",RightArrow:"â†’",Rightarrow:"â‡’",RightArrowLeftArrow:"â‡„",rightarrowtail:"â†£",RightCeiling:"âŒ‰",RightDoubleBracket:"âŸ§",RightDownTeeVector:"â¥",RightDownVectorBar:"â¥•",RightDownVector:"â‡‚",RightFloor:"âŒ‹",rightharpoondown:"â‡",rightharpoonup:"â‡€",rightleftarrows:"â‡„",rightleftharpoons:"â‡Œ",rightrightarrows:"â‡‰",rightsquigarrow:"â†",RightTeeArrow:"â†¦",RightTee:"âŠ¢",RightTeeVector:"â¥›",rightthreetimes:"â‹Œ",RightTriangleBar:"â§",RightTriangle:"âŠ³",RightTriangleEqual:"âŠµ",RightUpDownVector:"â¥",RightUpTeeVector:"â¥œ",RightUpVectorBar:"â¥”",RightUpVector:"â†¾",RightVectorBar:"â¥“",RightVector:"â‡€",ring:"Ëš",risingdotseq:"â‰“",rlarr:"â‡„",rlhar:"â‡Œ",rlm:"â€",rmoustache:"â±",rmoust:"â±",rnmid:"â«®",roang:"âŸ­",roarr:"â‡¾",robrk:"âŸ§",ropar:"â¦†",ropf:"ğ•£",Ropf:"â„",roplus:"â¨®",rotimes:"â¨µ",RoundImplies:"â¥°",rpar:")",rpargt:"â¦”",rppolint:"â¨’",rrarr:"â‡‰",Rrightarrow:"â‡›",rsaquo:"â€º",rscr:"ğ“‡",Rscr:"â„›",rsh:"â†±",Rsh:"â†±",rsqb:"]",rsquo:"â€™",rsquor:"â€™",rthree:"â‹Œ",rtimes:"â‹Š",rtri:"â–¹",rtrie:"âŠµ",rtrif:"â–¸",rtriltri:"â§",RuleDelayed:"â§´",ruluhar:"â¥¨",rx:"â„",Sacute:"Åš",sacute:"Å›",sbquo:"â€š",scap:"âª¸",Scaron:"Å ",scaron:"Å¡",Sc:"âª¼",sc:"â‰»",sccue:"â‰½",sce:"âª°",scE:"âª´",Scedil:"Å",scedil:"ÅŸ",Scirc:"Åœ",scirc:"Å",scnap:"âªº",scnE:"âª¶",scnsim:"â‹©",scpolint:"â¨“",scsim:"â‰¿",Scy:"Ğ¡",scy:"Ñ",sdotb:"âŠ¡",sdot:"â‹…",sdote:"â©¦",searhk:"â¤¥",searr:"â†˜",seArr:"â‡˜",searrow:"â†˜",sect:"Â§",semi:";",seswar:"â¤©",setminus:"âˆ–",setmn:"âˆ–",sext:"âœ¶",Sfr:"ğ”–",sfr:"ğ”°",sfrown:"âŒ¢",sharp:"â™¯",SHCHcy:"Ğ©",shchcy:"Ñ‰",SHcy:"Ğ¨",shcy:"Ñˆ",ShortDownArrow:"â†“",ShortLeftArrow:"â†",shortmid:"âˆ£",shortparallel:"âˆ¥",ShortRightArrow:"â†’",ShortUpArrow:"â†‘",shy:"Â­",Sigma:"Î£",sigma:"Ïƒ",sigmaf:"Ï‚",sigmav:"Ï‚",sim:"âˆ¼",simdot:"â©ª",sime:"â‰ƒ",simeq:"â‰ƒ",simg:"âª",simgE:"âª ",siml:"âª",simlE:"âªŸ",simne:"â‰†",simplus:"â¨¤",simrarr:"â¥²",slarr:"â†",SmallCircle:"âˆ˜",smallsetminus:"âˆ–",smashp:"â¨³",smeparsl:"â§¤",smid:"âˆ£",smile:"âŒ£",smt:"âªª",smte:"âª¬",smtes:"âª¬ï¸€",SOFTcy:"Ğ¬",softcy:"ÑŒ",solbar:"âŒ¿",solb:"â§„",sol:"/",Sopf:"ğ•Š",sopf:"ğ•¤",spades:"â™ ",spadesuit:"â™ ",spar:"âˆ¥",sqcap:"âŠ“",sqcaps:"âŠ“ï¸€",sqcup:"âŠ”",sqcups:"âŠ”ï¸€",Sqrt:"âˆš",sqsub:"âŠ",sqsube:"âŠ‘",sqsubset:"âŠ",sqsubseteq:"âŠ‘",sqsup:"âŠ",sqsupe:"âŠ’",sqsupset:"âŠ",sqsupseteq:"âŠ’",square:"â–¡",Square:"â–¡",SquareIntersection:"âŠ“",SquareSubset:"âŠ",SquareSubsetEqual:"âŠ‘",SquareSuperset:"âŠ",SquareSupersetEqual:"âŠ’",SquareUnion:"âŠ”",squarf:"â–ª",squ:"â–¡",squf:"â–ª",srarr:"â†’",Sscr:"ğ’®",sscr:"ğ“ˆ",ssetmn:"âˆ–",ssmile:"âŒ£",sstarf:"â‹†",Star:"â‹†",star:"â˜†",starf:"â˜…",straightepsilon:"Ïµ",straightphi:"Ï•",strns:"Â¯",sub:"âŠ‚",Sub:"â‹",subdot:"âª½",subE:"â«…",sube:"âŠ†",subedot:"â«ƒ",submult:"â«",subnE:"â«‹",subne:"âŠŠ",subplus:"âª¿",subrarr:"â¥¹",subset:"âŠ‚",Subset:"â‹",subseteq:"âŠ†",subseteqq:"â«…",SubsetEqual:"âŠ†",subsetneq:"âŠŠ",subsetneqq:"â«‹",subsim:"â«‡",subsub:"â«•",subsup:"â«“",succapprox:"âª¸",succ:"â‰»",succcurlyeq:"â‰½",Succeeds:"â‰»",SucceedsEqual:"âª°",SucceedsSlantEqual:"â‰½",SucceedsTilde:"â‰¿",succeq:"âª°",succnapprox:"âªº",succneqq:"âª¶",succnsim:"â‹©",succsim:"â‰¿",SuchThat:"âˆ‹",sum:"âˆ‘",Sum:"âˆ‘",sung:"â™ª",sup1:"Â¹",sup2:"Â²",sup3:"Â³",sup:"âŠƒ",Sup:"â‹‘",supdot:"âª¾",supdsub:"â«˜",supE:"â«†",supe:"âŠ‡",supedot:"â«„",Superset:"âŠƒ",SupersetEqual:"âŠ‡",suphsol:"âŸ‰",suphsub:"â«—",suplarr:"â¥»",supmult:"â«‚",supnE:"â«Œ",supne:"âŠ‹",supplus:"â«€",supset:"âŠƒ",Supset:"â‹‘",supseteq:"âŠ‡",supseteqq:"â«†",supsetneq:"âŠ‹",supsetneqq:"â«Œ",supsim:"â«ˆ",supsub:"â«”",supsup:"â«–",swarhk:"â¤¦",swarr:"â†™",swArr:"â‡™",swarrow:"â†™",swnwar:"â¤ª",szlig:"ÃŸ",Tab:"\t",target:"âŒ–",Tau:"Î¤",tau:"Ï„",tbrk:"â´",Tcaron:"Å¤",tcaron:"Å¥",Tcedil:"Å¢",tcedil:"Å£",Tcy:"Ğ¢",tcy:"Ñ‚",tdot:"âƒ›",telrec:"âŒ•",Tfr:"ğ”—",tfr:"ğ”±",there4:"âˆ´",therefore:"âˆ´",Therefore:"âˆ´",Theta:"Î˜",theta:"Î¸",thetasym:"Ï‘",thetav:"Ï‘",thickapprox:"â‰ˆ",thicksim:"âˆ¼",ThickSpace:"âŸâ€Š",ThinSpace:"â€‰",thinsp:"â€‰",thkap:"â‰ˆ",thksim:"âˆ¼",THORN:"Ã",thorn:"Ã¾",tilde:"Ëœ",Tilde:"âˆ¼",TildeEqual:"â‰ƒ",TildeFullEqual:"â‰…",TildeTilde:"â‰ˆ",timesbar:"â¨±",timesb:"âŠ ",times:"Ã—",timesd:"â¨°",tint:"âˆ­",toea:"â¤¨",topbot:"âŒ¶",topcir:"â«±",top:"âŠ¤",Topf:"ğ•‹",topf:"ğ•¥",topfork:"â«š",tosa:"â¤©",tprime:"â€´",trade:"â„¢",TRADE:"â„¢",triangle:"â–µ",triangledown:"â–¿",triangleleft:"â—ƒ",trianglelefteq:"âŠ´",triangleq:"â‰œ",triangleright:"â–¹",trianglerighteq:"âŠµ",tridot:"â—¬",trie:"â‰œ",triminus:"â¨º",TripleDot:"âƒ›",triplus:"â¨¹",trisb:"â§",tritime:"â¨»",trpezium:"â¢",Tscr:"ğ’¯",tscr:"ğ“‰",TScy:"Ğ¦",tscy:"Ñ†",TSHcy:"Ğ‹",tshcy:"Ñ›",Tstrok:"Å¦",tstrok:"Å§",twixt:"â‰¬",twoheadleftarrow:"â†",twoheadrightarrow:"â† ",Uacute:"Ãš",uacute:"Ãº",uarr:"â†‘",Uarr:"â†Ÿ",uArr:"â‡‘",Uarrocir:"â¥‰",Ubrcy:"Ğ",ubrcy:"Ñ",Ubreve:"Å¬",ubreve:"Å­",Ucirc:"Ã›",ucirc:"Ã»",Ucy:"Ğ£",ucy:"Ñƒ",udarr:"â‡…",Udblac:"Å°",udblac:"Å±",udhar:"â¥®",ufisht:"â¥¾",Ufr:"ğ”˜",ufr:"ğ”²",Ugrave:"Ã™",ugrave:"Ã¹",uHar:"â¥£",uharl:"â†¿",uharr:"â†¾",uhblk:"â–€",ulcorn:"âŒœ",ulcorner:"âŒœ",ulcrop:"âŒ",ultri:"â—¸",Umacr:"Åª",umacr:"Å«",uml:"Â¨",UnderBar:"_",UnderBrace:"âŸ",UnderBracket:"âµ",UnderParenthesis:"â",Union:"â‹ƒ",UnionPlus:"âŠ",Uogon:"Å²",uogon:"Å³",Uopf:"ğ•Œ",uopf:"ğ•¦",UpArrowBar:"â¤’",uparrow:"â†‘",UpArrow:"â†‘",Uparrow:"â‡‘",UpArrowDownArrow:"â‡…",updownarrow:"â†•",UpDownArrow:"â†•",Updownarrow:"â‡•",UpEquilibrium:"â¥®",upharpoonleft:"â†¿",upharpoonright:"â†¾",uplus:"âŠ",UpperLeftArrow:"â†–",UpperRightArrow:"â†—",upsi:"Ï…",Upsi:"Ï’",upsih:"Ï’",Upsilon:"Î¥",upsilon:"Ï…",UpTeeArrow:"â†¥",UpTee:"âŠ¥",upuparrows:"â‡ˆ",urcorn:"âŒ",urcorner:"âŒ",urcrop:"âŒ",Uring:"Å®",uring:"Å¯",urtri:"â—¹",Uscr:"ğ’°",uscr:"ğ“Š",utdot:"â‹°",Utilde:"Å¨",utilde:"Å©",utri:"â–µ",utrif:"â–´",uuarr:"â‡ˆ",Uuml:"Ãœ",uuml:"Ã¼",uwangle:"â¦§",vangrt:"â¦œ",varepsilon:"Ïµ",varkappa:"Ï°",varnothing:"âˆ…",varphi:"Ï•",varpi:"Ï–",varpropto:"âˆ",varr:"â†•",vArr:"â‡•",varrho:"Ï±",varsigma:"Ï‚",varsubsetneq:"âŠŠï¸€",varsubsetneqq:"â«‹ï¸€",varsupsetneq:"âŠ‹ï¸€",varsupsetneqq:"â«Œï¸€",vartheta:"Ï‘",vartriangleleft:"âŠ²",vartriangleright:"âŠ³",vBar:"â«¨",Vbar:"â««",vBarv:"â«©",Vcy:"Ğ’",vcy:"Ğ²",vdash:"âŠ¢",vDash:"âŠ¨",Vdash:"âŠ©",VDash:"âŠ«",Vdashl:"â«¦",veebar:"âŠ»",vee:"âˆ¨",Vee:"â‹",veeeq:"â‰š",vellip:"â‹®",verbar:"|",Verbar:"â€–",vert:"|",Vert:"â€–",VerticalBar:"âˆ£",VerticalLine:"|",VerticalSeparator:"â˜",VerticalTilde:"â‰€",VeryThinSpace:"â€Š",Vfr:"ğ”™",vfr:"ğ”³",vltri:"âŠ²",vnsub:"âŠ‚âƒ’",vnsup:"âŠƒâƒ’",Vopf:"ğ•",vopf:"ğ•§",vprop:"âˆ",vrtri:"âŠ³",Vscr:"ğ’±",vscr:"ğ“‹",vsubnE:"â«‹ï¸€",vsubne:"âŠŠï¸€",vsupnE:"â«Œï¸€",vsupne:"âŠ‹ï¸€",Vvdash:"âŠª",vzigzag:"â¦š",Wcirc:"Å´",wcirc:"Åµ",wedbar:"â©Ÿ",wedge:"âˆ§",Wedge:"â‹€",wedgeq:"â‰™",weierp:"â„˜",Wfr:"ğ”š",wfr:"ğ”´",Wopf:"ğ•",wopf:"ğ•¨",wp:"â„˜",wr:"â‰€",wreath:"â‰€",Wscr:"ğ’²",wscr:"ğ“Œ",xcap:"â‹‚",xcirc:"â—¯",xcup:"â‹ƒ",xdtri:"â–½",Xfr:"ğ”›",xfr:"ğ”µ",xharr:"âŸ·",xhArr:"âŸº",Xi:"Î",xi:"Î¾",xlarr:"âŸµ",xlArr:"âŸ¸",xmap:"âŸ¼",xnis:"â‹»",xodot:"â¨€",Xopf:"ğ•",xopf:"ğ•©",xoplus:"â¨",xotime:"â¨‚",xrarr:"âŸ¶",xrArr:"âŸ¹",Xscr:"ğ’³",xscr:"ğ“",xsqcup:"â¨†",xuplus:"â¨„",xutri:"â–³",xvee:"â‹",xwedge:"â‹€",Yacute:"Ã",yacute:"Ã½",YAcy:"Ğ¯",yacy:"Ñ",Ycirc:"Å¶",ycirc:"Å·",Ycy:"Ğ«",ycy:"Ñ‹",yen:"Â¥",Yfr:"ğ”œ",yfr:"ğ”¶",YIcy:"Ğ‡",yicy:"Ñ—",Yopf:"ğ•",yopf:"ğ•ª",Yscr:"ğ’´",yscr:"ğ“",YUcy:"Ğ®",yucy:"Ñ",yuml:"Ã¿",Yuml:"Å¸",Zacute:"Å¹",zacute:"Åº",Zcaron:"Å½",zcaron:"Å¾",Zcy:"Ğ—",zcy:"Ğ·",Zdot:"Å»",zdot:"Å¼",zeetrf:"â„¨",ZeroWidthSpace:"â€‹",Zeta:"Î–",zeta:"Î¶",zfr:"ğ”·",Zfr:"â„¨",ZHcy:"Ğ–",zhcy:"Ğ¶",zigrarr:"â‡",zopf:"ğ•«",Zopf:"â„¤",Zscr:"ğ’µ",zscr:"ğ“",zwj:"â€",zwnj:"â€Œ"}},function(t,e,n){var r=n(7),i=n(5);t.exports=function(t){return i(t)&&r(t)}},function(t,e,n){var r=n(43),i=n(116),s=n(117);t.exports=function(t,e){return s(i(t,e,r),t+"")}},function(t,e){t.exports=require("events")},function(t,e,n){var r=n(263),i=n(5);t.exports=function t(e,n,s,o,a){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!=e&&n!=n:r(e,n,s,o,t,a))}},function(t,e,n){var r=n(70),i=n(264),s=n(265);function o(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}o.prototype.add=o.prototype.push=i,o.prototype.has=s,t.exports=o},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){"use strict";var r=n(23).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function t(e,n,s){if("function"==typeof n)return t(e,null,n);n||(n={}),s=function(t){var e=!1;return function(n){e||(e=!0,t.call(this,n))}}(s||i);var o=e._writableState,a=e._readableState,c=n.readable||!1!==n.readable&&e.readable,h=n.writable||!1!==n.writable&&e.writable,u=function(){e.writable||l()},l=function(){h=!1,c||s.call(e)},p=function(){c=!1,h||s.call(e)},f=function(t){s.call(e,t)},d=function(){return(!c||a&&a.ended)&&(!h||o&&o.ended)?void 0:s.call(e,new r)},g=function(){e.req.on("finish",l)};return function(t){return t.setHeader&&"function"==typeof t.abort}(e)?(e.on("complete",l),e.on("abort",d),e.req?g():e.on("request",g)):h&&!o&&(e.on("end",u),e.on("close",u)),e.on("end",p),e.on("finish",l),!1!==n.error&&e.on("error",f),e.on("close",d),function(){e.removeListener("complete",l),e.removeListener("abort",d),e.removeListener("request",g),e.req&&e.req.removeListener("finish",l),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",l),e.removeListener("end",p),e.removeListener("error",f),e.removeListener("close",d)}}},function(t,e,n){var r=n(302);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},function(t,e,n){const r=n(55),i=n(20),s=n(35);t.exports=class extends s{getContent(){return this.content}isEmpty(){if(this.content)for(const t of Object.values(this.content))if(t)return!1;return!0}hasDifferentContent(t){return!r(this.content,t)}hasDifferentProperty(t,e){return!r(this.content[t],e)}serialize(){return this.content}deserialize(t={}){this.content=i(t)}}},function(t,e,n){var r=n(0),i=n(42);t.exports=function(t){t=t?flagsCache[t]||createFlags(t):{};var e,n,s,o,a,c,h=[],u=[],l=function(e){var n,s,o;for(n=0,s=e.length;n<s;n++)o=e[n],r(o)?l(o):i(o)&&(t.unique&&f.has(o)||h.push(o))},p=function(r,i){for(i=i||[],e=!t.memory||[r,i],n=!0,s=!0,c=o||0,o=0,a=h.length;h&&c<a;c++)if(!1===h[c].apply(r,i)&&t.stopOnFalse){e=!0;break}s=!1,h&&(t.once?!0===e?f.disable():h=[]:u&&u.length&&(e=u.shift(),f.fireWith(e[0],e[1])))},f={add:function(){if(h){var t=h.length;l(arguments),s?a=h.length:e&&!0!==e&&(o=t,p(e[0],e[1]))}return this},remove:function(){if(h)for(var e=arguments,n=0,r=e.length;n<r;n++)for(var i=0;i<h.length&&(e[n]!==h[i]||(s&&i<=a&&(a--,i<=c&&c--),h.splice(i--,1),!t.unique));i++);return this},has:function(t){if(h)for(var e=0,n=h.length;e<n;e++)if(t===h[e])return!0;return!1},empty:function(){return h=[],this},disable:function(){return h=u=e=void 0,this},disabled:function(){return!h},lock:function(){return u=void 0,e&&!0!==e||f.disable(),this},locked:function(){return!u},fireWith:function(n,r){return u&&(s?t.once||u.push([n,r]):t.once&&e||p(n,r)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!n}};return f}},function(t,e){t.exports={directives:{container:{attr:"doc-container",overwritesContent:!0},editable:{attr:"doc-editable",overwritesContent:!0},html:{attr:"doc-html",overwritesContent:!0},include:{attr:"doc-include",overwritesContent:!0},link:{attr:"doc-link"},image:{attr:"doc-image"},optional:{attr:"doc-optional",modifier:!0},toggle:{attr:"doc-toggle"},style:{attr:"doc-style"}},exists(t){return!!this.directives[t]},doesOverwriteContent(t){return!!(this.directives[t]?this.directives[t].overwritesContent:void 0)}}},function(t,e){var n,r;n=Object.prototype.toString,t.exports=r={isObject:function(t){return"object"===typeof t&&!!t&&!this.isArray(t)},isBoolean:function(t){return!0===t||!1===t||"[object Boolean]"===n.call(t)}},["Function","String","Number","Date","RegExp","Array"].forEach(function(t){return r["is"+t]=function(e){return n.call(e)==="[object "+t+"]"}}),Array.isArray&&(r.isArray=Array.isArray)},function(t,e){t.exports=function(t){return/[()]/.test(t)?`'${t}'`:t}},function(t,e,n){const r=n(1),i=n(6);t.exports={for:function(t){const e=r(i,t);if(!e)throw new Error(`Default configuration for '${t}' not set`);return{config:e,getWidths:function(t){return s(this.config,"srcSet","widths",t)},getSizes:function(t){return s(this.config,"srcSet","sizes",t)},getDefaultWidth:function(t){return s(this.config,"srcSet","defaultWidth",t)},getBgImageMaxWidth:function(t){return s(this.config,"backgroundImage","maxWidth",t)}}}};const s=function(t,e,n,r){if(r.hasOwnProperty(e)){if(r[e].hasOwnProperty(n))return r[e][n]}let i;try{i=t[e][n]}catch(t){throw new Error(`PropertyName '${n}' for '${e}' not found`)}return i}},function(t,e,n){const r=n(173),i=n(67),s=n(20),o=n(231),a=n(232),c=n(53);function h(t,e,n){if(e)if(e.modifiesClassAttribute()){const r=e.cssClassChanges(n);r.remove&&r.remove.forEach(e=>{t.removeClass(e)}),t.addClass(r.add)}else t.css(e.cssPropertyName,n||"")}t.exports=class{static renderComponent(t,e,n,r){null==e&&(e={});const i=this.renderComponentDom(t,r);if("text/json"===e.format)return i;return c([i],{prettyHtml:e.prettyHtml,decodeHTML:e.decodeHtml,renderDirectiveInfo:e.renderDirectiveInfo})}static renderComponentDom(t,e){const n=this.getComponentDom(t,e),i={};return o.eachDirective([n],(t,e)=>{r(e,(e,n)=>{i[e]=t})}),this.processComponentElem(n,t),t.directives.each(t=>this.processDirective(i,t)),t.containers.each(t=>{const n=this.renderContainerDom(t,e);if(n.length){const e=i[t.name];return this.appendChildren(e,n)}}),n}static getComponentDom(t,e){const n=t.getSkin();return s(n.dom[0])}static renderContainerDom(t,e){const n=[];return t.nestedTree&&(t=t.nestedTree),t.children(t=>{n.push(this.renderComponentDom(t,e))}),n}static processComponentElem(t,e){if(e.styles){const n=new a(t);for(const t in e.styles){const r=e.styles[t];h(n,e.structure.styles[t],r)}}}static processDirective(t,e){const n=t[e.name];switch(e.type){case"editable":this.processEditable(n,e);break;case"image":this.processImage(n,e);break;case"html":this.processHtml(n,e);break;case"include":this.processInclude(n,e);break;case"link":this.processLink(n,e);break;case"toggle":this.processToggle(n,e);break;case"style":this.processStyle(n,e)}}static processEditable(t,e){if(e.optional&&e.isEmpty())return void(t.doNotRender=!0);const n=e.getContent();t.children=[{type:"text",data:n}]}static processImage(t,e){if(e.isInlineImage()&&!e.getUrl()&&!e.isTemporaryImage())return void(t.doNotRender=!0);const n=e.getImageService(),r=new a(t);n.set(r,e)}static processHtml(t,e){const n=e.getContent();this.appendHtml(t,n)}static processInclude(t,e){e.isResolved()?this.appendHtml(t,e.resolvedValue):this.renderIncludePlaceholder(t,e)}static appendHtml(t,e){t.children=[{type:"text",data:e}]}static renderIncludePlaceholder(t,e){const n=e.getService(),r=e.getParams(),s=o.createElem("ld-include",{"data-include-service":n}),c=new a(s);if(!i(r)){const t=o.escapeAttributeData(r);c.attr("data-include-params",t)}t.children=[s]}static processLink(t,e){const n=e.getContent(),r=new a(t);n?r.attr("href",n):r.removeAttr("href")}static processToggle(t,e){!1===e.getContent()&&(t.doNotRender=!0)}static processStyle(t,e){const n=e.getContent(),r=new a(t);for(const t in n){const i=n[t];h(r,e.getStyleConfig(t),i)}}static appendChildren(t,e){t.children=e}}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(175)();t.exports=r},function(t,e,n){var r=n(176),i=n(29),s=n(0),o=n(30),a=n(31),c=n(41),h=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=s(t),u=!n&&i(t),l=!n&&!u&&o(t),p=!n&&!u&&!l&&c(t),f=n||u||l||p,d=f?r(t.length,String):[],g=d.length;for(var m in t)!e&&!h.call(t,m)||f&&("length"==m||l&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||a(m,g))||d.push(m);return d}},function(t,e){var n="object"==typeof global&&global&&global.Object===Object&&global;t.exports=n},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var r=n(16),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e,n){(function(t){var r=n(9),i="object"==typeof e&&e&&!e.nodeType&&e,s=i&&"object"==typeof t&&t&&!t.nodeType&&t,o=s&&s.exports===i?r.Buffer:void 0,a=o?o.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=a?a(n):new t.constructor(n);return t.copy(r),r}}).call(e,n(63)(t))},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(73),i=n(74),s=n(72),o=n(105),a=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,s(t)),t=i(t);return e}:o;t.exports=a},function(t,e,n){var r=n(108),i=n(72),s=n(11);t.exports=function(t){return r(t,s,i)}},function(t,e,n){var r=n(73),i=n(0);t.exports=function(t,e,n){var s=e(t);return i(t)?s:r(s,n(t))}},function(t,e,n){var r=n(9).Uint8Array;t.exports=r},function(t,e,n){var r=n(76);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(226),i=n(74),s=n(33);t.exports=function(t){return"function"!=typeof t.constructor||s(t)?{}:r(i(t))}},function(t,e,n){var r=n(51),i=n(113),s=n(21);t.exports=function(t,e,n){for(var o=-1,a=e.length,c={};++o<a;){var h=e[o],u=r(t,h);n(u,h)&&i(c,s(h,t),u)}return c}},function(t,e,n){var r=n(49),i=n(21),s=n(31),o=n(8),a=n(22);t.exports=function(t,e,n,c){if(!o(t))return t;for(var h=-1,u=(e=i(e,t)).length,l=u-1,p=t;null!=p&&++h<u;){var f=a(e[h]),d=n;if(h!=l){var g=p[f];void 0===(d=c?c(g,f,p):void 0)&&(d=o(g)?g:s(e[h+1])?[]:{})}r(p,f,d),p=p[f]}return t}},function(t,e,n){var r=n(240),i=n(241);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e,n){var r=n(242),i=n(116),s=n(117);t.exports=function(t){return s(i(t,void 0,r),t+"")}},function(t,e,n){var r=n(245),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var s=arguments,o=-1,a=i(s.length-e,0),c=Array(a);++o<a;)c[o]=s[e+o];o=-1;for(var h=Array(e+1);++o<e;)h[o]=s[o];return h[e]=n(c),r(t,this,h)}}},function(t,e,n){var r=n(246),i=n(248)(r);t.exports=i},function(t,e){t.exports=require("assert")},function(t,e){t.exports={Aacute:"Ã",aacute:"Ã¡",Acirc:"Ã‚",acirc:"Ã¢",acute:"Â´",AElig:"Ã†",aelig:"Ã¦",Agrave:"Ã€",agrave:"Ã ",amp:"&",AMP:"&",Aring:"Ã…",aring:"Ã¥",Atilde:"Ãƒ",atilde:"Ã£",Auml:"Ã„",auml:"Ã¤",brvbar:"Â¦",Ccedil:"Ã‡",ccedil:"Ã§",cedil:"Â¸",cent:"Â¢",copy:"Â©",COPY:"Â©",curren:"Â¤",deg:"Â°",divide:"Ã·",Eacute:"Ã‰",eacute:"Ã©",Ecirc:"ÃŠ",ecirc:"Ãª",Egrave:"Ãˆ",egrave:"Ã¨",ETH:"Ã",eth:"Ã°",Euml:"Ã‹",euml:"Ã«",frac12:"Â½",frac14:"Â¼",frac34:"Â¾",gt:">",GT:">",Iacute:"Ã",iacute:"Ã­",Icirc:"Ã",icirc:"Ã®",iexcl:"Â¡",Igrave:"ÃŒ",igrave:"Ã¬",iquest:"Â¿",Iuml:"Ã",iuml:"Ã¯",laquo:"Â«",lt:"<",LT:"<",macr:"Â¯",micro:"Âµ",middot:"Â·",nbsp:"Â ",not:"Â¬",Ntilde:"Ã‘",ntilde:"Ã±",Oacute:"Ã“",oacute:"Ã³",Ocirc:"Ã”",ocirc:"Ã´",Ograve:"Ã’",ograve:"Ã²",ordf:"Âª",ordm:"Âº",Oslash:"Ã˜",oslash:"Ã¸",Otilde:"Ã•",otilde:"Ãµ",Ouml:"Ã–",ouml:"Ã¶",para:"Â¶",plusmn:"Â±",pound:"Â£",quot:'"',QUOT:'"',raquo:"Â»",reg:"Â®",REG:"Â®",sect:"Â§",shy:"Â­",sup1:"Â¹",sup2:"Â²",sup3:"Â³",szlig:"ÃŸ",THORN:"Ã",thorn:"Ã¾",times:"Ã—",Uacute:"Ãš",uacute:"Ãº",Ucirc:"Ã›",ucirc:"Ã»",Ugrave:"Ã™",ugrave:"Ã¹",uml:"Â¨",Uuml:"Ãœ",uuml:"Ã¼",Yacute:"Ã",yacute:"Ã½",yen:"Â¥",yuml:"Ã¿"}},function(t,e,n){var r=n(252);t.exports=function(t){if(t>=55296&&t<=57343||t>1114111)return"ï¿½";t in r&&(t=r[t]);var e="";t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t);return e+=String.fromCharCode(t)}},function(t,e,n){var r=n(71),i=n(34);t.exports=function(t,e,n){(void 0===n||i(t[e],n))&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(10),i=n(74),s=n(5),o="[object Object]",a=Function.prototype,c=Object.prototype,h=a.toString,u=c.hasOwnProperty,l=h.call(Object);t.exports=function(t){if(!s(t)||r(t)!=o)return!1;var e=i(t);if(null===e)return!0;var n=u.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&h.call(n)==l}},function(t,e){t.exports=function(t,e){if("__proto__"!=e)return t[e]}},function(t,e,n){var r=n(81),i=n(258);t.exports=function(t){return r(function(e,n){var r=-1,s=n.length,o=s>1?n[s-1]:void 0,a=s>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(s--,o):void 0,a&&i(n[0],n[1],a)&&(o=s<3?void 0:o,s=1),e=Object(e);++r<s;){var c=n[r];c&&t(e,c,r,o)}return e})}},function(t,e,n){"use strict";t.exports=function(t){var e=void 0;e="string"==typeof t?[t]:t.raw;for(var n="",r=0;r<e.length;r++)n+=e[r].replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`"),r<(arguments.length<=1?0:arguments.length-1)&&(n+=arguments.length<=r+1?void 0:arguments[r+1]);var i=n.split("\n"),s=null;return i.forEach(function(t){var e=t.match(/^(\s+)\S+/);if(e){var n=e[1].length;s=s?Math.min(s,n):n}}),null!==s&&(n=i.map(function(t){return" "===t[0]?t.slice(s):t}).join("\n")),(n=n.trim()).replace(/\\n/g,"\n")}},function(t,e){const n=function(){return console||(window?window.console:void 0)},r=function(t,e="error"){if("critical"===e||"error"===e)throw t||(t="no error message provided"),t instanceof Error?t:new Error(t);i(t)};function i(...t){const e=n();e&&(t.length&&"trace"===t[t.length-1]&&(t.pop(),e.trace&&e.trace()),e.log.apply(e,t))}i.debug=(t=>{if(!i.debugDisabled)return r(t,"debug")}),i.warn=(t=>{if(!i.warningsDisabled)return r(t,"warning")}),i.error=(t=>r(t,"error")),t.exports=i},function(t,e,n){const r=n(12),i=n(3),s=n(128),o=n(261),a=n(262),c=n(325),h=n(58),u=n(89);t.exports=class{constructor({content:t,design:e}={}){this.design=e,i(this.design,"new ComponentTree(): param 'design' is missing"),i(this.design instanceof h,"new ComponentTree(): param 'design' must be a Design instance"),this.componentById={},this.root=new s({isRoot:!0}),this.root.componentTree=this,t&&this.initializeContent(t,"suppressEvents"),this.initializeEvents()}prepend(t){return(t=this.getComponent(t))&&this.root.prepend(t),this}append(t){return(t=this.getComponent(t))&&this.root.append(t),this}getComponent(t){return r(t)?this.createComponent(t):t}createComponent(t,e={}){const n=this.getStructure(t);if(n){const t=n.createModel();return t.setContent(e),t}}createComponentFromJson(t){return a.fromJson(t,this.design)}getStructure(t){const e=this.design.getComponentStructure(t);return i(e,`Design ${this.design.identifier}: Could not find component '${t}'`),e}initializeEvents(){this.beforeComponentAdded=u(),this.componentAdded=u(),this.beforeComponentRemoved=u(),this.componentRemoved=u(),this.beforeComponentMoved=u(),this.componentMoved=u(),this.beforeComponentTransformed=u(),this.componentTransformed=u(),this.beforeComponentContentChanged=u(),this.componentContentChanged=u(),this.beforeComponentHtmlChanged=u(),this.componentHtmlChanged=u(),this.beforeComponentSettingsChanged=u(),this.componentSettingsChanged=u(),this.beforeComponentDataChanged=u(),this.componentDataChanged=u(),this.viewUpdateRequested=u(),this.ruleViolated=u(),this.changed=u()}getIterator(){return new c({componentTree:this})}each(t){this.root.each(t)}eachContainer(t){this.root.eachContainer(t)}children(t){this.root.children(t)}childAt(t){return this.root.childAt(t)}first(){return this.root.first}getAllComponents(){return this._componentsArrayCache?this._componentsArrayCache:(this._componentsArrayCache=[],this.each(t=>this._componentsArrayCache.push(t)),this._componentsArrayCache)}eq(t){return this.getAllComponents()[t]}indexOf(t){return this.getAllComponents().indexOf(t)}all(t){return this.root.all(t)}find(t){if("string"==typeof t){const e=[];return this.each(n=>{n.componentName===t&&e.push(n)}),new o(e)}return new o}findById(t){return this.componentById[t]}detach(){this.root.componentTree=void 0,this.each(t=>this.detachComponent(t));const t=this.root;return this.root=new s({isRoot:!0}),t}attachComponent(t){t.componentTree=this,this.componentById[t.id]=t}detachComponent(t){t.componentTree=void 0,this.componentById[t.id]=void 0}setMainView({renderer:t}){i(t,"componentTree.setMainView: view does not have an initialized renderer"),i(t.componentTree===this,"componentTree.setMainView: Cannot set renderer from different componentTree"),this.mainRenderer=t}getMainComponentView(t){return this.mainRenderer?this.mainRenderer.getComponentViewById(t):void 0}isDropAllowed(t,e){const{target:n,componentView:r,containerName:i}=e;if("root"===n)return this.root.isAllowedAsChild(t);if("component"===n){return r.model.isAllowedAsSibling(t)}if("container"===n){return r.model.isAllowedAsChild(i,t)}return!1}print(){let t="ComponentTree\n-----------\n";const e=(e,n=0)=>t+=`${Array(n+1).join(" ")}${e}\n`,n=(t,r=0)=>{const{structure:i}=t;e(`- ${i.label} (${i.name})`,r);for(const i of t.containers)e(`${i.name}:`,r+2),i.first&&n(i.first,r+4);t.next&&n(t.next,r)};return this.root.first&&n(this.root.first),t}attachingComponent(t,e){t.componentTree===this?(this.fireBeforeEvent("beforeComponentMoved",t),e(),delete this._componentsArrayCache,this.fireEvent("componentMoved",t)):(this.fireBeforeEvent("beforeComponentAdded",t),t.componentTree&&t.remove(),t.descendantsAndSelf(t=>this.attachComponent(t)),e(),delete this._componentsArrayCache,this.fireEvent("componentAdded",t))}fireEvent(t,...e){this[t].fire(...e),this.changed.fire()}fireBeforeEvent(t,...e){this[t].fire(...e)}detachingComponent(t,e){i(t.componentTree===this,"cannot remove component from another ComponentTree"),this.fireBeforeEvent("beforeComponentRemoved",t),t.descendantsAndSelf(t=>this.detachComponent(t)),e(),delete this._componentsArrayCache,this.fireEvent("componentRemoved",t)}contentChanging(t,e){this.fireEvent("componentContentChanged",t,e)}requestViewUpdate(t,e){this.fireEvent("viewUpdateRequested",t,e)}htmlChanging(t){this.fireEvent("componentHtmlChanged",t)}dataChanging(t,e){this.fireEvent("componentDataChanged",t,e)}reportViolation(t){this.fireEvent("ruleViolated",t)}serialize({omitIds:t}={}){const e={content:[]};e.design={name:this.design.name,version:this.design.version};const n=(e,r,i)=>{const s=((e,n,r)=>{const i={};t&&(i.omitId=!0);const s=e.toJson(i);return r.push(s),s})(e,0,i);for(const t of Array.from(e.containers)){const e=s.containers[t.name]=[];t.first&&n(t.first,r+1,e)}e.next&&n(e.next,r,i)};return this.root.first&&n(this.root.first,0,e.content),e}initializeContent(t,e=!0){e?function(t){this.root.componentTree=void 0,t(),this.root.componentTree=this,this.root.each(t=>this.attachComponent(t))}.call(this,()=>this.addContent(t)):this.addContent(t)}fromJson({content:t}){this.initializeContent(t)}addData(t){this.addContent(t.content)}addContent(t=[],e=this.root){for(const n of Array.from(t)){const t=a.fromJson(n,this.design);e.append(t)}}addDataWithAnimation(t,e=200){i(this.design,"Error adding data. ComponentTree has no design");let n=Number(e);for(const r of Array.from(t.content)){const t=r;setTimeout(()=>{const e=a.fromJson(t,this.design);this.root.append(e)},n),n+=Number(e)}}toData(){return this.serialize()}toJson(...t){return this.toData.apply(this,t)}}},function(t,e,n){const r=n(1),i=n(3),s=n(125);t.exports=class{constructor({parentComponent:t,name:e,isRoot:n,config:r}){this.parentComponent=t,this.name=e,this.isRoot=!!n,this.first=this.last=void 0,this.allowedChildren=void 0,this.nestedTree=void 0,this.parseConfig(r)}parseConfig(t){if(t){for(const e of Array.from(t.allowedChildren||[]))this.allowedChildren||(this.allowedChildren={}),this.allowedChildren[e]=!0;this.defaultContent=t.defaultContent,this.defaultComponents=t.defaultComponents}}isAllowedAsChild(t){if(!!!(this.isAcceptingComponents()&&this.canBeNested(t.id)&&this.compliesWithContentRules(t)))return!1;let e=!0;return t.descendants(t=>{e=e&&t.parentContainer.isAllowedAsChild(t)}),e}isValidOperation(t){return!(!this.isAcceptingComponents()||!this.canBeNested(t.id))}compliesWithContentRules(t){return!(!this.isChildAllowed(t.structure)||!this.isAllowedAsParent(t.structure))}isTypeAllowedAsChild(t){return!!t&&!(!this.isChildAllowed(t)||!this.isAllowedAsParent(t))}isAcceptingComponents(){return!this.nestedTree}canBeNested(t){let e=this.parentComponent;for(;e;){if(e.id===t)return!1;e=e.getParent()}return!0}isChildAllowed(t){return void 0===this.allowedChildren||this.allowedChildren[t.name]}isAllowedAsParent(t){const e=t.allowedParents;if(!e)return!0;const n=this.isRoot?"root":r(this.parentComponent,"componentName");for(const t of e)if(n===t)return!0;return!1}hasChildren(){return!!this.first}getComponentTree(){return this.componentTree||r(this.parentComponent,"componentTree")}prepend(t){return this.first?this.insertBefore(this.first,t):this.attachComponent(t),this}append(t){return this.parentComponent&&i(t!==this.parentComponent,"cannot append component to itself"),this.last?this.insertAfter(this.last,t):this.attachComponent(t),this}appendTree(t){if(this.first)throw new Error("a componentTree can only be appended to an empty container");this.nestedTree=t}insertBefore(t,e){if(t.previous===e)return;i(t!==e,"cannot insert component before itself");const n={previous:t.previous,next:t,parentContainer:t.parentContainer};this.attachComponent(e,n)}insertAfter(t,e){if(t.next===e)return;i(t!==e,"cannot insert component after itself");const n={previous:t,next:t.next,parentContainer:t.parentContainer};this.attachComponent(e,n)}up(t){t.previous&&this.insertBefore(t.previous,t)}down(t){t.next&&this.insertAfter(t.next,t)}remove(t){t.destroy(),this._detachComponent(t)}getNextContainer(){if(!this.parentComponent)return;const{containers:t}=this.parentComponent,e=t.getIndex(this.name);i(e>=0,"container not part of component");const n=e+1;return t.length>n?t[n]:void 0}each(t){let e=this.first;for(;e;)e.descendantsAndSelf(t),e=e.next}children(t){let e=this.first;for(;e;)t(e),e=e.next}childAt(t){let e=this.first,n=0;for(;e;){if(n===t)return e;e=e.next,n+=1}}eachContainer(t){t(this),this.each(e=>{e.containers.each(t)})}all(t){t(this),this.each(e=>{t(e),e.containers.each(t)})}getDefaultParagraph(){const t=this.getComponentTree();if(!t||!t.design)return{};const e=t.design,n=r(this.defaultComponents,"paragraph");return n?e.getDirectiveLocator({name:n,directiveType:"editable"}):e.defaultParagraph}getDefaultImage(){const t=this.getComponentTree();if(!t||!t.design)return{};const e=t.design,n=r(this.defaultComponents,"image");return n?e.getDirectiveLocator({name:n,directiveType:"image"}):e.defaultImage}attachComponent(t,e={}){i(this.isValidOperation(t),s`
      Invalid component tree operation. \
      Component '${t.componentName}' could not be inserted.`),this.compliesWithContentRules(t)||this.reportViolation({invalidChild:t});const n=this.getComponentTree(),r=()=>this.link(t,e);n?(this.insertDefaultContent(n,t),n.attachingComponent(t,r)):r()}insertDefaultContent(t,e){return!!e.insertDefaultContent&&(e.insertDefaultContent=!1,!e.componentTree&&void e.containers.each(e=>{e.defaultContent&&t.addContent(e.defaultContent,e)}))}_detachComponent(t){const e=()=>this.unlink(t),n=this.getComponentTree();n?n.detachingComponent(t,e):e()}link(t,e){t.parentContainer&&this.unlink(t),e.parentContainer||(e.parentContainer=this),this.setComponentPosition(t,e)}unlink(t){const e=t.parentContainer;e&&(t.previous||(e.first=t.next),t.next||(e.last=t.previous),t.next&&(t.next.previous=t.previous),t.previous&&(t.previous.next=t.next),this.setComponentPosition(t,{}))}setComponentPosition(t,{parentContainer:e,previous:n,next:r}){t.parentContainer=e,t.previous=n,t.next=r,e&&(n&&(n.next=t),r&&(r.previous=t),t.previous||(e.first=t),t.next||(e.last=t))}getContainerIdentifier(){return this.isRoot?"root":`${this.parentComponent.componentName}.containers.get('${this.name}')`}reportViolation({invalidChild:t}){const e=this.getComponentTree();if(e){const n={type:"invalidChild",origin:this,invalidChild:t};e.reportViolation(n)}}}},function(t,e,n){const r=n(55),i=n(20),{log:s,assert:o}=n(2),a=n(128),c=n(271),h=n(155),u=n(156),l=n(324);t.exports=class extends l{constructor({structure:t,id:e,insertDefaultContent:n}={}){super({id:e,type:"component"}),this.structure=t,this.insertDefaultContent=n,o(this.structure,"cannot instantiate component without a structure"),this.directives=new h,this.containers=new u,this.initializeDirectives(),this.styles={},this.dataValues={},this.componentName=this.structure.name}initializeDirectives(){for(const t of Array.from(this.structure.directives))switch(t.type){case"container":{const e=new a({name:t.name,parentComponent:this,config:t});this.containers.push(t.name,e);break}case"editable":case"image":case"html":case"link":case"include":case"toggle":case"style":this.createComponentDirective(t);break;default:s.error(`ComponentModel: unknown directive type '${t.type}'`)}}createComponentDirective(t){this.directives.add(c.create({component:this,structureDirective:t}))}getSkin(){return this.structure.getSkin()}createView(t){throw new Error("ComponentModel.createView is deprecated")}getMainView(){return this.componentTree.getMainComponentView(this.id)}isAllowedAsSibling(t){return this.parentContainer.isAllowedAsChild(t)}isTypeAllowedAsSibling(t){return!this.parentContainer||this.parentContainer.isTypeAllowedAsChild(t)}isAllowedAsChild(t,e){return this.containers.get(t).isAllowedAsChild(e)}append(t,e){return this.containers.get(t).append(e),this}prepend(t,e){return this.containers.get(t).prepend(e),this}getTransforms(){return this.structure.design?this.structure.design.transforms:void 0}getTransformOptions({oneWay:t,directives:e}={}){const n=this.getTransforms();if(n)return n.getOptionsList({structure:this.structure,oneWay:t,directives:e,filter:t=>this.isTypeAllowedAsSibling(t)})}transform(t){const e=this.getTransforms(),{design:n}=this.structure,r=n.getComponentStructure(t),i=e.isCompatible(this,r,{oneWay:!0});o(i.isCompatible,`Component ${this.componentName} can not be transformed into ${t}.`);const s=r.createModel({id:this.id}),a=i.mapping||{};Object.keys(a).forEach(t=>{const e=a[t],n=this.directives.get(t),r=s.directives.get(e);n.copyTo(r)});const c=this.componentTree;c.fireEvent("beforeComponentTransformed",s,this);const h=this.replaceWith(s);return c.fireEvent("componentTransformed",h),h}children(t){Array.from(this.containers||[]).forEach(e=>{let n=e.first;for(;n;)t(n),n=n.next})}childAt(t,e){return this.containers.get(t).childAt(e)}childrenAndSelf(t){t(this),this.children(t)}descendants(t){Array.from(this.containers||[]).forEach(e=>{let n=e.first;for(;n;)t(n),n.descendants(t),n=n.next})}descendantsAndSelf(t){t(this),this.descendants(t)}descendantContainers(t){this.descendantsAndSelf(e=>{Array.from(e.containers).forEach(e=>{t(e)})})}allDescendants(t){this.descendantsAndSelf(e=>{if(e!==this)return t(e);Array.from(e.containers).forEach(e=>{t(e)})})}hasContainers(){return!!this.containers.length}hasEditables(){return this.directives.count("editable")>0}hasHtml(){return this.directives.count("html")>0}hasImages(){return this.directives.count("image")>0}hasLinks(){return this.directives.count("link")>0}beforeDirectiveChanging(t){this.componentTree&&this.componentTree.fireBeforeEvent("beforeComponentContentChanged",this,t)}directiveChanging(t){this.componentTree&&this.componentTree.contentChanging(this,t)}requestDirectiveViewUpdate(t){this.componentTree&&this.componentTree.requestViewUpdate(this,t)}getContent(t){if(t){const e=this.directives.get(t);return o(e,`getContent() error: ${this.componentName} has no directive '${t}'`),e.getContent()}{const t={};return this.directives.each(e=>{t[e.name]=e.getContent()}),t}}setContent(t,e){let n=t||{};2===arguments.length&&((n={})[t]=e),Object.keys(n).forEach(t=>{const e=n[t],r=this.directives.get(t);o(r,`setContent() error: ${this.componentName} has no directive '${t}'`),r.setContent(e)})}isEmpty(t){const e=this.getContent(t);return void 0===e||""===e}data(t){if("object"!=typeof t)return t?this.dataValues[t]:this.dataValues;{let e=!1;for(const n in t){const i=t[n];r(this.dataValues[n],i)||(e=!0)}e&&this.componentTree&&this.componentTree.fireBeforeEvent("beforeComponentDataChanged",this);const n=[];for(const e in t){const r=t[e];this.changeData(e,r)&&n.push(e)}n.length>0&&this.componentTree&&this.componentTree.dataChanging(this,n)}}setData(t,e){t&&this.changeData(t,e)&&this.componentTree&&this.componentTree.dataChanging(this,[t])}getData(t){return t?this.dataValues[t]:this.dataValues}changeData(t,e){return!r(this.dataValues[t],e)&&(this.dataValues[t]=i(e),!0)}getPluginName(){if(this.plugin)return this.plugin.name}setPlugin(t){this.plugin=t}getPlugin(t){return this.plugin}getStyle(t){return this.styles[t]}setStyle(t,e){const n=this.structure.styles[t];n?n.validateValue(e)?this.styles[t]!==e&&(this.componentTree&&this.componentTree.fireBeforeEvent("beforeComponentHtmlChanged",this,"style",{name:t,value:this.styles[t]}),this.styles[t]=e,this.componentTree&&this.componentTree.htmlChanging(this,"style",{name:t,value:e})):s.warn(`Invalid value '${e}' for style '${t}' in ComponentModel ${this.componentName}`):s.warn(`Unknown style '${t}' in ComponentModel ${this.componentName}`)}copy(){s.warn("ComponentModel#copy() is not implemented yet.")}copyWithoutContent(){return this.structure.createModel()}destroy(){}set(t,e){s.warn("componentModel.set() is deprecated. Please use componentModel.setContent()."),this.setContent(t,e)}get(t){return s.warn("componentModel.get() is deprecated. Please use componentModel.getContent()."),this.getContent(t)}style(t,e){s.warn("ComponentModel.style() is deprecated. Please use #getStyle() and #setStyle()."),1===arguments.length?this.styles[t]:this.setStyle(t,e)}}},function(t,e,n){var r=n(84),i=n(266),s=n(85),o=1,a=2;t.exports=function(t,e,n,c,h,u){var l=n&o,p=t.length,f=e.length;if(p!=f&&!(l&&f>p))return!1;var d=u.get(t);if(d&&u.get(e))return d==e;var g=-1,m=!0,v=n&a?new r:void 0;for(u.set(t,e),u.set(e,t);++g<p;){var b=t[g],_=e[g];if(c)var y=l?c(_,b,g,e,t,u):c(b,_,g,t,e,u);if(void 0!==y){if(y)continue;m=!1;break}if(v){if(!i(e,function(t,e){if(!s(v,e)&&(b===t||h(b,t,n,c,u)))return v.push(e)})){m=!1;break}}else if(b!==_&&!h(b,_,n,c,u)){m=!1;break}}return u.delete(t),u.delete(e),m}},function(t,e,n){const r=n(36).Parser,i=n(297);t.exports=function(t,e){if(!t)return[];const n=new i(e),s=new r(n,{});if(s.write(t),s.done(),n.error)throw n.error;return n.dom}},function(t,e,n){var r=n(133),i={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},s={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:i,input:i,output:i,button:i,datalist:i,textarea:i,option:{option:!0},optgroup:{optgroup:!0}},o={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},a={__proto__:null,math:!0,svg:!0},c={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0,"annotation-xml":!0,foreignObject:!0,desc:!0,title:!0},h=/\s|\//;function u(t,e){this._options=e||{},this._cbs=t||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this._foreignContext=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(r=this._options.Tokenizer),this._tokenizer=new r(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}n(4)(u,n(82).EventEmitter),u.prototype._updatePosition=function(t){null===this.endIndex?this._tokenizer._sectionStart<=t?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-t:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},u.prototype.ontext=function(t){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(t)},u.prototype.onopentagname=function(t){if(this._lowerCaseTagNames&&(t=t.toLowerCase()),this._tagname=t,!this._options.xmlMode&&t in s)for(var e;(e=this._stack[this._stack.length-1])in s[t];this.onclosetag(e));!this._options.xmlMode&&t in o||(this._stack.push(t),t in a?this._foreignContext.push(!0):t in c&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(t),this._cbs.onopentag&&(this._attribs={})},u.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in o&&this._cbs.onclosetag(this._tagname),this._tagname=""},u.prototype.onclosetag=function(t){if(this._updatePosition(1),this._lowerCaseTagNames&&(t=t.toLowerCase()),!this._stack.length||t in o&&!this._options.xmlMode)this._options.xmlMode||"br"!==t&&"p"!==t||(this.onopentagname(t),this._closeCurrentTag());else{var e=this._stack.lastIndexOf(t);if(-1!==e)if(this._cbs.onclosetag)for(e=this._stack.length-e;e--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=e;else"p"!==t||this._options.xmlMode||(this.onopentagname(t),this._closeCurrentTag())}},u.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},u.prototype._closeCurrentTag=function(){var t=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===t&&(this._cbs.onclosetag&&this._cbs.onclosetag(t),this._stack.pop(),(t in a||t in c)&&this._foreignContext.pop())},u.prototype.onattribname=function(t){this._lowerCaseAttributeNames&&(t=t.toLowerCase()),this._attribname=t},u.prototype.onattribdata=function(t){this._attribvalue+=t},u.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},u.prototype._getInstructionName=function(t){var e=t.search(h),n=e<0?t:t.substr(0,e);return this._lowerCaseTagNames&&(n=n.toLowerCase()),n},u.prototype.ondeclaration=function(t){if(this._cbs.onprocessinginstruction){var e=this._getInstructionName(t);this._cbs.onprocessinginstruction("!"+e,"!"+t)}},u.prototype.onprocessinginstruction=function(t){if(this._cbs.onprocessinginstruction){var e=this._getInstructionName(t);this._cbs.onprocessinginstruction("?"+e,"?"+t)}},u.prototype.oncomment=function(t){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(t),this._cbs.oncommentend&&this._cbs.oncommentend()},u.prototype.oncdata=function(t){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(t),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+t+"]]")},u.prototype.onerror=function(t){this._cbs.onerror&&this._cbs.onerror(t)},u.prototype.onend=function(){if(this._cbs.onclosetag)for(var t=this._stack.length;t>0;this._cbs.onclosetag(this._stack[--t]));this._cbs.onend&&this._cbs.onend()},u.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},u.prototype.parseComplete=function(t){this.reset(),this.end(t)},u.prototype.write=function(t){this._tokenizer.write(t)},u.prototype.end=function(t){this._tokenizer.end(t)},u.prototype.pause=function(){this._tokenizer.pause()},u.prototype.resume=function(){this._tokenizer.resume()},u.prototype.parseChunk=u.prototype.write,u.prototype.done=u.prototype.end,t.exports=u},function(t,e,n){t.exports=mt;var r=n(120),i=n(79),s=n(119),o=n(78),a=0,c=a++,h=a++,u=a++,l=a++,p=a++,f=a++,d=a++,g=a++,m=a++,v=a++,b=a++,_=a++,y=a++,x=a++,w=a++,C=a++,S=a++,E=a++,T=a++,A=a++,k=a++,D=a++,I=a++,j=a++,M=a++,R=a++,P=a++,O=a++,N=a++,q=a++,L=a++,B=a++,U=a++,$=a++,V=a++,z=a++,H=a++,F=a++,W=a++,G=a++,J=a++,X=a++,Y=a++,Z=a++,Q=a++,K=a++,tt=a++,et=a++,nt=a++,rt=a++,it=a++,st=a++,ot=a++,at=a++,ct=a++,ht=0,ut=ht++,lt=ht++,pt=ht++;function ft(t){return" "===t||"\n"===t||"\t"===t||"\f"===t||"\r"===t}function dt(t,e,n){var r=t.toLowerCase();return t===r?function(t){t===r?this._state=e:(this._state=n,this._index--)}:function(i){i===r||i===t?this._state=e:(this._state=n,this._index--)}}function gt(t,e){var n=t.toLowerCase();return function(r){r===n||r===t?this._state=e:(this._state=u,this._index--)}}function mt(t,e){this._state=c,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=c,this._special=ut,this._cbs=e,this._running=!0,this._ended=!1,this._xmlMode=!(!t||!t.xmlMode),this._decodeEntities=!(!t||!t.decodeEntities)}mt.prototype._stateText=function(t){"<"===t?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=h,this._sectionStart=this._index):this._decodeEntities&&this._special===ut&&"&"===t&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=c,this._state=it,this._sectionStart=this._index)},mt.prototype._stateBeforeTagName=function(t){"/"===t?this._state=p:"<"===t?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===t||this._special!==ut||ft(t)?this._state=c:"!"===t?(this._state=w,this._sectionStart=this._index+1):"?"===t?(this._state=S,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==t&&"S"!==t?u:L,this._sectionStart=this._index)},mt.prototype._stateInTagName=function(t){("/"===t||">"===t||ft(t))&&(this._emitToken("onopentagname"),this._state=g,this._index--)},mt.prototype._stateBeforeCloseingTagName=function(t){ft(t)||(">"===t?this._state=c:this._special!==ut?"s"===t||"S"===t?this._state=B:(this._state=c,this._index--):(this._state=f,this._sectionStart=this._index))},mt.prototype._stateInCloseingTagName=function(t){(">"===t||ft(t))&&(this._emitToken("onclosetag"),this._state=d,this._index--)},mt.prototype._stateAfterCloseingTagName=function(t){">"===t&&(this._state=c,this._sectionStart=this._index+1)},mt.prototype._stateBeforeAttributeName=function(t){">"===t?(this._cbs.onopentagend(),this._state=c,this._sectionStart=this._index+1):"/"===t?this._state=l:ft(t)||(this._state=m,this._sectionStart=this._index)},mt.prototype._stateInSelfClosingTag=function(t){">"===t?(this._cbs.onselfclosingtag(),this._state=c,this._sectionStart=this._index+1):ft(t)||(this._state=g,this._index--)},mt.prototype._stateInAttributeName=function(t){("="===t||"/"===t||">"===t||ft(t))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=v,this._index--)},mt.prototype._stateAfterAttributeName=function(t){"="===t?this._state=b:"/"===t||">"===t?(this._cbs.onattribend(),this._state=g,this._index--):ft(t)||(this._cbs.onattribend(),this._state=m,this._sectionStart=this._index)},mt.prototype._stateBeforeAttributeValue=function(t){'"'===t?(this._state=_,this._sectionStart=this._index+1):"'"===t?(this._state=y,this._sectionStart=this._index+1):ft(t)||(this._state=x,this._sectionStart=this._index,this._index--)},mt.prototype._stateInAttributeValueDoubleQuotes=function(t){'"'===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=g):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=it,this._sectionStart=this._index)},mt.prototype._stateInAttributeValueSingleQuotes=function(t){"'"===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=g):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=it,this._sectionStart=this._index)},mt.prototype._stateInAttributeValueNoQuotes=function(t){ft(t)||">"===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=g,this._index--):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=it,this._sectionStart=this._index)},mt.prototype._stateBeforeDeclaration=function(t){this._state="["===t?D:"-"===t?E:C},mt.prototype._stateInDeclaration=function(t){">"===t&&(this._cbs.ondeclaration(this._getSection()),this._state=c,this._sectionStart=this._index+1)},mt.prototype._stateInProcessingInstruction=function(t){">"===t&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=c,this._sectionStart=this._index+1)},mt.prototype._stateBeforeComment=function(t){"-"===t?(this._state=T,this._sectionStart=this._index+1):this._state=C},mt.prototype._stateInComment=function(t){"-"===t&&(this._state=A)},mt.prototype._stateAfterComment1=function(t){this._state="-"===t?k:T},mt.prototype._stateAfterComment2=function(t){">"===t?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=c,this._sectionStart=this._index+1):"-"!==t&&(this._state=T)},mt.prototype._stateBeforeCdata1=dt("C",I,C),mt.prototype._stateBeforeCdata2=dt("D",j,C),mt.prototype._stateBeforeCdata3=dt("A",M,C),mt.prototype._stateBeforeCdata4=dt("T",R,C),mt.prototype._stateBeforeCdata5=dt("A",P,C),mt.prototype._stateBeforeCdata6=function(t){"["===t?(this._state=O,this._sectionStart=this._index+1):(this._state=C,this._index--)},mt.prototype._stateInCdata=function(t){"]"===t&&(this._state=N)},mt.prototype._stateAfterCdata1=function(t){this._state="]"===t?q:O},mt.prototype._stateAfterCdata2=function(t){">"===t?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=c,this._sectionStart=this._index+1):"]"!==t&&(this._state=O)},mt.prototype._stateBeforeSpecial=function(t){"c"===t||"C"===t?this._state=U:"t"===t||"T"===t?this._state=Y:(this._state=u,this._index--)},mt.prototype._stateBeforeSpecialEnd=function(t){this._special!==lt||"c"!==t&&"C"!==t?this._special!==pt||"t"!==t&&"T"!==t?this._state=c:this._state=tt:this._state=F},mt.prototype._stateBeforeScript1=gt("R",$),mt.prototype._stateBeforeScript2=gt("I",V),mt.prototype._stateBeforeScript3=gt("P",z),mt.prototype._stateBeforeScript4=gt("T",H),mt.prototype._stateBeforeScript5=function(t){("/"===t||">"===t||ft(t))&&(this._special=lt),this._state=u,this._index--},mt.prototype._stateAfterScript1=dt("R",W,c),mt.prototype._stateAfterScript2=dt("I",G,c),mt.prototype._stateAfterScript3=dt("P",J,c),mt.prototype._stateAfterScript4=dt("T",X,c),mt.prototype._stateAfterScript5=function(t){">"===t||ft(t)?(this._special=ut,this._state=f,this._sectionStart=this._index-6,this._index--):this._state=c},mt.prototype._stateBeforeStyle1=gt("Y",Z),mt.prototype._stateBeforeStyle2=gt("L",Q),mt.prototype._stateBeforeStyle3=gt("E",K),mt.prototype._stateBeforeStyle4=function(t){("/"===t||">"===t||ft(t))&&(this._special=pt),this._state=u,this._index--},mt.prototype._stateAfterStyle1=dt("Y",et,c),mt.prototype._stateAfterStyle2=dt("L",nt,c),mt.prototype._stateAfterStyle3=dt("E",rt,c),mt.prototype._stateAfterStyle4=function(t){">"===t||ft(t)?(this._special=ut,this._state=f,this._sectionStart=this._index-5,this._index--):this._state=c},mt.prototype._stateBeforeEntity=dt("#",st,ot),mt.prototype._stateBeforeNumericEntity=dt("X",ct,at),mt.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var t=this._buffer.substring(this._sectionStart+1,this._index),e=this._xmlMode?o:i;e.hasOwnProperty(t)&&(this._emitPartial(e[t]),this._sectionStart=this._index+1)}},mt.prototype._parseLegacyEntity=function(){var t=this._sectionStart+1,e=this._index-t;for(e>6&&(e=6);e>=2;){var n=this._buffer.substr(t,e);if(s.hasOwnProperty(n))return this._emitPartial(s[n]),void(this._sectionStart+=e+1);e--}},mt.prototype._stateInNamedEntity=function(t){";"===t?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(t<"a"||t>"z")&&(t<"A"||t>"Z")&&(t<"0"||t>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==c?"="!==t&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},mt.prototype._decodeNumericEntity=function(t,e){var n=this._sectionStart+t;if(n!==this._index){var i=this._buffer.substring(n,this._index),s=parseInt(i,e);this._emitPartial(r(s)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},mt.prototype._stateInNumericEntity=function(t){";"===t?(this._decodeNumericEntity(2,10),this._sectionStart++):(t<"0"||t>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},mt.prototype._stateInHexEntity=function(t){";"===t?(this._decodeNumericEntity(3,16),this._sectionStart++):(t<"a"||t>"f")&&(t<"A"||t>"F")&&(t<"0"||t>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},mt.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===c?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},mt.prototype.write=function(t){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=t,this._parse()},mt.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var t=this._buffer.charAt(this._index);this._state===c?this._stateText(t):this._state===h?this._stateBeforeTagName(t):this._state===u?this._stateInTagName(t):this._state===p?this._stateBeforeCloseingTagName(t):this._state===f?this._stateInCloseingTagName(t):this._state===d?this._stateAfterCloseingTagName(t):this._state===l?this._stateInSelfClosingTag(t):this._state===g?this._stateBeforeAttributeName(t):this._state===m?this._stateInAttributeName(t):this._state===v?this._stateAfterAttributeName(t):this._state===b?this._stateBeforeAttributeValue(t):this._state===_?this._stateInAttributeValueDoubleQuotes(t):this._state===y?this._stateInAttributeValueSingleQuotes(t):this._state===x?this._stateInAttributeValueNoQuotes(t):this._state===w?this._stateBeforeDeclaration(t):this._state===C?this._stateInDeclaration(t):this._state===S?this._stateInProcessingInstruction(t):this._state===E?this._stateBeforeComment(t):this._state===T?this._stateInComment(t):this._state===A?this._stateAfterComment1(t):this._state===k?this._stateAfterComment2(t):this._state===D?this._stateBeforeCdata1(t):this._state===I?this._stateBeforeCdata2(t):this._state===j?this._stateBeforeCdata3(t):this._state===M?this._stateBeforeCdata4(t):this._state===R?this._stateBeforeCdata5(t):this._state===P?this._stateBeforeCdata6(t):this._state===O?this._stateInCdata(t):this._state===N?this._stateAfterCdata1(t):this._state===q?this._stateAfterCdata2(t):this._state===L?this._stateBeforeSpecial(t):this._state===B?this._stateBeforeSpecialEnd(t):this._state===U?this._stateBeforeScript1(t):this._state===$?this._stateBeforeScript2(t):this._state===V?this._stateBeforeScript3(t):this._state===z?this._stateBeforeScript4(t):this._state===H?this._stateBeforeScript5(t):this._state===F?this._stateAfterScript1(t):this._state===W?this._stateAfterScript2(t):this._state===G?this._stateAfterScript3(t):this._state===J?this._stateAfterScript4(t):this._state===X?this._stateAfterScript5(t):this._state===Y?this._stateBeforeStyle1(t):this._state===Z?this._stateBeforeStyle2(t):this._state===Q?this._stateBeforeStyle3(t):this._state===K?this._stateBeforeStyle4(t):this._state===tt?this._stateAfterStyle1(t):this._state===et?this._stateAfterStyle2(t):this._state===nt?this._stateAfterStyle3(t):this._state===rt?this._stateAfterStyle4(t):this._state===it?this._stateBeforeEntity(t):this._state===st?this._stateBeforeNumericEntity(t):this._state===ot?this._stateInNamedEntity(t):this._state===at?this._stateInNumericEntity(t):this._state===ct?this._stateInHexEntity(t):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},mt.prototype.pause=function(){this._running=!1},mt.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},mt.prototype.end=function(t){this._ended&&this._cbs.onerror(Error(".end() after done!")),t&&this.write(t),this._ended=!0,this._running&&this._finish()},mt.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},mt.prototype._handleTrailingData=function(){var t=this._buffer.substr(this._sectionStart);this._state===O||this._state===N||this._state===q?this._cbs.oncdata(t):this._state===T||this._state===A||this._state===k?this._cbs.oncomment(t):this._state!==ot||this._xmlMode?this._state!==at||this._xmlMode?this._state!==ct||this._xmlMode?this._state!==u&&this._state!==g&&this._state!==b&&this._state!==v&&this._state!==m&&this._state!==y&&this._state!==_&&this._state!==x&&this._state!==f&&this._cbs.ontext(t):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},mt.prototype.reset=function(){mt.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},mt.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},mt.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},mt.prototype._emitToken=function(t){this._cbs[t](this._getSection()),this._sectionStart=-1},mt.prototype._emitPartial=function(t){this._baseState!==c?this._cbs.onattribdata(t):this._cbs.ontext(t)}},function(t,e){var n=t.exports={get firstChild(){var t=this.children;return t&&t[0]||null},get lastChild(){var t=this.children;return t&&t[t.length-1]||null},get nodeType(){return i[this.type]||i.element}},r={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},i={element:1,text:3,cdata:4,comment:8};Object.keys(r).forEach(function(t){var e=r[t];Object.defineProperty(n,t,{get:function(){return this[e]||null},set:function(t){return this[e]=t,t}})})},function(t,e,n){t.exports=a;var r=n(132),i=n(278).Writable,s=n(285).StringDecoder,o=n(38).Buffer;function a(t,e){var n=this._parser=new r(t,e),o=this._decoder=new s;i.call(this,{decodeStrings:!1}),this.once("finish",function(){n.end(o.end())})}n(4)(a,i),i.prototype._write=function(t,e,n){t instanceof o&&(t=this._decoder.write(t)),this._parser.write(t),n()}},function(t,e){t.exports=require("stream")},function(t,e,n){"use strict";var r;t.exports=C,C.ReadableState=w;n(82).EventEmitter;var i=function(t,e){return t.listeners(e).length},s=n(138),o=n(38).Buffer,a=global.Uint8Array||function(){};var c,h=n(56);c=h&&h.debuglog?h.debuglog("stream"):function(){};var u,l,p=n(279),f=n(139),d=n(140).getHighWaterMark,g=n(23).codes,m=g.ERR_INVALID_ARG_TYPE,v=g.ERR_STREAM_PUSH_AFTER_EOF,b=g.ERR_METHOD_NOT_IMPLEMENTED,_=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y=n(280).emitExperimentalWarning;n(4)(C,s);var x=["error","close","destroy","pause","resume"];function w(t,e,i){r=r||n(24),t=t||{},"boolean"!=typeof i&&(i=e instanceof r),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=d(this,t,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.emitClose=!1!==t.emitClose,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(u||(u=n(142).StringDecoder),this.decoder=new u(t.encoding),this.encoding=t.encoding)}function C(t){if(r=r||n(24),!(this instanceof C))return new C(t);var e=this instanceof r;this._readableState=new w(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function S(t,e,n,r,i){c("readableAddChunk",e);var s,h=t._readableState;if(null===e)h.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,e.sync?k(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,D(t)))}(t,h);else if(i||(s=function(t,e){var n;r=e,o.isBuffer(r)||r instanceof a||"string"==typeof e||void 0===e||t.objectMode||(n=new m("chunk",["string","Buffer","Uint8Array"],e));var r;return n}(h,e)),s)t.emit("error",s);else if(h.objectMode||e&&e.length>0)if("string"==typeof e||h.objectMode||Object.getPrototypeOf(e)===o.prototype||(e=function(t){return o.from(t)}(e)),r)h.endEmitted?t.emit("error",new _):E(t,h,e,!0);else if(h.ended)t.emit("error",new v);else{if(h.destroyed)return!1;h.reading=!1,h.decoder&&!n?(e=h.decoder.write(e),h.objectMode||0!==e.length?E(t,h,e,!1):I(t,h)):E(t,h,e,!1)}else r||(h.reading=!1,I(t,h));return!h.ended&&(h.length<h.highWaterMark||0===h.length)}function E(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",n)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&k(t)),I(t,e)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),C.prototype.destroy=f.destroy,C.prototype._undestroy=f.undestroy,C.prototype._destroy=function(t,e){e(t)},C.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=o.from(t,e),e=""),n=!0),S(this,t,e,!1,n)},C.prototype.unshift=function(t){return S(this,t,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(t){return u||(u=n(142).StringDecoder),this._readableState.decoder=new u(t),this._readableState.encoding=this._readableState.decoder.encoding,this};var T=8388608;function A(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=T?t=T:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function k(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(c("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(D,t))}function D(t){var e=t._readableState;c("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||t.emit("readable"),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,O(t)}function I(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(j,t,e))}function j(t,e){for(var n=e.length;!e.reading&&!e.ended&&e.length<e.highWaterMark&&(c("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function M(t){t._readableState.readableListening=t.listenerCount("readable")>0,t.listenerCount("data")>0&&t.resume()}function R(t){c("readable nexttick read 0"),t.read(0)}function P(t,e){c("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),O(t),e.flowing&&!e.reading&&t.read(0)}function O(t){var e=t._readableState;for(c("flow",e.flowing);e.flowing&&null!==t.read(););}function N(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):n=e.buffer.consume(t,e.decoder),n);var n}function q(t){var e=t._readableState;c("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(L,e,t))}function L(t,e){c("endReadableNT",t.endEmitted,t.length),t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function B(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}C.prototype.read=function(t){c("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return c("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?q(this):k(this),null;if(0===(t=A(t,e))&&e.ended)return 0===e.length&&q(this),null;var r,i=e.needReadable;return c("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&c("length less than watermark",i=!0),e.ended||e.reading?c("reading or ended",i=!1):i&&(c("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=A(n,e))),null===(r=t>0?N(t,e):null)?(e.needReadable=!0,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&q(this)),null!==r&&this.emit("data",r),r},C.prototype._read=function(t){this.emit("error",new b("_read()"))},C.prototype.pipe=function(t,e){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=t;break;case 1:r.pipes=[r.pipes,t];break;default:r.pipes.push(t)}r.pipesCount+=1,c("pipe count=%d opts=%j",r.pipesCount,e);var s=(!e||!1!==e.end)&&t!==process.stdout&&t!==process.stderr?a:g;function o(e,i){c("onunpipe"),e===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,c("cleanup"),t.removeListener("close",f),t.removeListener("finish",d),t.removeListener("drain",h),t.removeListener("error",p),t.removeListener("unpipe",o),n.removeListener("end",a),n.removeListener("end",g),n.removeListener("data",l),u=!0,!r.awaitDrain||t._writableState&&!t._writableState.needDrain||h())}function a(){c("onend"),t.end()}r.endEmitted?process.nextTick(s):n.once("end",s),t.on("unpipe",o);var h=function(t){return function(){var e=t._readableState;c("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&i(t,"data")&&(e.flowing=!0,O(t))}}(n);t.on("drain",h);var u=!1;function l(e){c("ondata");var i=t.write(e);c("dest.write",i),!1===i&&((1===r.pipesCount&&r.pipes===t||r.pipesCount>1&&-1!==B(r.pipes,t))&&!u&&(c("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function p(e){c("onerror",e),g(),t.removeListener("error",p),0===i(t,"error")&&t.emit("error",e)}function f(){t.removeListener("finish",d),g()}function d(){c("onfinish"),t.removeListener("close",f),g()}function g(){c("unpipe"),n.unpipe(t)}return n.on("data",l),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",p),t.once("close",f),t.once("finish",d),t.emit("pipe",n),r.flowing||(c("pipe resume"),n.resume()),t},C.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)r[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=B(e.pipes,t);return-1===o?this:(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},C.prototype.on=function(t,e){var n=s.prototype.on.call(this,t,e),r=this._readableState;return"data"===t?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===t&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,c("on readable",r.length,r.reading),r.length?k(this):r.reading||process.nextTick(R,this))),n},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(t,e){var n=s.prototype.removeListener.call(this,t,e);return"readable"===t&&process.nextTick(M,this),n},C.prototype.removeAllListeners=function(t){var e=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||process.nextTick(M,this),e},C.prototype.resume=function(){var t=this._readableState;return t.flowing||(c("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(P,t,e))}(this,t)),this},C.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this},C.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",function(){if(c("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(i){(c("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))}),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var s=0;s<x.length;s++)t.on(x[s],this.emit.bind(this,x[s]));return this._read=function(e){c("wrapped _read",e),r&&(r=!1,t.resume())},this},"function"==typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return y("Readable[Symbol.asyncIterator]"),void 0===l&&(l=n(282)),l(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),C._fromList=N,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}})},function(t,e,n){t.exports=n(136)},function(t,e,n){"use strict";function r(t,e){s(t,e),i(t)}function i(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function s(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||process.nextTick(s,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(process.nextTick(r,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e?(process.nextTick(i,n),e(t)):process.nextTick(i,n)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){"use strict";var r=n(23).codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,n,i){var s=function(t,e,n){return null!=t.highWaterMark?t.highWaterMark:e?t[n]:null}(e,i,n);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new r(i?n:"highWaterMark",s);return Math.floor(s)}return t.objectMode?16:16384}}},function(t,e,n){"use strict";function r(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;t.entry=null;for(;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree.next=t}(e,t)}}var i;t.exports=C,C.WritableState=w;var s={deprecate:n(281)},o=n(138),a=n(38).Buffer,c=global.Uint8Array||function(){};var h,u=n(139),l=n(140).getHighWaterMark,p=n(23).codes,f=p.ERR_INVALID_ARG_TYPE,d=p.ERR_METHOD_NOT_IMPLEMENTED,g=p.ERR_MULTIPLE_CALLBACK,m=p.ERR_STREAM_CANNOT_PIPE,v=p.ERR_STREAM_DESTROYED,b=p.ERR_STREAM_NULL_VALUES,_=p.ERR_STREAM_WRITE_AFTER_END,y=p.ERR_UNKNOWN_ENCODING;function x(){}function w(t,e,s){i=i||n(24),t=t||{},"boolean"!=typeof s&&(s=e instanceof i),this.objectMode=!!t.objectMode,s&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=l(this,t,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===t.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if("function"!=typeof i)throw new g;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,i){--e.pendingcb,n?(process.nextTick(i,r),process.nextTick(D,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(i(r),t._writableState.errorEmitted=!0,t.emit("error",r),D(t,e))}(t,n,r,e,i);else{var s=A(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||T(t,n),r?process.nextTick(E,t,n,s,i):E(t,n,s,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function C(t){var e=this instanceof(i=i||n(24));if(!e&&!h.call(C,this))return new C(t);this._writableState=new w(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),o.call(this)}function S(t,e,n,r,i,s,o){e.writelen=r,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new v("write")):n?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function E(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),D(t,e)}function T(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var i=e.bufferedRequestCount,s=new Array(i),o=e.corkedRequestsFree;o.entry=n;for(var a=0,c=!0;n;)s[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;s.allBuffers=c,S(t,e,!0,e.length,s,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new r(e),e.bufferedRequestCount=0}else{for(;n;){var h=n.chunk,u=n.encoding,l=n.callback;if(S(t,e,!1,e.objectMode?1:h.length,h,u,l),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function A(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function k(t,e){t._final(function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),D(t,e)})}function D(t,e){var n=A(e);return n&&(!function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,process.nextTick(k,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}n(4)(C,o),w.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(w.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(t){return!!h.call(this,t)||this===C&&(t&&t._writableState instanceof w)}})):h=function(t){return t instanceof this},C.prototype.pipe=function(){this.emit("error",new m)},C.prototype.write=function(t,e,n){var r,i=this._writableState,s=!1,o=!i.objectMode&&(r=t,a.isBuffer(r)||r instanceof c);return o&&!a.isBuffer(t)&&(t=function(t){return a.from(t)}(t)),"function"==typeof e&&(n=e,e=null),o?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof n&&(n=x),i.ending?function(t,e){var n=new _;t.emit("error",n),process.nextTick(e,n)}(this,n):(o||function(t,e,n,r){var i;return null===n?i=new b:"string"==typeof n||e.objectMode||(i=new f("chunk",["string","Buffer"],n)),!i||(t.emit("error",i),process.nextTick(r,i),!1)}(this,i,t,n))&&(i.pendingcb++,s=function(t,e,n,r,i,s){if(!n){var o=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=a.from(e,n));return e}(e,r,i);r!==o&&(n=!0,i="buffer",r=o)}var c=e.objectMode?1:r.length;e.length+=c;var h=e.length<e.highWaterMark;h||(e.needDrain=!0);if(e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:s,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else S(t,e,!1,c,r,i,s);return h}(this,i,o,t,e,n)),s},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||T(this,t))},C.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new y(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(t,e,n){n(new d("_write()"))},C.prototype._writev=null,C.prototype.end=function(t,e,n){var r=this._writableState;return"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||function(t,e,n){e.ending=!0,D(t,e),n&&(e.finished?process.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,r,n),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),C.prototype.destroy=u.destroy,C.prototype._undestroy=u.undestroy,C.prototype._destroy=function(t,e){e(t)}},function(t,e,n){"use strict";var r=n(14).Buffer,i=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=c,this.end=h,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=u,this.end=l,e=3;break;default:return this.write=p,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function o(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"ï¿½";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"ï¿½";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"ï¿½"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function h(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function u(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function l(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function p(t){return t.toString(this.encoding)}function f(t){return t&&t.length?this.write(t):""}e.StringDecoder=s,s.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},s.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"ï¿½":e},s.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=o(e[r]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=o(e[r]))>=0)return i>0&&(t.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=o(e[r]))>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},s.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";t.exports=u;var r=n(23).codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,s=r.ERR_MULTIPLE_CALLBACK,o=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,c=n(24);function h(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new s);n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function u(t){if(!(this instanceof u))return new u(t);c.call(this,t),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",l)}function l(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?p(this,null,null):this._flush(function(e,n){p(t,e,n)})}function p(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new a;if(t._transformState.transforming)throw new o;return t.push(null)}n(4)(u,c),u.prototype.push=function(t,e){return this._transformState.needTransform=!1,c.prototype.push.call(this,t,e)},u.prototype._transform=function(t,e,n){n(new i("_transform()"))},u.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},u.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},u.prototype._destroy=function(t,e){c.prototype._destroy.call(this,t,function(t){e(t)})}},function(t,e,n){var r=n(145),i=n(7),s=n(12),o=n(87),a=n(147),c=Math.max;t.exports=function(t,e,n,h){t=i(t)?t:a(t),n=n&&!h?o(n):0;var u=t.length;return n<0&&(n=c(u+n,0)),s(t)?n<=u&&t.indexOf(e,n)>-1:!!u&&r(t,e,n)>-1}},function(t,e,n){var r=n(146),i=n(300),s=n(301);t.exports=function(t,e,n){return e==e?s(t,e,n):r(t,i,n)}},function(t,e){t.exports=function(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}},function(t,e,n){var r=n(304),i=n(11);t.exports=function(t){return null==t?[]:r(t,i(t))}},function(t,e,n){var r=n(8);t.exports=function(t){return t==t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){const r=n(3),i={};t.exports={add:function(t,e){return r(!this.has(t),`Image service ${t} is already registered`),i[t]=e,e},has:function(t="default"){return null!==i[t]&&void 0!==i[t]},get:function(t="default"){return r(this.has(t),`Could not load image service ${t}`),i[t]},eachService:function(t){const e=[];for(const n in i){const r=i[n];e.push(t(n,r))}return e}}},function(t,e,n){var r=n(49),i=n(17),s=n(124),o=n(7),a=n(33),c=n(11),h=Object.prototype.hasOwnProperty,u=s(function(t,e){if(a(e)||o(e))i(e,c(e),t);else for(var n in e)h.call(e,n)&&r(t,n,e[n])});t.exports=u},function(t,e,n){var r=n(320)(n(154));t.exports=r},function(t,e,n){var r=n(146),i=n(15),s=n(87),o=Math.max;t.exports=function(t,e,n){var a=null==t?0:t.length;if(!a)return-1;var c=null==n?0:s(n);return c<0&&(c=o(a+c,0)),r(t,i(e,3),c)}},function(t,e,n){const r=n(3);t.exports=class t{constructor({directives:t}={}){if(this.all={},this.length=0,t&&t.length)for(const e of t)this.add(e)}add(t){return this.assertNameNotUsed(t),this[this.length]=t,t.index=this.length,this.length+=1,this.all[t.name]=t,this[t.type]||(this[t.type]=[]),this[t.type].push(t),t}next(t){let e;return null!=t.index&&(e=t),e||(e=this.all[t]),this[e.index+=1]}nextOfType(t){let e;t.index&&(e=t),e||(e=this.all[t]);const n=e.type;for(;e=this.next(e);)if(e.type===n)return e}get(t){return this.all[t]}count(t){return t?this[t]?this[t].length:void 0:this.length}names(t){return 0===arguments.length?this.length?Array.from(this).map(t=>t.name):[]:this[t]&&this[t].length?Array.from(this[t]).map(t=>t.name):[]}each(t){Array.from(this).map(e=>t(e))}eachOfType(t,e){this[t]&&Array.from(this[t]).map(t=>e(t))}firstOfType(t){return this[t]?this[t][0]:void 0}eachEditable(t){this.eachOfType("editable",t)}eachImage(t){this.eachOfType("image",t)}eachToggle(t){this.eachOfType("toggle",t)}eachContainer(t){this.eachOfType("container",t)}eachHtml(t){this.eachOfType("html",t)}eachInclude(t){this.eachOfType("include",t)}clone(){const e=new t;return this.each(t=>e.add(t.clone())),e}assertNameNotUsed(t){r(t&&!this.all[t.name],`DirectiveCollection: '${t.name}' is already used.`)}}},function(t,e){t.exports=class{constructor(){this.values={},this.indexes={},this.length=0}push(t,e){return this.values[t]=e,this.indexes[t]=this.length,this[this.length]=e,this.length+=1,this.length}get(t){return this.values[t]}has(t){return Object.prototype.hasOwnProperty.call(this.values,t)}getIndex(t){const e=this.indexes[t];return null!=e?e:-1}each(t){return Array.from(this).map(e=>t(e))}toArray(){return Array.from(this)}}},function(t,e,n){const{log:r,assert:i}=n(2),s=n(329),o=n(330),a=n(89);t.exports=class{constructor({componentTree:t}={}){this.beforeComponentRemoved=this.beforeComponentRemoved.bind(this),this.js=[],this.css=[],this.namespaces={},this.jsWaitlist=[],this.componentTree=t,this.componentTree&&this.componentTree.componentRemoved.add(this.beforeComponentRemoved),this.dependenciesAdded=a(),this.jsDependencyLoaded=a(),this.dependencyToExecute=a(),this.codeToExecute=a(),this.dependencyRemoved=a()}add(t){this.convertToAbsolutePaths(t);const e=new s(t),n=this.getExisting(e);return n?t.component?n.addComponent(t.component):void 0:this.addDependency(e)}addJs(t){t.type="js",this.add(t)}addCss(t){t.type="css",this.add(t)}executeJs(t){t.isExecuteOnly=!0,this.addJs(t)}executeCode(t){this.codeToExecute.fire(t)}convertToAbsolutePaths(t){if(!t.src)return;let{src:e}=t;this.isAbsoluteUrl(e)||(i(t.basePath,`Dependencies: relative urls are not allowed: ${e}`),e=e.replace(/^[.\/]*/,""),t.src=`${t.basePath.replace(/\/$/,"")}/${e}`)}isAbsoluteUrl(t){return/(^\/\/|[a-z]*:\/\/)/.test(t)||/^\//.test(t)}addDependency(t){return t.isExecuteOnly?this.dependencyToExecute.fire(t):(t.namespace&&this.addToNamespace(t),t.isJs()?(this.js.push(t),this.delayedDependency(t)):(this.css.push(t),this.dependenciesAdded.fire(void 0,[t]))),t}delayedDependency(t){this.jsWaitlist.push(t),1===this.jsWaitlist.length&&setTimeout(()=>{this.dependenciesAdded.fire(this.jsWaitlist,void 0),this.jsWaitlist=[]},0)}addToNamespace(t){if(t.namespace){this.namespaces[t.namespace]||(this.namespaces[t.namespace]=[]),this.namespaces[t.namespace].push(t)}}removeFromNamespace(t){const e=this.getNamespace(t.namespace);if(e){const n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}getNamespaces(){return Object.keys(this.namespaces)}getNamespace(t){const e=this.namespaces[t];if(e)return e.length?e:void 0}getExisting(t){const e=t.isJs()?this.js:this.css;for(const n of Array.from(e))if(n.isSameAs(t))return n}hasCss(){return this.css.length>0}hasJs(){return this.js.length>0}beforeComponentRemoved(t){const e=[];let n;this.js.forEach(r=>{(n=r.removeComponent(t))||e.push(r)}),this.css.forEach(r=>{(n=r.removeComponent(t))||e.push(r)}),e.forEach(t=>{this.removeDependency(t)})}removeDependency(t){t.namespace&&this.removeFromNamespace(t);const e=t.isJs()?this.js:this.css,n=e.indexOf(t);n>-1&&e.splice(n,1),this.dependencyRemoved.fire(t)}serialize(){const t={};return this.js&&this.js.length&&(t.js=this.js.map(t=>t.serialize())),this.css&&this.css.length&&(t.css=this.css.map(t=>t.serialize())),t}deserialize(t){if(!t)return;const e=t.js||[],n=t.css||[];e.forEach(t=>{const e={type:"js",src:t.src,code:t.code,namespace:t.namespace,library:t.library};this.addDeserializedObj(e,t)}),n.forEach(t=>{const e={type:"css",src:t.src,code:t.code,namespace:t.namespace,library:t.library};this.addDeserializedObj(e,t)})}addDeserializedObj(t,e){if(e.componentIds&&e.componentIds.length){const n=[];if(e.componentIds.forEach(t=>{const e=this.componentTree.findById(t);e&&n.push(e)}),n.length){const e=this.add(t);n.forEach(t=>e.addComponent(t))}else r.warn("Dropped dependency: could not find components that depend on it",e)}else this.add(t)}printJs(){return o.printJs(this)}printCss(){return o.printCss(this)}}},function(t,e,n){var r=n(145);t.exports=function(t,e){return!(null==t||!t.length)&&r(t,e,0)>-1}},function(t,e){t.exports=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}},function(t,e){t.exports=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}},function(t,e){t.exports.revert=((t,e,n)=>{const r=t.componentTree.findById(n.previous),i=t.componentTree.findById(n.next),s=n.parentContainer||t.componentTree.root;r?s.insertAfter(r,e):i?s.insertBefore(i,e):s.append(e)}),t.exports.getContext=function(t){const e={parentContainer:t.parentContainer};return t.previous&&(e.previous=t.previous.id),t.next&&(e.next=t.next.id),e}},function(t,e,n){const r=n(57),i=n(163),s=n(370),o=n(371),a=n(372);t.exports={render({wrapperHtml:t,componentTree:e},n){const c=new s({settings:n});let h;if(t){const n=function(t){const{structure:e,skin:n}=i({name:r.next("anon"),html:t});return e.setSkin(n),e.createModel()}(t);n.containers[0].appendTree(e),h=a(n)}else h=e;return o.render({req:c,componentTree:h})}}},function(t,e,n){const{assert:r}=n(2),i=n(355),s=n(356),o=n(357),a=n(90),c=n(365);function h(t,e){const n={};return t.forEach(t=>{const i=e.properties[t];r(i,`The componentProperty '${t}' was not found.`),n[t]=i}),n}t.exports=function(t,e){const n=t.html,u=t.directives;let l=t.properties;const{name:p,label:f,description:d,iconUrl:g,allowedParents:m}=t,v={name:p,label:f,description:d,iconUrl:g,allowedParents:m};l&&(l=h(l,e),v.properties=l);const b=o(n);return v.directivesFromTemplate=b.directives,v.directivesFromConfig=u,{structure:function(t,e){const{name:n,label:s,description:o,iconUrl:u,allowedParents:l}=t,{properties:p,directivesFromTemplate:f,directivesFromConfig:d}=t,g=function(t,e,n,i){const s={};return t.forEach(t=>{s[t.name]=t}),e=e||{},Object.keys(e).forEach(t=>{const o=e[t]||{},a=s[t];a||r(!1,`Directive '${t}' not present in template for component '${n}'.`),Object.keys(o).forEach(e=>{const n=o[e];switch(e){case"type":r(a.type===n,`Directive '${t}': type does not match`);break;case"imageRatios":n&&n.length&&(a[e]=function(t,e){return t.map(t=>{const n=e.imageRatios[t];return r(n,`The imageRatio '${t}' was not found.`),n})}(n,i));break;case"properties":n&&n.length&&(a[e]=h(n,i));break;default:a[e]=n}})}),t}(f,d,n,e);return function(t,e){t.forEach(t=>{Object.keys(t).forEach(e=>{t[e];switch(r(function(t){return r(a.exists(t.type),`Unkown directive '${t.type}'`),c.validate(t.type,t),!c.hasErrors()}(t),c.getErrorMessages()),e){case"srcSet":!function(t,e,n){r("img"===t.tag,`${n} is only supported for inline images.`)}(t,0,e);break;case"backgroundImage":!function(t,e,n){r("img"!==t.tag,`${n} is only supported for background images.`)}(t,0,e);break;case"services":!function(t,e){r(!t.service,'Include directive can only have either "service" or "services".')}(t);break;case"service":!function(t,e){r(!t.services,'Include directive can only have either "service" or "services".')}(t)}})})}(g),new i({name:n,label:s,description:o,iconUrl:u,properties:p,allowedParents:l,directives:g})}(v,e),skin:function(t,e){return new s({name:t,dom:e})}(p,b.skin)}}},function(t,e,n){var r=n(21),i=n(360),s=n(361),o=n(22);t.exports=function(t,e){return e=r(e,t),null==(t=s(t,e))||delete t[o(i(e))]}},function(t,e,n){var r,i;(i=new(r=n(366))).new=function(){return new r},t.exports=i,"undefined"!=typeof window&&null!==window&&(window.jScheme=i)},function(t,e,n){const r=n(26),i=n(12),s=n(3),o=n(25),a=/(\d+)[\/:x](\d+)/;class c{constructor({name:t,label:e,ratio:n}){this.name=t,this.label=e||o.humanize(this.name),this.ratio=this.parseRatio(n)}parseRatio(t){if(i(t)){const e=a.exec(t);t=Number(e[1])/Number(e[2])}return s(r(t),`Could not parse image ratio ${t}`),t}}c.prototype.ratioString=a,t.exports=c},function(t,e,n){const r=n(12),{assert:i}=n(2),s=n(373),o=n(58),a=n(166),c=n(374),h=n(163);t.exports={parse(t,e={}){this.validateSchema(t);const n=this.parseDesignInfo(t),r=new o(n);try{return this.parseDesignConfig(t,r,e)}catch(t){throw t.message=`Parsing design ${r.identifier}: ${t.message}`,t}},parseDesignInfo(t){const{name:e,label:n,version:r,author:i,description:s}=t;return{name:e,label:n,version:r,author:i,description:s}},parseDesignConfig(t,e,n){e.metadata=t.metadata,e.wrapper=t.wrapper,e.groups=t.groups,e.layouts=t.layouts,e.defaultLayout=t.defaultLayout,e.defaultContent=t.defaultContent,e.prefilledComponents=t.prefilledComponents;const{assets:r,imageRatios:i,componentProperties:s}=t;this.addAssets(r,e),this.addImageRatios(i,e),e.properties=this.parseComponentProperties(s);const{components:o,defaultComponents:a}=t;return this.addComponents(o,e,n),this.parseDefaultComponents(a,e),e},addAssets(t,e){if(!t)return;const{basePath:n}=t;this.eachAsset(t.js,t=>e.dependencies.addJs({src:t,basePath:n})),this.eachAsset(t.css,t=>e.dependencies.addCss({src:t,basePath:n}))},eachAsset(t,e){t&&(r(t)?e(t):t.map(t=>e(t)))},parseComponentProperties:t=>t?Object.keys(t).reduce((e,n)=>{const r=t[n];return r.name=n,e[n]=new s(r),e},{}):{},addImageRatios(t,e){if(t)for(const n of Object.keys(t)){const{ratio:r,label:i}=t[n];e.imageRatios[n]=new a({name:n,label:i,ratio:r})}},addComponents(t,e,{strict:n}={}){t.forEach(t=>{let r;try{r=h(t,e),e.addComponent(r)}catch(e){if("DuplicateComponentError"===e.name&&!n)return;throw e.message=`component ${t.name}: ${e.message}`,e}})},parseDefaultComponents(t,e){if(!t)return;const{paragraph:n,image:r,html:i}=t;this.assertComponent(n,e),this.assertComponent(r,e),this.assertComponent(i,e),e.setDefaultParagraph({name:n}),e.setDefaultImage({name:r}),e.setDefaultHtml({name:i})},assertComponent(t,e){t&&i(e.hasComponent(t),`Could not find component '${t}'`)},validateSchema(t){if(c.validate("design",t))return!0;throw new Error(c.getErrorMessages())}}},function(t,e,n){var r=n(104),i=n(383),s=n(15),o=n(0);t.exports=function(t,e){return(o(t)?r:i)(t,s(e,3))}},function(t,e){t.exports=function(t,e){t.attr("src",e)}},function(t,e,n){var r=n(4),i=n(28),s=n(14).Buffer,o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function c(){this.init(),this._w=a,i.call(this,64,56)}function h(t,e,n){return n^t&(e^n)}function u(t,e,n){return t&e|n&(t|e)}function l(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function p(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function f(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}r(c,i),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,i=0|this._b,s=0|this._c,a=0|this._d,c=0|this._e,d=0|this._f,g=0|this._g,m=0|this._h,v=0;v<16;++v)n[v]=t.readInt32BE(4*v);for(;v<64;++v)n[v]=0|(((e=n[v-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+n[v-7]+f(n[v-15])+n[v-16];for(var b=0;b<64;++b){var _=m+p(c)+h(c,d,g)+o[b]+n[b]|0,y=l(r)+u(r,i,s)|0;m=g,g=d,d=c,c=a+_|0,a=s,s=i,i=r,r=_+y|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0,this._f=d+this._f|0,this._g=g+this._g|0,this._h=m+this._h|0},c.prototype._hash=function(){var t=s.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=c},function(t,e,n){var r=n(4),i=n(28),s=n(14).Buffer,o=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function c(){this.init(),this._w=a,i.call(this,128,112)}function h(t,e,n){return n^t&(e^n)}function u(t,e,n){return t&e|n&(t|e)}function l(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function p(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function f(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function d(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function g(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function m(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function v(t,e){return t>>>0<e>>>0?1:0}r(c,i),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(t){for(var e=this._w,n=0|this._ah,r=0|this._bh,i=0|this._ch,s=0|this._dh,a=0|this._eh,c=0|this._fh,b=0|this._gh,_=0|this._hh,y=0|this._al,x=0|this._bl,w=0|this._cl,C=0|this._dl,S=0|this._el,E=0|this._fl,T=0|this._gl,A=0|this._hl,k=0;k<32;k+=2)e[k]=t.readInt32BE(4*k),e[k+1]=t.readInt32BE(4*k+4);for(;k<160;k+=2){var D=e[k-30],I=e[k-30+1],j=f(D,I),M=d(I,D),R=g(D=e[k-4],I=e[k-4+1]),P=m(I,D),O=e[k-14],N=e[k-14+1],q=e[k-32],L=e[k-32+1],B=M+N|0,U=j+O+v(B,M)|0;U=(U=U+R+v(B=B+P|0,P)|0)+q+v(B=B+L|0,L)|0,e[k]=U,e[k+1]=B}for(var $=0;$<160;$+=2){U=e[$],B=e[$+1];var V=u(n,r,i),z=u(y,x,w),H=l(n,y),F=l(y,n),W=p(a,S),G=p(S,a),J=o[$],X=o[$+1],Y=h(a,c,b),Z=h(S,E,T),Q=A+G|0,K=_+W+v(Q,A)|0;K=(K=(K=K+Y+v(Q=Q+Z|0,Z)|0)+J+v(Q=Q+X|0,X)|0)+U+v(Q=Q+B|0,B)|0;var tt=F+z|0,et=H+V+v(tt,F)|0;_=b,A=T,b=c,T=E,c=a,E=S,a=s+K+v(S=C+Q|0,C)|0,s=i,C=w,i=r,w=x,r=n,x=y,n=K+et+v(y=Q+tt|0,Q)|0}this._al=this._al+y|0,this._bl=this._bl+x|0,this._cl=this._cl+w|0,this._dl=this._dl+C|0,this._el=this._el+S|0,this._fl=this._fl+E|0,this._gl=this._gl+T|0,this._hl=this._hl+A|0,this._ah=this._ah+n+v(this._al,y)|0,this._bh=this._bh+r+v(this._bl,x)|0,this._ch=this._ch+i+v(this._cl,w)|0,this._dh=this._dh+s+v(this._dl,C)|0,this._eh=this._eh+a+v(this._el,S)|0,this._fh=this._fh+c+v(this._fl,E)|0,this._gh=this._gh+b+v(this._gl,T)|0,this._hh=this._hh+_+v(this._hl,A)|0},c.prototype._hash=function(){var t=s.allocUnsafe(64);function e(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=c},function(t,e,n){const r=n(94),i=n(253);i.ComponentRenderer=r,t.exports=i},function(t,e,n){t.exports=n(62)},function(t,e,n){var r=n(96),i=n(11);t.exports=function(t,e){return t&&r(t,e,i)}},function(t,e){t.exports=function(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var c=o[t?a:++i];if(!1===n(s[c],c,s))break}return e}}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(10),i=n(5),s="[object Arguments]";t.exports=function(t){return i(t)&&r(t)==s}},function(t,e,n){var r=n(18),i=Object.prototype,s=i.hasOwnProperty,o=i.toString,a=r?r.toStringTag:void 0;t.exports=function(t){var e=s.call(t,a),n=t[a];try{t[a]=void 0;var r=!0}catch(t){}var i=o.call(t);return r&&(e?t[a]=n:delete t[a]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(10),i=n(64),s=n(5),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,t.exports=function(t){return s(t)&&i(t.length)&&!!o[r(t)]}},function(t,e,n){var r=n(99)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(7);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var s=n.length,o=e?s:-1,a=Object(n);(e?o--:++o<s)&&!1!==i(a[o],o,a););return n}}},function(t,e,n){var r=n(43);t.exports=function(t){return"function"==typeof t?t:r}},function(t,e,n){var r=n(16)(n(9),"DataView");t.exports=r},function(t,e,n){var r=n(42),i=n(187),s=n(8),o=n(100),a=/^\[object .+?Constructor\]$/,c=Function.prototype,h=Object.prototype,u=c.toString,l=h.hasOwnProperty,p=RegExp("^"+u.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!s(t)||i(t))&&(r(t)?p:a).test(o(t))}},function(t,e,n){var r,i=n(188),s=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!s&&s in t}},function(t,e,n){var r=n(9)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(16)(n(9),"Promise");t.exports=r},function(t,e,n){var r=n(16)(n(9),"Set");t.exports=r},function(t,e,n){var r=n(16)(n(9),"WeakMap");t.exports=r},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(46),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():i.call(e,n,1),--this.size,0))}},function(t,e,n){var r=n(46);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(46);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(46);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(45);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(45),i=n(68),s=n(70),o=200;t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<o-1)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new s(a)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(204),i=n(45),s=n(68);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(s||i),string:new r}}},function(t,e,n){var r=n(205),i=n(206),s=n(207),o=n(208),a=n(209);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=s,c.prototype.has=o,c.prototype.set=a,t.exports=c},function(t,e,n){var r=n(47);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(47),i="__lodash_hash_undefined__",s=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===i?void 0:n}return s.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(47),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(47),i="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?i:e,this}},function(t,e,n){var r=n(48);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(48);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(48);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(48);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e,n){var r=n(17),i=n(11);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e,n){var r=n(17),i=n(50);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e,n){var r=n(8),i=n(33),s=n(218),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return s(t);var e=i(t),n=[];for(var a in t)("constructor"!=a||!e&&o.call(t,a))&&n.push(a);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var r=n(17),i=n(72);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e,n){var r=n(17),i=n(106);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(76),i=n(223),s=n(224),o=n(225),a=n(110),c="[object Boolean]",h="[object Date]",u="[object Map]",l="[object Number]",p="[object RegExp]",f="[object Set]",d="[object String]",g="[object Symbol]",m="[object ArrayBuffer]",v="[object DataView]",b="[object Float32Array]",_="[object Float64Array]",y="[object Int8Array]",x="[object Int16Array]",w="[object Int32Array]",C="[object Uint8Array]",S="[object Uint8ClampedArray]",E="[object Uint16Array]",T="[object Uint32Array]";t.exports=function(t,e,n){var A=t.constructor;switch(e){case m:return r(t);case c:case h:return new A(+t);case v:return i(t,n);case b:case _:case y:case x:case w:case C:case S:case E:case T:return a(t,n);case u:return new A;case l:case d:return new A(t);case p:return s(t);case f:return new A;case g:return o(t)}}},function(t,e,n){var r=n(76);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(18),i=r?r.prototype:void 0,s=i?i.valueOf:void 0;t.exports=function(t){return s?Object(s.call(t)):{}}},function(t,e,n){var r=n(8),i=Object.create,s=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=s},function(t,e,n){var r=n(228),i=n(32),s=n(65),o=s&&s.isMap,a=o?i(o):r;t.exports=a},function(t,e,n){var r=n(19),i=n(5),s="[object Map]";t.exports=function(t){return i(t)&&r(t)==s}},function(t,e,n){var r=n(230),i=n(32),s=n(65),o=s&&s.isSet,a=o?i(o):r;t.exports=a},function(t,e,n){var r=n(19),i=n(5),s="[object Set]";t.exports=function(t){return i(t)&&r(t)==s}},function(t,e,n){const r=n(12);t.exports={eachNode(t,e){Array.isArray(t)&&t.forEach(t=>{e(t),this.eachNode(t.children,e)})},eachElement(t,e){Array.isArray(t)&&t.filter(t=>"tag"===t.type).forEach(t=>{e(t),this.eachElement(t.children,e)})},eachDirective(t,e){t&&t.filter(t=>"tag"===t.type).forEach(t=>{t.directives&&e(t,t.directives),this.eachDirective(t.children,e)})},createElem(t,e,...n){const i={type:"tag",name:t};return e&&(i.attribs=e),n.length?(i.children=n.map(t=>r(t)?{type:"text",data:t}:t),i):i},escapeAttributeData(t){const e=JSON.stringify(t);return this.escapeHtml(e)},escapeHtml:t=>t?(t=`${t}`).replace(/['"<>&]/g,t=>{switch(t){case"'":return"&#039;";case'"':return"&quot;";case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;"}}):""}},function(t,e,n){const r=n(1),i=n(12),s=n(238),o=n(118),{toString:a}=Object.prototype,c=/\s+/;t.exports=class{constructor(t){this.elem=t}attr(t,e){if(1===arguments.length)return this.getAttr(t);this.setAttr(t,e)}getAttr(t){return r(this,["elem","attribs",t],void 0)}setAttr(t,e){null==e?this.removeAttr(t):(this.elem.attribs||(this.elem.attribs={}),this.elem.attribs[t]=`${e}`)}removeAttr(t){((t,e)=>!!t.attribs&&t.attribs.hasOwnProperty(e))(this.elem,t)&&delete this.elem.attribs[t]}addClass(t){if(!t||"string"!=typeof t)return;const e=t.split(c),n=this.getAttr("class");if(n){let t=` ${n} `;e.forEach(e=>{e+=" ",-1===t.indexOf(` ${e}`)&&(t+=e)}),this.setAttr("class",t.trim())}else this.setAttr("class",e.join(" ").trim())}removeClass(t){if(!t||"string"!=typeof t)return;o(-1===t.trim().indexOf(" ")&&arguments.length<2,"DomElement#removeClass can only remove one class at a time");let e=this.getAttr("class");if(e){const n=(e=` ${e} `).replace(` ${t} `," ");this.setAttr("class",n.trim())}}css(t,e){return 2===arguments.length?this.setCss(t,e):"[object Object]"===a.call(t)?this.setCss(t):this.getCss(t)}setCss(t,e){if(2===arguments.length){const n=this.getCss();""===e?delete n[t]:null!=e&&(n[t]=e),this.setAttr("style",function(t={}){return Object.keys(t).reduce((e,n)=>`${e}${e?" ":""}${n}: ${t[n]};`,"")}(n)||void 0)}else for(const e of Object.keys(t)){const n=t[e];this.setCss(e,n)}}getCss(t){if(!this.elem.attribs)return{};const e=function(t){return(t=(t||"").trim())?t.split(";").reduce((t,e)=>{const n=e.indexOf(":");return n<1||n===e.length-1?t:(t[e.slice(0,n).trim()]=e.slice(n+1).trim(),t)},{}):{}}(this.elem.attribs.style);return i(t)?e[t]:Array.isArray(t)?s(e,t):e}}},function(t,e,n){var r=n(234),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,o=r(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,function(t,n,r,i){e.push(r?i.replace(s,"$1"):n||t)}),e});t.exports=o},function(t,e,n){var r=n(235),i=500;t.exports=function(t){var e=r(t,function(t){return n.size===i&&n.clear(),t}),n=e.cache;return e}},function(t,e,n){var r=n(70),i="Expected a function";function s(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(i);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(s.Cache||r),n}s.Cache=r,t.exports=s},function(t,e,n){var r=n(237);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(18),i=n(13),s=n(0),o=n(52),a=1/0,c=r?r.prototype:void 0,h=c?c.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(s(e))return i(e,t)+"";if(o(e))return h?h.call(e):"";var n=e+"";return"0"==n&&1/e==-a?"-0":n}},function(t,e,n){var r=n(239),i=n(115)(function(t,e){return null==t?{}:r(t,e)});t.exports=i},function(t,e,n){var r=n(112),i=n(114);t.exports=function(t,e){return r(t,e,function(e,n){return i(t,n)})}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(21),i=n(29),s=n(0),o=n(31),a=n(64),c=n(22);t.exports=function(t,e,n){for(var h=-1,u=(e=r(e,t)).length,l=!1;++h<u;){var p=c(e[h]);if(!(l=null!=t&&n(t,p)))break;t=t[p]}return l||++h!=u?l:!!(u=null==t?0:t.length)&&a(u)&&o(p,u)&&(s(t)||i(t))}},function(t,e,n){var r=n(243);t.exports=function(t){return null!=t&&t.length?r(t,1):[]}},function(t,e,n){var r=n(73),i=n(244);t.exports=function t(e,n,s,o,a){var c=-1,h=e.length;for(s||(s=i),a||(a=[]);++c<h;){var u=e[c];n>0&&s(u)?n>1?t(u,n-1,s,o,a):r(a,u):o||(a[a.length]=u)}return a}},function(t,e,n){var r=n(18),i=n(29),s=n(0),o=r?r.isConcatSpreadable:void 0;t.exports=function(t){return s(t)||i(t)||!!(o&&t&&t[o])}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(247),i=n(101),s=n(43),o=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:s;t.exports=o},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){var n=800,r=16,i=Date.now;t.exports=function(t){var e=0,s=0;return function(){var o=i(),a=r-(o-s);if(s=o,a>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e){t.exports={booleanAttributes:{__proto__:null,allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,hidden:!0,ismap:!0,loop:!0,multiple:!0,muted:!0,open:!0,readonly:!0,required:!0,reversed:!0,scoped:!0,seamless:!0,selected:!0,typemustmatch:!0},unencodedElements:{__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0},singleTags:{__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},blockElements:{h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,div:!0,p:!0,a:!0,ul:!0,ol:!0,li:!0,figure:!0,figcaption:!0,blockquote:!0,article:!0,section:!0,aside:!0,footer:!0}}},function(t,e,n){var r=a(n(78)),i=c(r);e.XML=f(r,i);var s=a(n(79)),o=c(s);function a(t){return Object.keys(t).sort().reduce(function(e,n){return e[t[n]]="&"+n+";",e},{})}function c(t){var e=[],n=[];return Object.keys(t).forEach(function(t){1===t.length?e.push("\\"+t):n.push(t)}),n.unshift("["+e.join("")+"]"),new RegExp(n.join("|"),"g")}e.HTML=f(s,o);var h=/[^\0-\x7F]/g,u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function l(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"}function p(t){return"&#x"+(1024*(t.charCodeAt(0)-55296)+t.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function f(t,e){function n(e){return t[e]}return function(t){return t.replace(e,n).replace(u,p).replace(h,l)}}var d=c(r);e.escape=function(t){return t.replace(d,l).replace(u,p).replace(h,l)}},function(t,e,n){var r=n(79),i=n(119),s=n(78),o=n(120),a=h(s),c=h(r);function h(t){var e=Object.keys(t).join("|"),n=p(t),r=new RegExp("&(?:"+(e+="|#[xX][\\da-fA-F]+|#\\d+")+");","g");return function(t){return String(t).replace(r,n)}}var u=function(){for(var t=Object.keys(i).sort(l),e=Object.keys(r).sort(l),n=0,s=0;n<e.length;n++)t[s]===e[n]?(e[n]+=";?",s++):e[n]+=";";var o=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),a=p(r);function c(t){return";"!==t.substr(-1)&&(t+=";"),a(t)}return function(t){return String(t).replace(o,c)}}();function l(t,e){return t<e?1:-1}function p(t){return function(e){return"#"===e.charAt(1)?"X"===e.charAt(2)||"x"===e.charAt(2)?o(parseInt(e.substr(3),16)):o(parseInt(e.substr(2),10)):t[e.slice(1,-1)]}}t.exports={XML:a,HTML:u,HTMLStrict:c}},function(t,e){t.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},function(t,e,n){const r=n(254),i=n(259),s=n(6),o=n(260),a=n(127),c=n(167),h=n(375),u=n(151),l=n(376),p=n(162),{createComponentPatches:f}=n(378),d=n(27),g=n(390),m=n(395),v=n(403),b=n(405),_=n(407),y={validateDesign:t=>{try{return c.parse(t,{strict:!0}),{valid:!0}}catch(t){return{valid:!1,error:t}}},design:new h,createLivingdoc({content:t,design:e,layoutName:n,componentTree:r,config:i}){return this.config(i),o.create({content:t,design:e,layoutName:n,componentTree:r})},create(){return this.createLivingdoc.apply(this,arguments)},config(t){if(r(s,t),t&&t.imageServices)for(const e of Object.keys(t.imageServices))i(s,`imageServices.${e}`,t.imageServices[e])},createComponentPatches:t=>f(t),rendering:p,imageServices:u,getImageService:t=>u.get(t),plugins:l,Livingdoc:o,ComponentTree:a,DesignCache:h};o.setLivingdocsApi(y),y.imageServices.add("default",d),y.imageServices.add("resrc.it",g),y.imageServices.add("sz",m),y.imageServices.add("imgix",v),y.imageServices.add("image.resizer",_),y.imageServices.add("liImageProxy",b),t.exports=y},function(t,e,n){var r=n(255),i=n(124)(function(t,e,n){r(t,e,n)});t.exports=i},function(t,e,n){var r=n(44),i=n(121),s=n(96),o=n(256),a=n(8),c=n(50),h=n(123);t.exports=function t(e,n,u,l,p){e!==n&&s(n,function(s,c){if(a(s))p||(p=new r),o(e,n,c,u,t,l,p);else{var f=l?l(h(e,c),s,c+"",e,n,p):void 0;void 0===f&&(f=s),i(e,c,f)}},c)}},function(t,e,n){var r=n(121),i=n(102),s=n(110),o=n(103),a=n(111),c=n(29),h=n(0),u=n(80),l=n(30),p=n(42),f=n(8),d=n(122),g=n(41),m=n(123),v=n(257);t.exports=function(t,e,n,b,_,y,x){var w=m(t,n),C=m(e,n),S=x.get(C);if(S)r(t,n,S);else{var E=y?y(w,C,n+"",t,e,x):void 0,T=void 0===E;if(T){var A=h(C),k=!A&&l(C),D=!A&&!k&&g(C);E=C,A||k||D?h(w)?E=w:u(w)?E=o(w):k?(T=!1,E=i(C,!0)):D?(T=!1,E=s(C,!0)):E=[]:d(C)||c(C)?(E=w,c(w)?E=v(w):f(w)&&!p(w)||(E=a(C))):T=!1}T&&(x.set(C,E),_(E,C,b,y,x),x.delete(C)),r(t,n,E)}}},function(t,e,n){var r=n(17),i=n(50);t.exports=function(t){return r(t,i(t))}},function(t,e,n){var r=n(34),i=n(7),s=n(31),o=n(8);t.exports=function(t,e,n){if(!o(n))return!1;var a=typeof e;return!!("number"==a?i(n)&&s(e,n.length):"string"==a&&e in n)&&r(n[e],t)}},function(t,e,n){var r=n(113);t.exports=function(t,e,n){return null==t?t:r(t,e,n)}},function(t,e,n){const{EventEmitter:r}=n(82),{log:i,assert:s}=n(2),o=n(6),a=n(127),c=n(157),h=n(333),u=n(344),l=n(58),p=n(345),f=n(162);class d extends r{static create({content:t,design:e,layoutName:n,componentTree:r}){if(t)s(e,"Livingdoc.create(): missing param 'design'"),e=d.loadDesignIfNeeded(e),r=new a({content:t,design:e});else if(e)e=d.loadDesignIfNeeded(e),r=new a({design:e});else{if(r)return new d({componentTree:r,layoutName:n});s(!1,"Livingdoc.create(): Insufficient params;\n        pass either 'content' and 'design' or 'componentTree'")}return new d({componentTree:r,layoutName:n})}static setLivingdocsApi(t){d.api=t}static loadDesignIfNeeded(t){if(!(t instanceof l)){const{name:e,version:n}=t;t=d.api.design.get(e,n)}return t}constructor({componentTree:t,layoutName:e}){super(),this.componentTree=t,this.layoutName=e,this.interactiveView=void 0,this.readOnlyViews=[],this.design=this.componentTree.design,this.dependencies=new c({componentTree:this.componentTree}),this.fieldMapping=new u(this.design.metadata),this.metadataConfig=this.fieldMapping,this.fieldExtractor=new h(this.componentTree,this.fieldMapping),this.history=new p(this,o.history),this.forwardComponentTreeEvents()}forwardComponentTreeEvents(){this.componentTree.changed.add(()=>{this.emit("change",arguments)})}createComponent(){return this.componentTree.createComponent.apply(this.componentTree,arguments)}addJsDependency(t){this.dependencies.addJs(t)}addCssDependency(t){this.dependencies.addCss(t)}hasDependencies(){return this.dependencies&&(this.dependencies.hasJs()||this.dependencies.hasCss())}toHtml({excludeComponents:t}={}){return t&&i.warn("toHtml(): param excludeComponents is deprecated"),this.render()}render({settings:t}={}){return f.render({componentTree:this.componentTree},t)}serialize(t){const e=this.componentTree.serialize(t);return e.layout=this.layoutName,e}toJson(t){const e=this.serialize();if(t){const t=null,n=2;return JSON.stringify(e,t,n)}return JSON.stringify(e)}printModel(){this.componentTree.print()}}t.exports=d},function(t,e){t.exports=class{constructor(t){this.components=t,this.components||(this.components=[]),this.createPseudoArray()}createPseudoArray(){for(let t=0;t<this.components.length;t++){const e=this.components[t];this[t]=e}this.length=this.components.length,this.components.length&&(this.first=this[0],this.last=this[this.components.length-1])}each(t){for(const e of this.components)t(e);return this}remove(){return this.each(t=>t.remove()),this}}},function(t,e,n){const r=n(20),i=n(67),s=n(0),o=n(2).assert,a=n(129);a.prototype.toJson=function(t={}){const e={identifier:this.structure.identifier};t.omitId||(e.id=this.id);const n={};for(const t of Array.from(this.directives))t.isEmpty()||(n[t.name]=t.serialize());i(n)||(e.content=n),i(this.styles)||(e.styles=r(this.styles)),i(this.dataValues)||(e.data=r(this.dataValues));for(const n of Array.from(this.containers))e.containers||(e.containers={}),e.containers[n.name]=[],t.deep&&n.children(i=>{const s=r(this.toJson.call(i,t));e.containers[n.name].push(s)});return e};t.exports={toJson:t=>a.prototype.toJson.call(t),fromJson(e,n){let r,i=e.component;i||(i=n.getComponentNameFromIdentifier(e.identifier)),i&&(r=n.getComponentStructure(i)),o(r,"deserializing component failed:"+`unknown component '${i}' in design ${n.identifier}`);const c=new a({structure:r,id:e.id});((t,e)=>{const n=[];for(const r in e){const i=e[r],s=t.directives.get(r);o(s,"deserializing component failed: "+`unknown directive '${r}' for component '${t.componentName}'`),n.push(s.deserialize(i))}})(c,e.content);for(const t of Object.keys(e.styles||{})){const n=e.styles[t];c.setStyle(t,n)}return e.data&&c.data(e.data),function(e,n,r){n&&Object.keys(n).forEach(i=>{const a=n[i];o(e.containers.has(i),`error while deserializing component: unknown container ${i}`),a&&(o(s(a),`error while deserializing component: container is not array ${i}`),a.forEach(n=>{e.append(i,t.exports.fromJson(n,r))}))})}(c,e.containers,n),c}}},function(t,e,n){var r=n(44),i=n(130),s=n(267),o=n(270),a=n(19),c=n(0),h=n(30),u=n(41),l=1,p="[object Arguments]",f="[object Array]",d="[object Object]",g=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,m,v,b){var _=c(t),y=c(e),x=_?f:a(t),w=y?f:a(e),C=(x=x==p?d:x)==d,S=(w=w==p?d:w)==d,E=x==w;if(E&&h(t)){if(!h(e))return!1;_=!0,C=!1}if(E&&!C)return b||(b=new r),_||u(t)?i(t,e,n,m,v,b):s(t,e,x,n,m,v,b);if(!(n&l)){var T=C&&g.call(t,"__wrapped__"),A=S&&g.call(e,"__wrapped__");if(T||A){var k=T?t.value():t,D=A?e.value():e;return b||(b=new r),v(k,D,n,m,b)}}return!!E&&(b||(b=new r),o(t,e,n,m,v,b))}},function(t,e){var n="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,n),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e,n){var r=n(18),i=n(109),s=n(34),o=n(130),a=n(268),c=n(269),h=1,u=2,l="[object Boolean]",p="[object Date]",f="[object Error]",d="[object Map]",g="[object Number]",m="[object RegExp]",v="[object Set]",b="[object String]",_="[object Symbol]",y="[object ArrayBuffer]",x="[object DataView]",w=r?r.prototype:void 0,C=w?w.valueOf:void 0;t.exports=function(t,e,n,r,w,S,E){switch(n){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case y:return!(t.byteLength!=e.byteLength||!S(new i(t),new i(e)));case l:case p:case g:return s(+t,+e);case f:return t.name==e.name&&t.message==e.message;case m:case b:return t==e+"";case d:var T=a;case v:var A=r&h;if(T||(T=c),t.size!=e.size&&!A)return!1;var k=E.get(t);if(k)return k==e;r|=u,E.set(t,e);var D=o(T(t),T(e),r,w,S,E);return E.delete(t),D;case _:if(C)return C.call(t)==C.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},function(t,e,n){var r=n(107),i=1,s=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,a,c){var h=n&i,u=r(t),l=u.length;if(l!=r(e).length&&!h)return!1;for(var p=l;p--;){var f=u[p];if(!(h?f in e:s.call(e,f)))return!1}var d=c.get(t);if(d&&c.get(e))return d==e;var g=!0;c.set(t,e),c.set(e,t);for(var m=h;++p<l;){var v=t[f=u[p]],b=e[f];if(o)var _=h?o(b,v,f,e,t,c):o(v,b,f,t,e,c);if(!(void 0===_?v===b||a(v,b,n,o,c):_)){g=!1;break}m||(m="constructor"==f)}if(g&&!m){var y=t.constructor,x=e.constructor;y!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof x&&x instanceof x)&&(g=!1)}return c.delete(t),c.delete(e),g}},function(t,e,n){const r=n(3),i=n(272),s=n(305),o=n(315),a=n(316),c=n(317),h=n(321),u=n(323);t.exports={create({component:t,structureDirective:e}){return new(this.getDirectiveConstructor(e.type))({component:t,structureDirective:e})},getDirectiveConstructor(t){switch(t){case"editable":return i;case"image":return s;case"html":return o;case"link":return a;case"include":return c;case"toggle":return h;case"style":return u;default:r(!1,`Unsupported component directive: ${t}`)}}}},function(t,e,n){const r=n(35),i=n(131),s=n(53),o=n(299),a=new o,c=/[\n\r]/g;class h extends r{constructor(){super(...arguments),this.tagWhitelist?this.editableValidator=new o({whitelist:this.tagWhitelist}):this.tagBlacklist&&(this.editableValidator=new o({blacklist:this.tagBlacklist}))}getText(t={newlineReplacement:" "}){const e=this.getContent(),n=i(e),r=s(n,{plainText:!0,decodeHTML:!0});return!1===t.newlineReplacement?r:r.replace(c,t.newlineReplacement)}setContent(t){if(t){const e=i(t);t=s(e,{plainText:this.plainText,editableValidator:this.editableValidator||a})}super.setContent(t)}}h.prototype.isEditable=!0,t.exports=h},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){var r=n(37),i=/\s+/g,s=n(134),o=n(275);function a(t,e,n){"object"==typeof t?(n=e,e=t,t=null):"function"==typeof e&&(n=e,e=c),this._callback=t,this._options=e||c,this._elementCB=n,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var c={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1};a.prototype.onparserinit=function(t){this._parser=t},a.prototype.onreset=function(){a.call(this,this._callback,this._options,this._elementCB)},a.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},a.prototype._handleCallback=a.prototype.onerror=function(t){if("function"==typeof this._callback)this._callback(t,this.dom);else if(t)throw t},a.prototype.onclosetag=function(){var t=this._tagStack.pop();this._options.withEndIndices&&t&&(t.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(t)},a.prototype._createDomElement=function(t){if(!this._options.withDomLvl1)return t;var e;for(var n in e="tag"===t.type?Object.create(o):Object.create(s),t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},a.prototype._addDomElement=function(t){var e=this._tagStack[this._tagStack.length-1],n=e?e.children:this.dom,r=n[n.length-1];t.next=null,this._options.withStartIndices&&(t.startIndex=this._parser.startIndex),this._options.withEndIndices&&(t.endIndex=this._parser.endIndex),r?(t.prev=r,r.next=t):t.prev=null,n.push(t),t.parent=e||null},a.prototype.onopentag=function(t,e){var n={type:"script"===t?r.Script:"style"===t?r.Style:r.Tag,name:t,attribs:e,children:[]},i=this._createDomElement(n);this._addDomElement(i),this._tagStack.push(i)},a.prototype.ontext=function(t){var e,n=this._options.normalizeWhitespace||this._options.ignoreWhitespace;if(!this._tagStack.length&&this.dom.length&&(e=this.dom[this.dom.length-1]).type===r.Text)n?e.data=(e.data+t).replace(i," "):e.data+=t;else if(this._tagStack.length&&(e=this._tagStack[this._tagStack.length-1])&&(e=e.children[e.children.length-1])&&e.type===r.Text)n?e.data=(e.data+t).replace(i," "):e.data+=t;else{n&&(t=t.replace(i," "));var s=this._createDomElement({data:t,type:r.Text});this._addDomElement(s)}},a.prototype.oncomment=function(t){var e=this._tagStack[this._tagStack.length-1];if(e&&e.type===r.Comment)e.data+=t;else{var n={data:t,type:r.Comment},i=this._createDomElement(n);this._addDomElement(i),this._tagStack.push(i)}},a.prototype.oncdatastart=function(){var t={children:[{data:"",type:r.Text}],type:r.CDATA},e=this._createDomElement(t);this._addDomElement(e),this._tagStack.push(e)},a.prototype.oncommentend=a.prototype.oncdataend=function(){this._tagStack.pop()},a.prototype.onprocessinginstruction=function(t,e){var n=this._createDomElement({name:t,data:e,type:r.Directive});this._addDomElement(n)},t.exports=a},function(t,e,n){var r=n(134),i=t.exports=Object.create(r),s={tagName:"name"};Object.keys(s).forEach(function(t){var e=s[t];Object.defineProperty(i,t,{get:function(){return this[e]||null},set:function(t){return this[e]=t,t}})})},function(t,e,n){var r=n(36),i=r.DomHandler,s=r.DomUtils;function o(t,e){this.init(t,e)}function a(t,e){return s.getElementsByTagName(t,e,!0)}function c(t,e){return s.getElementsByTagName(t,e,!0,1)[0]}function h(t,e,n){return s.getText(s.getElementsByTagName(t,e,n,1)).trim()}function u(t,e,n,r,i){var s=h(n,r,i);s&&(t[e]=s)}n(4)(o,i),o.prototype.init=i;var l=function(t){return"rss"===t||"feed"===t||"rdf:RDF"===t};o.prototype.onend=function(){var t,e,n={},r=c(l,this.dom);r&&("feed"===r.name?(e=r.children,n.type="atom",u(n,"id","id",e),u(n,"title","title",e),(t=c("link",e))&&(t=t.attribs)&&(t=t.href)&&(n.link=t),u(n,"description","subtitle",e),(t=h("updated",e))&&(n.updated=new Date(t)),u(n,"author","email",e,!0),n.items=a("entry",e).map(function(t){var e,n={};return u(n,"id","id",t=t.children),u(n,"title","title",t),(e=c("link",t))&&(e=e.attribs)&&(e=e.href)&&(n.link=e),(e=h("summary",t)||h("content",t))&&(n.description=e),(e=h("updated",t))&&(n.pubDate=new Date(e)),n})):(e=c("channel",r.children).children,n.type=r.name.substr(0,3),n.id="",u(n,"title","title",e),u(n,"link","link",e),u(n,"description","description",e),(t=h("lastBuildDate",e))&&(n.updated=new Date(t)),u(n,"author","managingEditor",e,!0),n.items=a("item",r.children).map(function(t){var e,n={};return u(n,"id","guid",t=t.children),u(n,"title","title",t),u(n,"link","link",t),u(n,"description","description",t),(e=h("pubDate",t))&&(n.pubDate=new Date(e)),n}))),this.dom=n,i.prototype._handleCallback.call(this,r?null:Error("couldn't find root of feed"))},t.exports=o},function(t,e,n){t.exports=i;var r=n(135);function i(t){r.call(this,new s(this),t)}function s(t){this.scope=t}n(4)(i,r),i.prototype.readable=!0;var o=n(36).EVENTS;Object.keys(o).forEach(function(t){if(0===o[t])s.prototype["on"+t]=function(){this.scope.emit(t)};else if(1===o[t])s.prototype["on"+t]=function(e){this.scope.emit(t,e)};else{if(2!==o[t])throw Error("wrong number of arguments!");s.prototype["on"+t]=function(e,n){this.scope.emit(t,e,n)}}})},function(t,e,n){var r=n(136);"disable"===process.env.READABLE_STREAM&&r?(t.exports=r,(e=t.exports=r.Readable).Readable=r.Readable,e.Writable=r.Writable,e.Duplex=r.Duplex,e.Transform=r.Transform,e.PassThrough=r.PassThrough,e.Stream=r):((e=t.exports=n(137)).Stream=r||e,e.Readable=e,e.Writable=n(141),e.Duplex=n(24),e.Transform=n(143),e.PassThrough=n(283),e.finished=n(86),e.pipeline=n(284))},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=n(38).Buffer,s=n(56).inspect,o=s&&s.custom||"inspect";t.exports=function(){function t(){this.head=null,this.tail=null,this.length=0}var e=t.prototype;return e.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},e.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},e.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},e.clear=function(){this.head=this.tail=null,this.length=0},e.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},e.concat=function(t){if(0===this.length)return i.alloc(0);for(var e,n,r,s=i.allocUnsafe(t>>>0),o=this.head,a=0;o;)e=o.data,n=s,r=a,i.prototype.copy.call(e,n,r),a+=o.data.length,o=o.next;return s},e.consume=function(t,e){var n;return t<this.head.data.length?(n=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):n=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),n},e.first=function(){return this.head.data},e._getString=function(t){var e=this.head,n=1,r=e.data;for(t-=r.length;e=e.next;){var i=e.data,s=t>i.length?i.length:t;if(s===i.length?r+=i:r+=i.slice(0,t),0===(t-=s)){s===i.length?(++n,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(s));break}++n}return this.length-=n,r},e._getBuffer=function(t){var e=i.allocUnsafe(t),n=this.head,r=1;for(n.data.copy(e),t-=n.data.length;n=n.next;){var s=n.data,o=t>s.length?s.length:t;if(s.copy(e,e.length-t,0,o),0===(t-=o)){o===s.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(o));break}++r}return this.length-=r,e},e[o]=function(t,e){return s(this,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){r(t,e,n[e])})}return t}({},e,{depth:0,customInspect:!1}))},t}()},function(t,e,n){"use strict";var r=new Set;t.exports.emitExperimentalWarning=process.emitWarning?function(t){if(!r.has(t)){var e=t+" is an experimental feature. This feature could change at any time";r.add(t),process.emitWarning(e,"ExperimentalWarning")}}:function(){}},function(t,e,n){t.exports=n(56).deprecate},function(t,e,n){"use strict";var r;function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=n(86),o=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),h=Symbol("ended"),u=Symbol("lastPromise"),l=Symbol("handlePromise"),p=Symbol("stream");function f(t,e){return{value:t,done:e}}function d(t){var e=t[o];if(null!==e){var n=t[p].read();null!==n&&(t[u]=null,t[o]=null,t[a]=null,e(f(n,!1)))}}var g=Object.getPrototypeOf(function(){}),m=Object.setPrototypeOf((i(r={get stream(){return this[p]},next:function(){var t=this,e=this[c];if(null!==e)return Promise.reject(e);if(this[h])return Promise.resolve(f(null,!0));if(this[p].destroyed)return new Promise(function(e,n){process.nextTick(function(){t[c]?n(t[c]):e(f(null,!0))})});var n,r=this[u];if(r)n=new Promise(function(t,e){return function(n,r){t.then(function(){e[l](n,r)},r)}}(r,this));else{var i=this[p].read();if(null!==i)return Promise.resolve(f(i,!1));n=new Promise(this[l])}return this[u]=n,n}},Symbol.asyncIterator,function(){return this}),i(r,"return",function(){var t=this;return new Promise(function(e,n){t[p].destroy(null,function(t){t?n(t):e(f(null,!0))})})}),r),g);t.exports=function(t){var e,n=Object.create(m,(i(e={},p,{value:t,writable:!0}),i(e,o,{value:null,writable:!0}),i(e,a,{value:null,writable:!0}),i(e,c,{value:null,writable:!0}),i(e,h,{value:t._readableState.endEmitted,writable:!0}),i(e,u,{value:null,writable:!0}),i(e,l,{value:function(t,e){var r=n[p].read();r?(n[u]=null,n[o]=null,n[a]=null,t(f(r,!1))):(n[o]=t,n[a]=e)},writable:!0}),e));return s(t,function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=n[a];return null!==e&&(n[u]=null,n[o]=null,n[a]=null,e(t)),void(n[c]=t)}var r=n[o];null!==r&&(n[u]=null,n[o]=null,n[a]=null,r(f(null,!0))),n[h]=!0}),t.on("readable",function(t){process.nextTick(d,t)}.bind(null,n)),n}},function(t,e,n){"use strict";t.exports=i;var r=n(143);function i(t){if(!(this instanceof i))return new i(t);r.call(this,t)}n(4)(i,r),i.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){"use strict";var r;var i=n(23).codes,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(t){if(t)throw t}function c(t){t()}function h(t,e){return t.pipe(e)}t.exports=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var u,l=function(t){return t.length?"function"!=typeof t[t.length-1]?a:t.pop():a}(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new s("streams");var p=e.map(function(t,i){var s=i<e.length-1;return function(t,e,i,s){s=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(s);var a=!1;t.on("close",function(){a=!0}),void 0===r&&(r=n(86)),r(t,{readable:e,writable:i},function(t){if(t)return s(t);a=!0,s()});var c=!1;return function(e){if(!a&&!c)return c=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void s(e||new o("pipe"))}}(t,s,i>0,function(t){u||(u=t),t&&p.forEach(c),s||(p.forEach(c),l(u))})});return e.reduce(h)}},function(t,e){t.exports=require("string_decoder")},function(t,e,n){function r(t){this._cbs=t||{}}t.exports=r;var i=n(36).EVENTS;Object.keys(i).forEach(function(t){if(0===i[t])t="on"+t,r.prototype[t]=function(){this._cbs[t]&&this._cbs[t]()};else if(1===i[t])t="on"+t,r.prototype[t]=function(e){this._cbs[t]&&this._cbs[t](e)};else{if(2!==i[t])throw Error("wrong number of arguments");t="on"+t,r.prototype[t]=function(e,n){this._cbs[t]&&this._cbs[t](e,n)}}})},function(t,e,n){var r=t.exports;[n(288),n(291),n(292),n(293),n(294),n(295)].forEach(function(t){Object.keys(t).forEach(function(e){r[e]=t[e].bind(r)})})},function(t,e,n){var r=n(37),i=n(289),s=r.isTag;t.exports={getInnerHTML:function(t,e){return t.children?t.children.map(function(t){return i(t,e)}).join(""):""},getOuterHTML:i,getText:function t(e){if(Array.isArray(e))return e.map(t).join("");if(s(e))return"br"===e.name?"\n":t(e.children);if(e.type===r.CDATA)return t(e.children);if(e.type===r.Text)return e.data;return""}}},function(t,e,n){var r=n(290),i=n(54),s={__proto__:null,allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,hidden:!0,ismap:!0,loop:!0,multiple:!0,muted:!0,open:!0,readonly:!0,required:!0,reversed:!0,scoped:!0,seamless:!0,selected:!0,typemustmatch:!0},o={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0};var a={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},c=t.exports=function(t,e){Array.isArray(t)||t.cheerio||(t=[t]),e=e||{};for(var n="",i=0;i<t.length;i++){var s=t[i];"root"===s.type?n+=c(s.children,e):r.isTag(s)?n+=h(s,e):s.type===r.Directive?n+=u(s):s.type===r.Comment?n+=f(s):s.type===r.CDATA?n+=p(s):n+=l(s,e)}return n};function h(t,e){"svg"===t.name&&(e={decodeEntities:e.decodeEntities,xmlMode:!0});var n="<"+t.name,r=function(t,e){if(t){var n,r="";for(var o in t)r&&(r+=" "),!(n=t[o])&&s[o]?r+=o:r+=o+'="'+(e.decodeEntities?i.encodeXML(n):n)+'"';return r}}(t.attribs,e);return r&&(n+=" "+r),!e.xmlMode||t.children&&0!==t.children.length?(n+=">",t.children&&(n+=c(t.children,e)),a[t.name]&&!e.xmlMode||(n+="</"+t.name+">")):n+="/>",n}function u(t){return"<"+t.data+">"}function l(t,e){var n=t.data||"";return!e.decodeEntities||t.parent&&t.parent.name in o||(n=i.encodeXML(n)),n}function p(t){return"<![CDATA["+t.children[0].data+"]]>"}function f(t){return"\x3c!--"+t.data+"--\x3e"}},function(t,e){t.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",isTag:function(t){return"tag"===t.type||"script"===t.type||"style"===t.type}}},function(t,e){var n=e.getChildren=function(t){return t.children},r=e.getParent=function(t){return t.parent};e.getSiblings=function(t){var e=r(t);return e?n(e):[t]},e.getAttributeValue=function(t,e){return t.attribs&&t.attribs[e]},e.hasAttrib=function(t,e){return!!t.attribs&&hasOwnProperty.call(t.attribs,e)},e.getName=function(t){return t.name}},function(t,e){e.removeElement=function(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){var e=t.parent.children;e.splice(e.lastIndexOf(t),1)}},e.replaceElement=function(t,e){var n=e.prev=t.prev;n&&(n.next=e);var r=e.next=t.next;r&&(r.prev=e);var i=e.parent=t.parent;if(i){var s=i.children;s[s.lastIndexOf(t)]=e}},e.appendChild=function(t,e){if(e.parent=t,1!==t.children.push(e)){var n=t.children[t.children.length-2];n.next=e,e.prev=n,e.next=null}},e.append=function(t,e){var n=t.parent,r=t.next;if(e.next=r,e.prev=t,t.next=e,e.parent=n,r){if(r.prev=e,n){var i=n.children;i.splice(i.lastIndexOf(r),0,e)}}else n&&n.children.push(e)},e.prepend=function(t,e){var n=t.parent;if(n){var r=n.children;r.splice(r.lastIndexOf(t),0,e)}t.prev&&(t.prev.next=e),e.parent=n,e.prev=t.prev,e.next=t,t.prev=e}},function(t,e,n){var r=n(37).isTag;function i(t,e,n,r){for(var s,o=[],a=0,c=e.length;a<c&&!(t(e[a])&&(o.push(e[a]),--r<=0))&&(s=e[a].children,!(n&&s&&s.length>0&&(s=i(t,s,n,r),o=o.concat(s),(r-=s.length)<=0)));a++);return o}t.exports={filter:function(t,e,n,r){Array.isArray(e)||(e=[e]);"number"==typeof r&&isFinite(r)||(r=1/0);return i(t,e,!1!==n,r)},find:i,findOneChild:function(t,e){for(var n=0,r=e.length;n<r;n++)if(t(e[n]))return e[n];return null},findOne:function t(e,n){var i=null;for(var s=0,o=n.length;s<o&&!i;s++)r(n[s])&&(e(n[s])?i=n[s]:n[s].children.length>0&&(i=t(e,n[s].children)));return i},existsOne:function t(e,n){for(var i=0,s=n.length;i<s;i++)if(r(n[i])&&(e(n[i])||n[i].children.length>0&&t(e,n[i].children)))return!0;return!1},findAll:function(t,e){var n=[],i=e.slice();for(;i.length;){var s=i.shift();r(s)&&(s.children&&s.children.length>0&&i.unshift.apply(i,s.children),t(s)&&n.push(s))}return n}}},function(t,e,n){var r=n(37),i=e.isTag=r.isTag;e.testElement=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){if("tag_name"===n){if(!i(e)||!t.tag_name(e.name))return!1}else if("tag_type"===n){if(!t.tag_type(e.type))return!1}else if("tag_contains"===n){if(i(e)||!t.tag_contains(e.data))return!1}else if(!e.attribs||!t[n](e.attribs[n]))return!1}else;return!0};var s={tag_name:function(t){return"function"==typeof t?function(e){return i(e)&&t(e.name)}:"*"===t?i:function(e){return i(e)&&e.name===t}},tag_type:function(t){return"function"==typeof t?function(e){return t(e.type)}:function(e){return e.type===t}},tag_contains:function(t){return"function"==typeof t?function(e){return!i(e)&&t(e.data)}:function(e){return!i(e)&&e.data===t}}};function o(t,e){return"function"==typeof e?function(n){return n.attribs&&e(n.attribs[t])}:function(n){return n.attribs&&n.attribs[t]===e}}function a(t,e){return function(n){return t(n)||e(n)}}e.getElements=function(t,e,n,r){var i=Object.keys(t).map(function(e){var n=t[e];return e in s?s[e](n):o(e,n)});return 0===i.length?[]:this.filter(i.reduce(a),e,n,r)},e.getElementById=function(t,e,n){return Array.isArray(e)||(e=[e]),this.findOne(o("id",t),e,!1!==n)},e.getElementsByTagName=function(t,e,n,r){return this.filter(s.tag_name(t),e,n,r)},e.getElementsByTagType=function(t,e,n,r){return this.filter(s.tag_type(t),e,n,r)}},function(t,e){e.removeSubsets=function(t){for(var e,n,r,i=t.length;--i>-1;){for(e=n=t[i],t[i]=null,r=!0;n;){if(t.indexOf(n)>-1){r=!1,t.splice(i,1);break}n=n.parent}r&&(t[i]=e)}return t};var n=1,r=2,i=4,s=8,o=16,a=e.compareDocumentPosition=function(t,e){var a,c,h,u,l,p,f=[],d=[];if(t===e)return 0;for(a=t;a;)f.unshift(a),a=a.parent;for(a=e;a;)d.unshift(a),a=a.parent;for(p=0;f[p]===d[p];)p++;return 0===p?n:(h=(c=f[p-1]).children,u=f[p],l=d[p],h.indexOf(u)>h.indexOf(l)?c===e?i|o:i:c===t?r|s:r)};e.uniqueSort=function(t){var e,n,s=t.length;for(t=t.slice();--s>-1;)e=t[s],(n=t.indexOf(e))>-1&&n<s&&t.splice(s,1);return t.sort(function(t,e){var n=a(t,e);return n&r?-1:n&i?1:0}),t}},function(t,e,n){function r(t){this._cbs=t||{},this.events=[]}t.exports=r;var i=n(36).EVENTS;Object.keys(i).forEach(function(t){if(0===i[t])t="on"+t,r.prototype[t]=function(){this.events.push([t]),this._cbs[t]&&this._cbs[t]()};else if(1===i[t])t="on"+t,r.prototype[t]=function(e){this.events.push([t,e]),this._cbs[t]&&this._cbs[t](e)};else{if(2!==i[t])throw Error("wrong number of arguments");t="on"+t,r.prototype[t]=function(e,n){this.events.push([t,e,n]),this._cbs[t]&&this._cbs[t](e,n)}}}),r.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},r.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var t=0,e=this.events.length;t<e;t++)if(this._cbs[this.events[t][0]]){var n=this.events[t].length;1===n?this._cbs[this.events[t][0]]():2===n?this._cbs[this.events[t][0]](this.events[t][1]):this._cbs[this.events[t][0]](this.events[t][1],this.events[t][2])}}},function(t,e,n){const r=n(298),i=/\s+/g,s={normalizeWhitespace:!1,withStartIndices:!1,withReferences:!0};t.exports=class t{constructor(t,e){this._callback=e||function(){},this._options=t||s,this._done=!1,this._tagStack=[],this._parser=this._parser||null,this.dom=[]}onparserinit(t){this._parser=t}onreset(){t.call(this,this._callback,this._options)}onend(){this._done||(this._done=!0,this._parser=null,this._callback(null,this.dom))}onerror(t){this.error=t,this._callback(t)}onopentag(t,e){let n=r.Tag;"script"===t?n=r.Script:"style"===t&&r.Style;const i={type:n,name:t,attribs:e,children:[]};this._addDomElement(i),this._tagStack.push(i)}onclosetag(){this._tagStack.pop()}ontext(t){const e=this._options.normalizeWhitespace,n=this._getLastTag();n&&n.type===r.Text?e?n.data=(n.data+t).replace(i," "):n.data+=t:(e&&(t=t.replace(i," ")),this._addDomElement({data:t,type:r.Text}))}oncomment(t){const e=this._tagStack[this._tagStack.length-1];if(e&&e.type===r.Comment)return void(e.data+=t);const n={data:t,type:r.Comment};this._addDomElement(n),this._tagStack.push(n)}oncommentend(){this._tagStack.pop()}oncdatastart(){this.onerror(new Error("cdata is not supported"))}onprocessinginstruction(t,e){this.onerror(new Error("processing instructions are not supported"))}_addDomElement(t){const e=this._tagStack[this._tagStack.length-1],n=e?e.children:this.dom;if(this._options.withStartIndices&&(t.startIndex=this._parser.startIndex),this._options.withReferences){const r=n[n.length-1];t.parent=e||null,t.next=null,r?(t.prev=r,r.next=t):t.prev=null}n.push(t)}_getLastTag(){if(this._tagStack.length){const t=this._tagStack[this._tagStack.length-1],{children:e}=t;if(e.length)return e[e.length-1]}else if(this.dom.length)return this.dom[this.dom.length-1]}}},function(t,e){t.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:t=>"tag"===t.type||"script"===t.type||"style"===t.type}},function(t,e,n){const r=n(144),i=["svg","script","style","font"];t.exports=class{constructor({whitelist:t,blacklist:e}={}){Array.isArray(t)?this.validate=(e=>r(t,e)):Array.isArray(e)&&(this.validate=(t=>!r(e,t)))}isProhibited(t){return!!r(i,t.name)||(!!s(t)||!!this.validate&&!this.validate(t.name))}};const s=t=>"span"===t.name&&function(t){return t.attribs.style&&1===Object.keys(t.attribs).length}(t)},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},function(t,e,n){var r=n(303),i=1/0,s=1.7976931348623157e308;t.exports=function(t){return t?(t=r(t))===i||t===-i?(t<0?-1:1)*s:t==t?t:0:0===t?t:0}},function(t,e,n){var r=n(8),i=n(52),s=NaN,o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,h=/^0o[0-7]+$/i,u=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return s;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var n=c.test(t);return n||h.test(t)?u(t.slice(2),n?2:8):a.test(t)?s:+t}},function(t,e,n){var r=n(13);t.exports=function(t,e){return r(e,function(e){return t[e]})}},function(t,e,n){const r=n(306),i=n(0),s=n(3),o=n(151),a=n(88);let c=!1,h=!1;class u extends a{setContent({originalUrl:t,url:e,width:n,height:r,mimeType:i,imageService:s,origins:o,crop:a}){this.component.beforeDirectiveChanging(this.name);this.setImage({originalUrl:t,url:e,width:n,height:r,mimeType:i,imageService:s,origins:o},!0),this.setCrop(a,!0),this.component.directiveChanging(this.name)}setTemporaryImage(t){this.component.beforeDirectiveChanging(this.name),this.temporaryImage=t,this.component.directiveChanging(this.name)}setBase64Image(t){c||(c=!0,console.warn("ImageDirective.setBase64Image() is deprecated. Please use #setTemporaryImage().")),this.setTemporaryImage(t)}setImage({originalUrl:t,url:e,width:n,height:r,mimeType:i,imageService:s,origins:o},a){a||this.component.beforeDirectiveChanging(this.name),this.reset(),""===e&&(e=void 0),this.content.originalUrl=t,this.content.url=e,this.content.width=n,this.content.height=r,this.content.mimeType=i,this.setImageService(s),this.setOrigins(o),this.processImageUrl(),a||this.component.directiveChanging(this.name)}setCrop(t,e){if(null!=this.content.url){if(e||this.component.beforeDirectiveChanging(this.name),t){const{x:e,y:n,width:r,height:i,name:s}=t;this.content.crop={x:e,y:n,width:r,height:i,name:s}}else this.content.crop=void 0;this.processImageUrl(),e||this.component.directiveChanging(this.name)}}resetCrop(){this.setCrop(void 0)}hasDifferentContent(t){return this.getProcessedUrl()!==t}isBackgroundImage(){return!!this.setAsBackground}isInlineImage(){return!this.setAsBackground}isTemporaryImage(){return!!this.temporaryImage}isBase64(){return h||(h=!0,console.warn("ImageDirective.isBase64() is deprecated. Please use #isTemporaryImage().")),this.isTemporaryImage()}isGif(){return"image/gif"===this.content.mimeType}getOrigins(){return this.content.origins}getUrl(){return this.getOriginalUrl()}getOriginalUrl(){return this.content.originalUrl||this.content.url}getTemporaryUrl(){return this.temporaryImage}getMimeType(){return this.content.mimeType}getCrop(){return this.content.crop}getUncroppedUrl(){const t=this.getImageService(),e=this.getOriginalUrl();return t.getUncroppedUrl(e)}getProcessedUrl(t={}){const e=this.getOriginalUrl();if(this.hasDefaultImageService())return e;{const n=this.getImageService(),r=Object.assign({crop:this.content.crop},t);return n.getUrl(e,r)}}getImageUrl(){return console.warn("ImageDirective.getImageUrl() is deprecated. Use getProcessedUrl() instead"),this.getProcessedUrl()}getOriginalImageDimensions(){const{width:t,height:e}=this.content;return{width:t,height:e}}getImageService(){const t=this.content.imageService||void 0;return o.get(t)}getImageServiceName(){return this.getImageService().name}hasDefaultImageService(){return"default"===this.getImageServiceName()}processImageUrl(){this.hasDefaultImageService()||(this.content.originalUrl=this.getOriginalUrl(),this.content.url=this.getProcessedUrl())}setOrigins(t){t&&(i(t)||(t=[t]),this.content.origins=t.map(t=>(s(t&&t.name&&t.identifier,"Error: setOrigins() must be called with an array name and identifier keys"),{name:t.name,identifier:t.identifier})))}setImageService(t){t&&function(t,e){s(o.has(e),`Error: could not find image service ${e}`);const n=o.get(e),r=t.getMimeType(),i=t.isBackgroundImage();return n.canProcessAsset(r,i)}(this,t)&&(this.content.imageService=t)}reset(){this.temporaryImage=void 0,this.content={}}serialize(){return r(this.content,t=>null==t)}deserialize(t){"string"==typeof t?this.content.url=t:super.deserialize(t)}}u.prototype.isImage=!0,t.exports=u},function(t,e,n){var r=n(15),i=n(313),s=n(314);t.exports=function(t,e){return s(t,i(r(e)))}},function(t,e,n){var r=n(308),i=n(309),s=n(149);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?s(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(44),i=n(83),s=1,o=2;t.exports=function(t,e,n,a){var c=n.length,h=c,u=!a;if(null==t)return!h;for(t=Object(t);c--;){var l=n[c];if(u&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++c<h;){var p=(l=n[c])[0],f=t[p],d=l[1];if(u&&l[2]){if(void 0===f&&!(p in t))return!1}else{var g=new r;if(a)var m=a(f,d,p,t,e,g);if(!(void 0===m?i(d,f,s|o,a,g):m))return!1}}return!0}},function(t,e,n){var r=n(148),i=n(11);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var s=e[n],o=t[s];e[n]=[s,o,r(o)]}return e}},function(t,e,n){var r=n(83),i=n(1),s=n(114),o=n(77),a=n(148),c=n(149),h=n(22),u=1,l=2;t.exports=function(t,e){return o(t)&&a(e)?c(h(t),e):function(n){var o=i(n,t);return void 0===o&&o===e?s(n,t):r(e,o,u|l)}}},function(t,e,n){var r=n(150),i=n(312),s=n(77),o=n(22);t.exports=function(t){return s(t)?r(o(t)):i(t)}},function(t,e,n){var r=n(51);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e){var n="Expected a function";t.exports=function(t){if("function"!=typeof t)throw new TypeError(n);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}},function(t,e,n){var r=n(13),i=n(15),s=n(112),o=n(75);t.exports=function(t,e){if(null==t)return{};var n=r(o(t),function(t){return[t]});return e=i(e),s(t,n,function(t,n){return e(t,n[0])})}},function(t,e,n){const r=n(35);class i extends r{setEmbedHandler(t){this.setData("_embedHandler",t)}getEmbedHandler(){return this.getData("_embedHandler")}}i.prototype.isHtml=!0,t.exports=i},function(t,e,n){const r=n(35);class i extends r{}i.prototype.isLink=!0,t.exports=i},function(t,e,n){const r=n(12),i=n(67),s=n(152),o=n(0),a=n(318),c=n(153),h=n(3),u=n(88);t.exports=class extends u{constructor(){super(arguments[0]),this.validate(),this.service?this.initService({service:this.service,defaultParams:this.defaultParams,label:this.label||""}):this.initServices()}initService(t){const e={service:t.service};return t.defaultParams&&(e.params=t.defaultParams),t.config&&(this.config=t.config),this.deserialize(e)}initServices(){const t=this.services[0];return this.initService(t)}changeService(t){const e=c(this.services,{service:t});h(!i(e),`Can not change to service ${t}, service not defined.`),e.service!==this.getService()&&(this.initService(e),this.component.directiveChanging(this.name))}hasServices(){return!i(this.getServices())}get isInclude(){return!0}getService(){return this.content.service}getServices(){return a(this.services,t=>({service:t.service,label:t.label}))||[]}getParams(){return this.content.params}setParams(t){this.hasDifferentProperty("params",t)&&(this.component.beforeDirectiveChanging(this.name),this.content.params=t,this.component.directiveChanging(this.name))}addParams(t){const e=this.getParams()||{},n=s({},e,t);this.setParams(n)}getLabel(){return this.content.label}refresh(){this&&this.component&&this.component.requestDirectiveViewUpdate(this.name)}validate(){const t=!i(this.service),e=!i(this.services);h(t||e,`include directive:\n    service or services is required for directive: ${this.name}\n    `),t?h(r(this.service),`include directive:\n      service is expected to be a string for directive: ${this.name}\n      `):(h(o(this.services),`inlcude directive:\n      services is expected to be an array for directive: ${this.name}`),h(!i(this.services),`include directive:\n      services is expected to contain at least one service for directive ${this.name}`))}isResolved(){if(this.resolvedValue||""===this.resolvedValue)return!0}resolve(t){this.resolvedValue=t||(""===t?"":void 0)}}},function(t,e,n){var r=n(13),i=n(15),s=n(319),o=n(0);t.exports=function(t,e){return(o(t)?r:s)(t,i(e,3))}},function(t,e,n){var r=n(40),i=n(7);t.exports=function(t,e){var n=-1,s=i(t)?Array(t.length):[];return r(t,function(t,r,i){s[++n]=e(t,r,i)}),s}},function(t,e,n){var r=n(15),i=n(7),s=n(11);t.exports=function(t){return function(e,n,o){var a=Object(e);if(!i(e)){var c=r(n,3);e=s(e),n=function(t){return c(a[t],t,a)}}var h=t(e,n,o);return h>-1?a[c?e[h]:h]:void 0}}},function(t,e,n){const r=n(322),i=n(35),s=n(25);class o extends i{constructor(){super(...arguments),this.label=this.label||s.humanize(this.name);const t=!1!==this.default;this.deserialize(t)}setContent(t){t=a(t),super.setContent(t)}deserialize(t){t=a(t),super.deserialize(t)}getLabel(){return this.label}isEmpty(){return null==this.getContent()}}function a(t){return!r(t)||t}o.prototype.isToggle=!0,t.exports=o},function(t,e,n){var r=n(10),i=n(5),s="[object Boolean]";t.exports=function(t){return!0===t||!1===t||i(t)&&r(t)==s}},function(t,e,n){const{log:r}=n(2),i=n(88);t.exports=class extends i{get styles(){return this.properties}setStyle(t,e){const n=this.getStyleConfig(t);if(!n)throw new Error(`Style directive: unknown style '${t}'`);n.validateValue(e)?(this.content[t]=e,this.component.directiveChanging(this.name)):r.warn(`Style directive: invalid value\n        '${e}' for style '${t}'`)}hasStyle(t){return!!this.properties[t]}getStyle(t){return this.content[t]}getStyleConfig(t){return this.properties[t]}listStyleNames(){return Object.keys(this.properties)}}},function(t,e,n){const r=n(1),i=n(57);t.exports=class{constructor({id:t,type:e}){this.id=t||i.next(),this.nodeType=e,this.parentContainer=void 0,this.next=void 0,this.previous=void 0,this.componentTree=void 0}before(t){return t?(this.parentContainer.insertBefore(this,t),this):this.previous}after(t){return t?(this.parentContainer.insertAfter(this,t),this):this.next}replaceWith(t){const e=this.previous||this.parentContainer,n=e===this.previous?"after":"prepend";return this.remove(),"after"===n?e.after(t):e.prepend(t),t}up(){return this.parentContainer.up(this),this}down(){return this.parentContainer.down(this),this}remove(){this.parentContainer.remove(this)}getParent(){return r(this.parentContainer,"parentComponent")}parents(t){let e=this;for(;e=e.getParent();)t(e)}parentContainers(t){let e=this;for(;null!=e;)t(e.parentContainer),e=e.getParent()}}},function(t,e,n){const{assert:r}=n(2);t.exports=class{constructor({container:t,component:e,componentTree:n}){r(t||e||n,"new ComponentTreeIterator(): specify one of these params:         container, component or componentTree"),this.current=void 0,e&&(this.root=this.nextComponent=e),(t||n)&&(n&&(t=n.root),this.nextComponent=t.first,this.root=t)}hasNext(){return!!this.nextComponent}next({skipChildren:t}={}){if(this.current=this.nextComponent,!this.current)return;let e;if(!t)for(let t=0;t<this.current.containers.length;t++){const n=this.current.containers[t];if(n.first){e=n.first;break}}return e||(e=this.getNextComponent(this.current)),this.nextComponent=e,this.current}getNextComponent(t){if(!t||t===this.root)return;if(t.next)return t.next;const e=t.parentContainer;if(!e||e===this.root)return;let n=e;for(;n=n.getNextContainer();)if(n.first)return n.first;return this.getNextComponent(e.parentComponent)}}},function(t,e){var n;e=t.exports=G,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("SEMVER"),console.log.apply(console,t)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var r=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,s=e.re=[],o=e.src=[],a=0,c=a++;o[c]="0|[1-9]\\d*";var h=a++;o[h]="[0-9]+";var u=a++;o[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var l=a++;o[l]="("+o[c]+")\\.("+o[c]+")\\.("+o[c]+")";var p=a++;o[p]="("+o[h]+")\\.("+o[h]+")\\.("+o[h]+")";var f=a++;o[f]="(?:"+o[c]+"|"+o[u]+")";var d=a++;o[d]="(?:"+o[h]+"|"+o[u]+")";var g=a++;o[g]="(?:-("+o[f]+"(?:\\."+o[f]+")*))";var m=a++;o[m]="(?:-?("+o[d]+"(?:\\."+o[d]+")*))";var v=a++;o[v]="[0-9A-Za-z-]+";var b=a++;o[b]="(?:\\+("+o[v]+"(?:\\."+o[v]+")*))";var _=a++,y="v?"+o[l]+o[g]+"?"+o[b]+"?";o[_]="^"+y+"$";var x="[v=\\s]*"+o[p]+o[m]+"?"+o[b]+"?",w=a++;o[w]="^"+x+"$";var C=a++;o[C]="((?:<|>)?=?)";var S=a++;o[S]=o[h]+"|x|X|\\*";var E=a++;o[E]=o[c]+"|x|X|\\*";var T=a++;o[T]="[v=\\s]*("+o[E]+")(?:\\.("+o[E]+")(?:\\.("+o[E]+")(?:"+o[g]+")?"+o[b]+"?)?)?";var A=a++;o[A]="[v=\\s]*("+o[S]+")(?:\\.("+o[S]+")(?:\\.("+o[S]+")(?:"+o[m]+")?"+o[b]+"?)?)?";var k=a++;o[k]="^"+o[C]+"\\s*"+o[T]+"$";var D=a++;o[D]="^"+o[C]+"\\s*"+o[A]+"$";var I=a++;o[I]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var j=a++;o[j]="(?:~>?)";var M=a++;o[M]="(\\s*)"+o[j]+"\\s+",s[M]=new RegExp(o[M],"g");var R=a++;o[R]="^"+o[j]+o[T]+"$";var P=a++;o[P]="^"+o[j]+o[A]+"$";var O=a++;o[O]="(?:\\^)";var N=a++;o[N]="(\\s*)"+o[O]+"\\s+",s[N]=new RegExp(o[N],"g");var q=a++;o[q]="^"+o[O]+o[T]+"$";var L=a++;o[L]="^"+o[O]+o[A]+"$";var B=a++;o[B]="^"+o[C]+"\\s*("+x+")$|^$";var U=a++;o[U]="^"+o[C]+"\\s*("+y+")$|^$";var $=a++;o[$]="(\\s*)"+o[C]+"\\s*("+x+"|"+o[T]+")",s[$]=new RegExp(o[$],"g");var V=a++;o[V]="^\\s*("+o[T]+")\\s+-\\s+("+o[T]+")\\s*$";var z=a++;o[z]="^\\s*("+o[A]+")\\s+-\\s+("+o[A]+")\\s*$";var H=a++;o[H]="(<|>)?=?\\s*\\*";for(var F=0;F<35;F++)n(F,o[F]),s[F]||(s[F]=new RegExp(o[F]));function W(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof G)return t;if("string"!=typeof t)return null;if(t.length>r)return null;if(!(e.loose?s[w]:s[_]).test(t))return null;try{return new G(t,e)}catch(t){return null}}function G(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof G){if(t.loose===e.loose)return t;t=t.version}else if("string"!=typeof t)throw new TypeError("Invalid Version: "+t);if(t.length>r)throw new TypeError("version is longer than "+r+" characters");if(!(this instanceof G))return new G(t,e);n("SemVer",t,e),this.options=e,this.loose=!!e.loose;var o=t.trim().match(e.loose?s[w]:s[_]);if(!o)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map(function(t){if(/^[0-9]+$/.test(t)){var e=+t;if(e>=0&&e<i)return e}return t}):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}e.parse=W,e.valid=function(t,e){var n=W(t,e);return n?n.version:null},e.clean=function(t,e){var n=W(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null},e.SemVer=G,G.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},G.prototype.toString=function(){return this.version},G.prototype.compare=function(t){return n("SemVer.compare",this.version,this.options,t),t instanceof G||(t=new G(t,this.options)),this.compareMain(t)||this.comparePre(t)},G.prototype.compareMain=function(t){return t instanceof G||(t=new G(t,this.options)),X(this.major,t.major)||X(this.minor,t.minor)||X(this.patch,t.patch)},G.prototype.comparePre=function(t){if(t instanceof G||(t=new G(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var e=0;do{var r=this.prerelease[e],i=t.prerelease[e];if(n("prerelease compare",e,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return X(r,i)}while(++e)},G.prototype.compareBuild=function(t){t instanceof G||(t=new G(t,this.options));var e=0;do{var r=this.build[e],i=t.build[e];if(n("prerelease compare",e,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return X(r,i)}while(++e)},G.prototype.inc=function(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e),this.inc("pre",e);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+t)}return this.format(),this.raw=this.version,this},e.inc=function(t,e,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new G(t,n).inc(e,r).version}catch(t){return null}},e.diff=function(t,e){if(K(t,e))return null;var n=W(t),r=W(e),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var s="prerelease"}for(var o in n)if(("major"===o||"minor"===o||"patch"===o)&&n[o]!==r[o])return i+o;return s},e.compareIdentifiers=X;var J=/^[0-9]+$/;function X(t,e){var n=J.test(t),r=J.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1}function Y(t,e,n){return new G(t,n).compare(new G(e,n))}function Z(t,e,n){return Y(t,e,n)>0}function Q(t,e,n){return Y(t,e,n)<0}function K(t,e,n){return 0===Y(t,e,n)}function tt(t,e,n){return 0!==Y(t,e,n)}function et(t,e,n){return Y(t,e,n)>=0}function nt(t,e,n){return Y(t,e,n)<=0}function rt(t,e,n,r){switch(e){case"===":return"object"==typeof t&&(t=t.version),"object"==typeof n&&(n=n.version),t===n;case"!==":return"object"==typeof t&&(t=t.version),"object"==typeof n&&(n=n.version),t!==n;case"":case"=":case"==":return K(t,n,r);case"!=":return tt(t,n,r);case">":return Z(t,n,r);case">=":return et(t,n,r);case"<":return Q(t,n,r);case"<=":return nt(t,n,r);default:throw new TypeError("Invalid operator: "+e)}}function it(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof it){if(t.loose===!!e.loose)return t;t=t.value}if(!(this instanceof it))return new it(t,e);n("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===st?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}e.rcompareIdentifiers=function(t,e){return X(e,t)},e.major=function(t,e){return new G(t,e).major},e.minor=function(t,e){return new G(t,e).minor},e.patch=function(t,e){return new G(t,e).patch},e.compare=Y,e.compareLoose=function(t,e){return Y(t,e,!0)},e.compareBuild=function(t,e,n){var r=new G(t,n),i=new G(e,n);return r.compare(i)||r.compareBuild(i)},e.rcompare=function(t,e,n){return Y(e,t,n)},e.sort=function(t,n){return t.sort(function(t,r){return e.compareBuild(t,r,n)})},e.rsort=function(t,n){return t.sort(function(t,r){return e.compareBuild(r,t,n)})},e.gt=Z,e.lt=Q,e.eq=K,e.neq=tt,e.gte=et,e.lte=nt,e.cmp=rt,e.Comparator=it;var st={};function ot(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof ot)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new ot(t.raw,e);if(t instanceof it)return new ot(t.value,e);if(!(this instanceof ot))return new ot(t,e);if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map(function(t){return this.parseRange(t.trim())},this).filter(function(t){return t.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+t);this.format()}function at(t,e){for(var n=!0,r=t.slice(),i=r.pop();n&&r.length;)n=r.every(function(t){return i.intersects(t,e)}),i=r.pop();return n}function ct(t){return!t||"x"===t.toLowerCase()||"*"===t}function ht(t,e,n,r,i,s,o,a,c,h,u,l,p){return((e=ct(n)?"":ct(r)?">="+n+".0.0":ct(i)?">="+n+"."+r+".0":">="+e)+" "+(a=ct(c)?"":ct(h)?"<"+(+c+1)+".0.0":ct(u)?"<"+c+"."+(+h+1)+".0":l?"<="+c+"."+h+"."+u+"-"+l:"<="+a)).trim()}function ut(t,e,r){for(var i=0;i<t.length;i++)if(!t[i].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(i=0;i<t.length;i++)if(n(t[i].semver),t[i].semver!==st&&t[i].semver.prerelease.length>0){var s=t[i].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}function lt(t,e,n){try{e=new ot(e,n)}catch(t){return!1}return e.test(t)}function pt(t,e,n,r){var i,s,o,a,c;switch(t=new G(t,r),e=new ot(e,r),n){case">":i=Z,s=nt,o=Q,a=">",c=">=";break;case"<":i=Q,s=et,o=Z,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(lt(t,e,r))return!1;for(var h=0;h<e.set.length;++h){var u=e.set[h],l=null,p=null;if(u.forEach(function(t){t.semver===st&&(t=new it(">=0.0.0")),l=l||t,p=p||t,i(t.semver,l.semver,r)?l=t:o(t.semver,p.semver,r)&&(p=t)}),l.operator===a||l.operator===c)return!1;if((!p.operator||p.operator===a)&&s(t,p.semver))return!1;if(p.operator===c&&o(t,p.semver))return!1}return!0}it.prototype.parse=function(t){var e=this.options.loose?s[B]:s[U],n=t.match(e);if(!n)throw new TypeError("Invalid comparator: "+t);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new G(n[2],this.options.loose):this.semver=st},it.prototype.toString=function(){return this.value},it.prototype.test=function(t){return n("Comparator.test",t,this.options.loose),this.semver===st||t===st||("string"==typeof t&&(t=new G(t,this.options)),rt(t,this.operator,this.semver,this.options))},it.prototype.intersects=function(t,e){if(!(t instanceof it))throw new TypeError("a Comparator is required");var n;if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),""===this.operator)return""===this.value||(n=new ot(t.value,e),lt(this.value,n,e));if(""===t.operator)return""===t.value||(n=new ot(this.value,e),lt(t.semver,n,e));var r=!(">="!==this.operator&&">"!==this.operator||">="!==t.operator&&">"!==t.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==t.operator&&"<"!==t.operator),s=this.semver.version===t.semver.version,o=!(">="!==this.operator&&"<="!==this.operator||">="!==t.operator&&"<="!==t.operator),a=rt(this.semver,"<",t.semver,e)&&(">="===this.operator||">"===this.operator)&&("<="===t.operator||"<"===t.operator),c=rt(this.semver,">",t.semver,e)&&("<="===this.operator||"<"===this.operator)&&(">="===t.operator||">"===t.operator);return r||i||s&&o||a||c},e.Range=ot,ot.prototype.format=function(){return this.range=this.set.map(function(t){return t.join(" ").trim()}).join("||").trim(),this.range},ot.prototype.toString=function(){return this.range},ot.prototype.parseRange=function(t){var e=this.options.loose;t=t.trim();var r=e?s[z]:s[V];t=t.replace(r,ht),n("hyphen replace",t),t=t.replace(s[$],"$1$2$3"),n("comparator trim",t,s[$]),t=(t=(t=t.replace(s[M],"$1~")).replace(s[N],"$1^")).split(/\s+/).join(" ");var i=e?s[B]:s[U],o=t.split(" ").map(function(t){return function(t,e){return n("comp",t,e),t=function(t,e){return t.trim().split(/\s+/).map(function(t){return function(t,e){n("caret",t,e);var r=e.loose?s[L]:s[q];return t.replace(r,function(e,r,i,s,o){var a;return n("caret",t,e,r,i,s,o),ct(r)?a="":ct(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":ct(s)?a="0"===r?">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":">="+r+"."+i+".0 <"+(+r+1)+".0.0":o?(n("replaceCaret pr",o),a="0"===r?"0"===i?">="+r+"."+i+"."+s+"-"+o+" <"+r+"."+i+"."+(+s+1):">="+r+"."+i+"."+s+"-"+o+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+s+"-"+o+" <"+(+r+1)+".0.0"):(n("no pr"),a="0"===r?"0"===i?">="+r+"."+i+"."+s+" <"+r+"."+i+"."+(+s+1):">="+r+"."+i+"."+s+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+s+" <"+(+r+1)+".0.0"),n("caret return",a),a})}(t,e)}).join(" ")}(t,e),n("caret",t),t=function(t,e){return t.trim().split(/\s+/).map(function(t){return function(t,e){var r=e.loose?s[P]:s[R];return t.replace(r,function(e,r,i,s,o){var a;return n("tilde",t,e,r,i,s,o),ct(r)?a="":ct(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":ct(s)?a=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":o?(n("replaceTilde pr",o),a=">="+r+"."+i+"."+s+"-"+o+" <"+r+"."+(+i+1)+".0"):a=">="+r+"."+i+"."+s+" <"+r+"."+(+i+1)+".0",n("tilde return",a),a})}(t,e)}).join(" ")}(t,e),n("tildes",t),t=function(t,e){return n("replaceXRanges",t,e),t.split(/\s+/).map(function(t){return function(t,e){t=t.trim();var r=e.loose?s[D]:s[k];return t.replace(r,function(e,r,i,s,o,a){n("xRange",t,e,r,i,s,o,a);var c=ct(i),h=c||ct(s),u=h||ct(o),l=u;return"="===r&&l&&(r=""),c?e=">"===r||"<"===r?"<0.0.0":"*":r&&l?(h&&(s=0),o=0,">"===r?(r=">=",h?(i=+i+1,s=0,o=0):(s=+s+1,o=0)):"<="===r&&(r="<",h?i=+i+1:s=+s+1),e=r+i+"."+s+"."+o):h?e=">="+i+".0.0 <"+(+i+1)+".0.0":u&&(e=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0"),n("xRange return",e),e})}(t,e)}).join(" ")}(t,e),n("xrange",t),t=function(t,e){return n("replaceStars",t,e),t.trim().replace(s[H],"")}(t,e),n("stars",t),t}(t,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(o=o.filter(function(t){return!!t.match(i)})),o=o.map(function(t){return new it(t,this.options)},this)},ot.prototype.intersects=function(t,e){if(!(t instanceof ot))throw new TypeError("a Range is required");return this.set.some(function(n){return at(n,e)&&t.set.some(function(t){return at(t,e)&&n.every(function(n){return t.every(function(t){return n.intersects(t,e)})})})})},e.toComparators=function(t,e){return new ot(t,e).set.map(function(t){return t.map(function(t){return t.value}).join(" ").trim().split(" ")})},ot.prototype.test=function(t){if(!t)return!1;"string"==typeof t&&(t=new G(t,this.options));for(var e=0;e<this.set.length;e++)if(ut(this.set[e],t,this.options))return!0;return!1},e.satisfies=lt,e.maxSatisfying=function(t,e,n){var r=null,i=null;try{var s=new ot(e,n)}catch(t){return null}return t.forEach(function(t){s.test(t)&&(r&&-1!==i.compare(t)||(i=new G(r=t,n)))}),r},e.minSatisfying=function(t,e,n){var r=null,i=null;try{var s=new ot(e,n)}catch(t){return null}return t.forEach(function(t){s.test(t)&&(r&&1!==i.compare(t)||(i=new G(r=t,n)))}),r},e.minVersion=function(t,e){t=new ot(t,e);var n=new G("0.0.0");if(t.test(n))return n;if(n=new G("0.0.0-0"),t.test(n))return n;n=null;for(var r=0;r<t.set.length;++r){var i=t.set[r];i.forEach(function(t){var e=new G(t.semver.version);switch(t.operator){case">":0===e.prerelease.length?e.patch++:e.prerelease.push(0),e.raw=e.format();case"":case">=":n&&!Z(n,e)||(n=e);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+t.operator)}})}if(n&&t.test(n))return n;return null},e.validRange=function(t,e){try{return new ot(t,e).range||"*"}catch(t){return null}},e.ltr=function(t,e,n){return pt(t,e,"<",n)},e.gtr=function(t,e,n){return pt(t,e,">",n)},e.outside=pt,e.prerelease=function(t,e){var n=W(t,e);return n&&n.prerelease.length?n.prerelease:null},e.intersects=function(t,e,n){return t=new ot(t,n),e=new ot(e,n),t.intersects(e)},e.coerce=function(t,e){if(t instanceof G)return t;if("string"!=typeof t)return null;var n=t.match(s[I]);if(null==n)return null;return W(n[1]+"."+(n[2]||"0")+"."+(n[3]||"0"),e)}},function(t,e,n){t.exports=n(328)},function(t,e){t.exports=function(t){return t&&t.length?t[0]:void 0}},function(t,e,n){const{assert:r}=n(2);t.exports=class{constructor({type:t,src:e,code:n,namespace:i,library:s,isExecuteOnly:o,component:a}){this.type=t,this.src=e,this.code=n,this.namespace=i,this.library=s,this.isExecuteOnly=o,r(this.src||this.code,'Dependency: No "src" or "code" param provided'),r(!(this.src&&this.code),'Dependency: Only provide one of "src" or "code" params'),r(this.type,"Dependency: Param type must be specified"),r(["js","css"].includes(this.type),`Dependency: Unrecognized type: ${this.type}`),this.code&&(this.inline=!0),this.components={},this.componentCount=0,a&&this.addComponent(a)}isJs(){return"js"===this.type}isCss(){return"css"===this.type}hasComponent(t){return null!=this.components[t.id]}addComponent(t){this.hasComponent(t)||(this.componentCount+=1,this.components[t.id]=!0)}forceExecution(){this.isExecuteOnly=!0}removeComponent(t){return!this.hasComponent(t)||(this.componentCount-=1,this.components[t.id]=void 0,0!==this.componentCount)}isSameAs(t){return this.type===t.type&&(this.namespace===t.namespace&&(t.src?this.src===t.src:this.code===t.code))}serialize(){r(!this.isExecuteOnly,"engine//dependency.js: Cannot serialize a temporary dependency");const t={};for(const e of["src","code","inline","library","namespace"])this[e]&&(t[e]=this[e]);for(const e in this.components)t.componentIds||(t.componentIds=[]),t.componentIds.push(e);return t}}},function(t,e,n){const r=n(331);t.exports={printJs:function(t){let e="";for(const n of Array.from(t.js))n.inline?e+=this.printInlineScript({codeBlock:n.code}):e+=this.printScriptTag({src:n.src}),e+="\n";return e},printCss:function(t){let e="";for(const n of Array.from(t.css))n.inline?e+=this.printInlineCss({styles:n.code}):e+=this.printCssLink({src:n.src}),e+="\n";return e},printScriptTag:function({src:t}){return`<script src="${t}"><\/script>`},printInlineScript:function({codeBlock:t}){return`<script> ${t=r.prepareInlineCode(t)} <\/script>`},printCssLink:function({src:t,head:e}){"boolean"!=typeof e&&(e=!0);if(e)return`<link rel="stylesheet" type="text/css" href="${t}">`;return`<link rel="stylesheet" type="text/css" href="${t}">`},printInlineCss:function({styles:t}){return`<style> ${t=r.prepareInlineStyles(t)} </style>`},printComment:function(t){return`\x3c!-- ${t} --\x3e`}}},function(t,e){const n=/<style[^>]*>|<\/style>/gi,r=/<script[^>]*>|<\/script>/gi;t.exports={prepareInlineStyles:t=>t.replace(n,""),prepareInlineCode:t=>t.replace(r,"")}},function(t,e){t.exports=class{constructor(t){this.design=t,this.components=this.design.components}getTransformations({structure:t,componentName:e,oneWay:n=!1,directives:r,filter:i}){e&&(t=this.design.getComponentStructure(e));const s=[];return this.design.eachStructure(e=>{if(t.name===e.name)return;if(i&&!i(e))return;const o=this.isCompatible(t,e,{oneWay:n,directives:r});o.isCompatible&&(o.structure=e,s.push(o))}),s.length?s:void 0}getOptionsList({structure:t,componentName:e,oneWay:n,directives:r,filter:i}){e&&(t=this.design.getComponentStructure(e));const s=this.getTransformations({structure:t,oneWay:n,directives:r,filter:i}),o=[];for(const n of Array.from(s||[]))e=n.name,t=n.structure,o.push({label:t.label,componentName:e});return o}isCompatible(t,e,n={}){const r={name:e.name,isCompatible:!0,mapping:{}},i=this.getSelectedDirectives(t,n);for(const n of Array.from(i)){const{name:i,type:s}=n;if(!["editable","image","link"].includes(s)){r.isCompatible=!1;continue}const o=e.directives.get(i);1===t.directives.count(s)&&1===e.directives.count(s)?r.mapping[i]=e.directives[s][0].name:o&&o.type===s?r.mapping[i]=i:(r.mapping[i]=null,r.isCompatible=!1)}return n.oneWay||t.directives.length===e.directives.length||(r.isCompatible=!1),r}getSelectedDirectives(t,e){let n;return e.directives?(e.oneWay=!0,n=Array.from(e.directives).map(e=>t.directives.get(e))):n=t.directives,n||[]}}},function(t,e,n){const r=n(1),i=n(55),s=n(144),o=n(62),a=n(334),c=n(339),h=n(342),u=n(3),l=n(89);t.exports=class{constructor(t,e){this.onTreeChange=this.onTreeChange.bind(this),this.extractAll=this.extractAll.bind(this),this.onComponentChange=this.onComponentChange.bind(this),this.componentTree=t,this.fieldMapping=e,this.metadataConfig=e,this.fields={},this.initEvents(),this.extractAll(),this.setupListeners()}setupListeners(){this.componentTree.componentAdded.add(this.onTreeChange),this.componentTree.componentRemoved.add(this.onTreeChange),this.componentTree.componentMoved.add(this.onTreeChange),this.componentTree.componentContentChanged.add(this.onComponentChange)}onTreeChange(t){const e=t.componentName,n=this.fieldMapping.getComponentMap()[e],r={};let s=!1;const o=this.extractFields(n);for(const t in o){const e=o[t];i(this.fields[t],e)||(s=!0,r[t]=this.fields[t]=e)}s&&this.fieldsChanged.fire(r,this.fields)}isFieldCandidate(t,e){const n=e.component.componentName,r=e.name,i=this.fieldMapping.getFieldsBySource(n,r);return s(i,t)}extractAll(){const t=this.fieldMapping.getListOfFields();return this.fields=this.extractFields(t),this.fieldsChanged.fire(this.fields,this.fields),this.fields}extractFields(t){const e={},n={};return o(this.fieldMapping.getComponentMap(),(e,r)=>{n[r]=c(e,t)}),this.componentTree.each(t=>{const r=t.componentName;if(!n[r]||!n[r].length)return;const i=this.extractFieldsFromComponent(t,n[r]);o(i,function(t,r){o(n,(t,e)=>{n[e]=h(t,r)}),e[r]=t})}),e}extractFieldsFromComponent(t,e){const n={},r=t.componentName;return e.forEach(e=>{this.fieldMapping.getDirectivesByComponentAndField(r,e).forEach(r=>{if(n[e])return;const i=t.directives.get(r);if(i.isEmpty())return;const s=this.extractFieldFromDirective(i,e);n[e]=s})}),n}onComponentChange(t,e){const n=t.componentName,r=this.fieldMapping.getFieldsBySource(n,e),i={},s=[],c=t.directives.get(e);o(r,e=>{const n=c.isEmpty()?void 0:this.extractFieldFromDirective(c,e),r=this.checkChangedField(e,n,t);r&&(r.needsExtraction&&s.push(e),r.hasChanged&&(this.fields[e]=i[e]=n))}),s.length&&o(this.extractFields(s),(t,e)=>{i[e]=t,this.fields[e]=t}),a(i)&&this.fieldsChanged.fire(i,this.fields)}checkChangedField(t,e,n){const s=null==e,o=null==this.fields[t],a=r(this.fields[t],"component.id")===n.id,c=n.componentTree;if((()=>s&&a)())return{hasChanged:!0,needsExtraction:!0};if((()=>(o||a)&&!i(this.fields[t],e))())return{hasChanged:!0};if((()=>!s&&!a)()){const e=c.indexOf(this.fields[t].component),r=c.indexOf(n),i=()=>-1!==r&&-1===e;if((()=>e>r)()||i())return{hasChanged:!0}}return{hasChanged:!1}}initEvents(){this.fieldsChanged=l()}extractFieldFromDirective(t,e){const n=this.fieldMapping.getConfigMap()[e],r=n.type;if("text"===r)return this.extractTextField(t);if("image"===r){if(!t.isTemporaryImage())return this.extractImageField(t)}else{if("cssProperty"===r)return this.extractStyleField(t,n.cssProperty);u(!1,`Unknown template type ${r}`)}}extractTextField(t){return{content:t.getContent(),component:t.component,directiveName:t.name,text:t.getText(),type:"text"}}extractImageField(t){return{component:t.component,directiveName:t.name,type:"image",image:{originalUrl:t.getOriginalUrl(),url:t.getProcessedUrl(),width:r(t.getOriginalImageDimensions(),"width"),height:r(t.getOriginalImageDimensions(),"height"),mimeType:t.getMimeType(),imageService:t.getImageServiceName()}}}extractStyleField(t,e){const n={content:t.getContent(),component:t.component,directiveName:t.name,type:"cssProperty"};return e&&(n.cssProperty=t.getStyle(e)),n}getFields(){return this.fields}}},function(t,e,n){var r=n(66),i=n(19),s=n(7),o=n(12),a=n(335),c="[object Map]",h="[object Set]";t.exports=function(t){if(null==t)return 0;if(s(t))return o(t)?a(t):t.length;var e=i(t);return e==c||e==h?t.size:r(t).length}},function(t,e,n){var r=n(336),i=n(337),s=n(338);t.exports=function(t){return i(t)?s(t):r(t)}},function(t,e,n){var r=n(150)("length");t.exports=r},function(t,e){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return n.test(t)}},function(t,e){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",s="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+i+")"+"?",h="[\\ufe0e\\ufe0f]?"+c+("(?:\\u200d(?:"+[s,o,a].join("|")+")[\\ufe0e\\ufe0f]?"+c+")*"),u="(?:"+[s+r+"?",r,o,a,n].join("|")+")",l=RegExp(i+"(?="+i+")|"+u+h,"g");t.exports=function(t){for(var e=l.lastIndex=0;l.test(t);)++e;return e}},function(t,e,n){var r=n(13),i=n(340),s=n(81),o=n(341),a=s(function(t){var e=r(t,o);return e.length&&e[0]===t[0]?i(e):[]});t.exports=a},function(t,e,n){var r=n(84),i=n(158),s=n(159),o=n(13),a=n(32),c=n(85),h=Math.min;t.exports=function(t,e,n){for(var u=n?s:i,l=t[0].length,p=t.length,f=p,d=Array(p),g=1/0,m=[];f--;){var v=t[f];f&&e&&(v=o(v,a(e))),g=h(v.length,g),d[f]=!n&&(e||l>=120&&v.length>=120)?new r(f&&v):void 0}v=t[0];var b=-1,_=d[0];t:for(;++b<l&&m.length<g;){var y=v[b],x=e?e(y):y;if(y=n||0!==y?y:0,!(_?c(_,x):u(m,x,n))){for(f=p;--f;){var w=d[f];if(!(w?c(w,x):u(t[f],x,n)))continue t}_&&_.push(x),m.push(y)}}return m}},function(t,e,n){var r=n(80);t.exports=function(t){return r(t)?t:[]}},function(t,e,n){var r=n(343),i=n(81),s=n(80),o=i(function(t,e){return s(t)?r(t,e):[]});t.exports=o},function(t,e,n){var r=n(84),i=n(158),s=n(159),o=n(13),a=n(32),c=n(85),h=200;t.exports=function(t,e,n,u){var l=-1,p=i,f=!0,d=t.length,g=[],m=e.length;if(!d)return g;n&&(e=o(e,a(n))),u?(p=s,f=!1):e.length>=h&&(p=c,f=!1,e=new r(e));t:for(;++l<d;){var v=t[l],b=null==n?v:n(v);if(v=u||0!==v?v:0,f&&b==b){for(var _=m;_--;)if(e[_]===b)continue t;g.push(v)}else p(e,b,u)||g.push(v)}return g}},function(t,e,n){const r=n(1);t.exports=class{constructor(t){this.fieldsArray=[],this.editableFieldsArray=[],this.fieldMap={},this.configMap={},this.componentDirectiveMap={},this.componentMap={},t&&t.length&&this.parse(t)}parse(t){for(const e of t){const t=e.identifier;this.fieldsArray.push(t),this.configMap[t]=e,this.fieldMap[t]||(this.fieldMap[t]={}),!!r(e,"isEditable",!0)&&this.editableFieldsArray.push(t);for(const n of e.matches){const[e,r]=n.split(".");this.componentDirectiveMap[e]||(this.componentDirectiveMap[e]={}),this.componentDirectiveMap[e][r]||(this.componentDirectiveMap[e][r]=[]),this.componentDirectiveMap[e][r].push(t),this.componentMap[e]||(this.componentMap[e]=[]),this.componentMap[e].push(t),this.fieldMap[t][e]||(this.fieldMap[t][e]=[]),this.fieldMap[t][e].push(r)}}}getListOfEditableFields(){return this.editableFieldsArray}getListOfFields(){return this.fieldsArray}getConfigMap(){return this.configMap}getComponentMap(){return this.componentMap}getFieldsBySource(t,e){return this.componentDirectiveMap[t]?this.componentDirectiveMap[t][e]:[]}getDirectivesByComponentAndField(t,e){return this.fieldMap[e][t]}}},function(t,e,n){const r=n(346),i=n(348),s=n(57);t.exports=class{constructor(t,e,r){this._livingdoc=t,this._config=e,this._events=r||n(350),this.state={undo:[],redo:[],group:!1,undone:!1,redone:!1,enabled:!1}}enable(){this.state.enabled||(Object.keys(this._events).map(t=>{this._livingdoc.componentTree[t].add(r.bind(this,t,this._events[t]))}),this.state.enabled=!0)}undo(){return i.call(this,"undo")}redo(){return i.call(this,"redo")}hasUndo(){return!(!this.state.enabled||!this.state.undo.length)}hasRedo(){return!(!this.state.enabled||!this.state.redo.length)}startEventGroup(t){return this.state.group=t||s.next("event-group"),this.state.group}stopEventGroup(){return!!this.state.group&&(this.state.group=!1,!0)}}},function(t,e,n){const r=n(347);t.exports=function(t,e,n,...i){const s=e.getContext(n,...i);if(!s)return;const o={context:s,event:t,model:n};o.group=this.state.grouped||this.state.group;const a=this.state.undone?"redo":"undo";return"undo"!==a||this.state.redone||(this.state.redo=[]),this.state.undone=this.state.redone=this.state.grouped=!1,this.state[a].push(o),this.state[a]=r(this.state[a],this._config.limit),e}},function(t,e,n){var r=n(160),i=n(87);t.exports=function(t,e,n){var s=null==t?0:t.length;return s?(e=n||void 0===e?1:i(e),r(t,(e=s-e)<0?0:e,s)):[]}},function(t,e,n){const{log:r}=n(2),{rollbackText:i}=n(349);t.exports=function t(e,n,s={}){if(!this.state.enabled)return r.warn("History API not enabled"),!1;const o=this.state[e];if(!o||!o.length)return!1;const a=o.pop();return!!Object.keys(this._events).includes(a.event)&&("undo"===e&&(this.state.undone=!0),"redo"===e&&(this.state.redone=!0),this.state.grouped=a.group,this._events[a.event].revert(this._livingdoc,a.model,a.context),function(t,e,n){if(!t)return!1;const r=e&&e===t;if((e||!t)&&!r)return!1;const i=n.length&&n[n.length-1],s=i?i.group:void 0;return!i||s===t}(a.group,n,o)?t.call(this,e,a.group):("undo"===e&&i(this.state,a,s,t.bind(this)),!0))}},function(t,e,n){const{decodeHTML:r}=n(54),i=n(6),s=n(57),o=2,a=6;function c(t,e,n){const r="beforeComponentContentChanged";if(function(t,e){return t.context&&e&&e.context&&t.context.directive!==e.context.directive}(t,e))return!1;if(!e||e.event!==r||t.event!==r)return!1;const s=i.history.groupingInterval;if(n.time-e.context.time>s)return!1;const c=h(n.content),u=h(e.context.content),l=c.replace(u,"");if(l.length===c.length)return!0;const p=l.replace(/(\.|,|\?|!)+\s*$/,"").split(/\.|,|\?|!/).length,f=l.split(/\s/).length;return p<o&&f<a}t.exports={rollbackText:function(t,e,n,r){const i=t.undo,o=i[i.length-1];let a=n.count+1||1;const h=n.context||e.context;if(c(e,o,h))return r("undo",e.group,{count:a,context:h});const u=s.next("event-group"),l=t.redo;for(;a;)a-=1,l[l.length-a-1]&&(l[l.length-a-1].group=u)},shouldMoreTextBeRolledback:c};const h=t=>r(t).replace(/\s/g," ")},function(t,e,n){t.exports={beforeComponentAdded:n(351),beforeComponentRemoved:n(161),beforeComponentMoved:n(161),beforeComponentContentChanged:n(352),beforeComponentHtmlChanged:n(354)}},function(t,e){t.exports.revert=((t,e)=>e.remove()),t.exports.getContext=(()=>({}))},function(t,e,n){const r=n(353);t.exports.revert=((t,e,n)=>{if(!n.directive)return!1;n.directive.setContent(n.content)}),t.exports.getContext=((t,e)=>{const n=t.directives.all[e];if(!n)return!1;let i=n.getContent();const s=new Date;return i&&i.originalUrl&&((i=r(i)).url=i.originalUrl),{directive:n,content:i,time:s}})},function(t,e,n){var r=n(69),i=4;t.exports=function(t){return r(t,i)}},function(t,e){t.exports.revert=((t,e,n)=>e.setStyle(n.name,n.value)),t.exports.getContext=((t,e,n)=>"style"===e&&n)},function(t,e,n){const r=n(3),i=n(25),s=n(155),o=n(129);function a(t,e){return t.name>e.name?1:t.name<e.name?-1:0}t.exports=class{constructor({name:t,label:e,description:n,iconUrl:o,directives:a,properties:c,allowedParents:h}){this.name=t,this.properties=c,this.allowedParents=h,this.description=n,this.iconUrl=o,r.param(this.name,"new ComponentStructure()","name"),this.label=e||i.humanize(this.name),this.styles=this.properties=this.properties||{},this.directives=new s({directives:a}),this.allowedParents&&r(this.allowedParents.length,"AllowedParents must be an array or undefined")}setDesign(t){this.design=t,this.identifier=`${t.name}.${this.name}`}setSkin(t){this.skin=t}getSkin(){return this.skin?this.skin:this.design?this.design.getComponentSkin(this.name):void 0}createModel({id:t}={}){return new o({id:t,structure:this})}equals(t){if(this.design&&t&&t.design)return this.design.identifier===t.design.identifier&&this.name===t.name;throw new Error("Can not determine component structure equality: not implemented")}info(){const t={name:this.name,directives:[],styles:[]};this.directives.each(e=>{const{name:n,type:r}=e;return t.directives.push({name:n,type:r})});for(const e of Object.keys(this.properties))t.properties.push({name:e,type:"cssModificator"});return t.directives.sort(a),t.properties.sort(a),t}isSkinCompatible(t){}}},function(t,e,n){const r=n(3),i=n(53);t.exports=class{constructor({name:t,dom:e}){this.name=t,this.dom=e,r.param(this.name,"new ComponentSkin","name"),r.param(this.dom,"new ComponentSkin","dom"),this.assertRootElem()}assertRootElem(){r(1===this.dom.length,`A component skin must contain one root element.         The component '${this.name}' contains ${this.dom.length}`)}toHtml(t){return i(this.dom,t)}}},function(t,e,n){const r=n(131),i=n(358);t.exports=function(t){const e=r(t);if(!e.length)throw new Error("No template provided");const n=new i(e);return{directives:n.directives,skin:n.tree.children}}},function(t,e,n){const r=n(147),i=n(359),s=n(1),{decodeHTML:o}=n(54),{log:a}=n(2),c=n(25),h=n(363),u=n(53),l=n(90),p=n(364);t.exports=class{constructor(t){this.directives=[],this.tree=this.parseNode({type:"fragment",children:t})}parseNode(t){switch(t.type){case"text":return this.parseTextNode(t);case"tag":case"fragment":return this.parseElementNode(t);case"comment":case"script":return;default:return void a.error(`Parsing component template: Unrecognized node type '${t.type}'`)}}parseTextNode(t){return{type:"text",data:t.data}}parseElementNode(t){let e=!1;const n={type:t.type};if(t.name&&(n.name=t.name),t.attribs){const r=p.parseAttributes(t.attribs),i=r.attributes;if(i&&(n.attribs=i),r.directives){const i=this.parseDirectives(r.directives,t),s=i.directives;e=i.skipChildren;const o={};s.forEach(t=>{o[t.type]=t.name}),n.directives=o,this.directives=this.directives.concat(s)}}return!e&&t.children&&t.children.length&&Array.from(t.children).forEach(t=>{const e=this.parseNode(t);e&&(n.children||(n.children=[]),n.children.push(e))}),n}parseDirectives(t,e){let n,i={};for(const{name:r,type:s}of Array.from(t)){l.doesOverwriteContent(s)&&(n=!0);const t=this.createDirective(r,s,e);i[s]=t}return i=this.processOptionalDirective(i,e),{directives:t=r(i),skipChildren:n}}createDirective(t,e,n){const r={type:e,name:t};let i,s;switch(e){case"editable":i=this.getText(n),i=c.trim(i),i=o(i),r.placeholder=i,r.tag=n.name;break;case"image":r.tag=n.name,r.setAsBackground="img"!==n.name;break;case"html":case"include":s=this.getContentHtml(n),r.placeholder=s}return r}processOptionalDirective(t,e){if(t.optional){let n;return(n=t.editable)?n.optional=!0:a.error(`<${e.name}>: doc-optional can only be used in conjunction with doc-editable`),i(t,"optional")}return t}getText(t){let e,n="";const r=new h({firstNode:t,isRoot:!0});for(;e=r.next();)"text"===e.type&&(n+=e.data);return n}getContentHtml(t){if(s(t,"children.length"))return u(t.children)}}},function(t,e,n){var r=n(13),i=n(69),s=n(164),o=n(21),a=n(17),c=n(362),h=n(115),u=n(75),l=h(function(t,e){var n={};if(null==t)return n;var h=!1;e=r(e,function(e){return e=o(e,t),h||(h=e.length>1),e}),a(t,u(t),n),h&&(n=i(n,7,c));for(var l=e.length;l--;)s(n,e[l]);return n});t.exports=l},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,n){var r=n(51),i=n(160);t.exports=function(t,e){return e.length<2?t:r(t,i(e,0,-1))}},function(t,e,n){var r=n(122);t.exports=function(t){return r(t)?void 0:t}},function(t,e){t.exports=class{constructor({firstNode:t,isRoot:e}){this._next=t,this.current=t,e&&(this.root=t)}next(){let t=this.current=this._next;if(this.current){let e;if(t.children&&t.children.length&&(e=t.children[0]),e&&"tag"===t.type)this._next=e;else{let e;for(;t&&t!==this.root&&!(e=t.next);)t=t.parent;this._next=e}}return this.current}nextElement(){for(;this.next()&&"tag"!==this.current.type;);return this.current}detach(){this.root=null,this._next=null,this.current=null}}},function(t,e,n){const r=/^(doc-|data-doc-|x-doc-)(.*)/,i=/(^| )doc-section($| )/,s=n(90);t.exports={parseAttributes(t){let e,n;return Object.keys(t).forEach(r=>{const i=t[r],s=this.scanAttribute(r,i,!0);s?(n||(n=[]),n.push(s)):(e||(e={}),e[r]=i)}),{attributes:e,directives:n}},getDirectiveTypes(t){if(!t||!t.length)return;const e={};let n=!1;for(const r of Array.from(t||[])){const t=r.name||r.nodeName,i=r.value||r.nodeValue,s=this.scanAttribute(t,i);s&&(n=!0,e[s.type]=s.name)}return n?e:void 0},scanAttribute(t,e,n){let o=r.exec(t);if(o){const r=o[2];if(s.exists(r))return{type:r,name:e};if(n)throw new Error(`Unrecognized directive attribute '${t}'`)}else if("class"===t&&(o=i.exec(e)))return{type:"container",name:"content"}},convertBrowserAttributes(t){if(t&&t.length)return Array.from(t||[]).reduce((t,e)=>(t[e.name||e.nodeName]=e.value||e.nodeValue,t),{})}}},function(t,e,n){const r=n(165),i=n(166),s=r.new();t.exports=s,s.add("container",{type:"string",name:"string",allowedChildren:"array of string, optional",defaultContent:"array of object, optional",defaultComponents:{__validate:"optional",paragraph:"string, optional",image:"string, optional"},__additionalProperty:(t,e)=>!1}),s.add("editable",{type:"string",name:"string",tag:"string",placeholder:"string, optional",optional:"boolean, optional",plainText:"boolean, optional",tagWhitelist:"array of string, optional",tagBlacklist:"array of string, optional",excludeFromTextCount:"boolean, optional",__additionalProperty:(t,e)=>!1}),s.add("html",{type:"string",name:"string",placeholder:"string, optional",__additionalProperty:(t,e)=>!1}),s.add("include",{type:"string",name:"string",label:"string, optional",placeholder:"string, optional",service:"string, optional",defaultParams:"object, optional",services:"array of service, optional",config:"object, optional",__additionalProperty:(t,e)=>!1}),s.add("image",{type:"string",name:"string",tag:"string",setAsBackground:"boolean",imageRatios:"array of imageRatio, optional",allowOriginalRatio:"boolean, optional",srcSet:{__validate:"optional",defaultWidth:"number, optional",widths:"array of number, optional",sizes:"array of string, optional"},backgroundImage:{__validate:"optional",maxWidth:"number, optional"},__additionalProperty:(t,e)=>!1}),s.add("imageRatio",function(t){return t instanceof i||"must be an ImageRatio instance"}),s.add("service",{service:"string",label:"string",defaultParams:"object, optional",config:"object, optional",__additionalProperty:(t,e)=>!1}),s.add("link",{type:"string",name:"string",prefill:"object, optional",__additionalProperty:(t,e)=>!1}),s.add("optional",{type:"string",name:"string, optional",__additionalProperty:(t,e)=>!1}),s.add("toggle",{type:"string",name:"string",default:"boolean, optional",label:"string, optional",__additionalProperty:(t,e)=>!1}),s.add("style",{type:"string",name:"string",properties:"object, optional",__additionalProperty:(t,e)=>!1})},function(t,e,n){var r,i,s,o;i=n(367),r=n(368),o=n(369),s=n(91),t.exports=function(){var t;function e(){this.validators=Object.create(o),this.schemas={},this.propertiesRequired=!0,this.allowAdditionalProperties=!0}return t=/^[a-zA-Z]\w*$/,e.prototype.configure=function(t){this.propertiesRequired=t.propertiesRequired,this.allowAdditionalProperties=t.allowAdditionalProperties},e.prototype.add=function(t,e){return s.isFunction(e)?this.addValidator(t,e):this.addSchema(t,this.parseConfigObj(e,void 0,t)),this},e.prototype.addSchema=function(t,e){if(null!=this.validators[t])throw new Error("A validator is alredy registered under this name: "+t);var n;return this.schemas[t]=e,this.validators[t]=(n=this,function(t){var r;return!(r=n.recursiveValidate(e,t)).hasErrors()||r}),this},e.prototype.addValidator=function(t,e){return this.validators[t]=e,this},e.prototype.validate=function(t,e){var n;return this.errors=void 0,null==(n=this.schemas[t])?(this.errors=new i,this.errors.add("missing schema",{location:t}),!1):(this.errors=this.recursiveValidate(n,e).setRoot(t),!this.errors.hasErrors())},e.prototype.hasErrors=function(){var t;return null!=(t=this.errors)?t.hasErrors():void 0},e.prototype.getErrorMessages=function(){var t;return null!=(t=this.errors)?t.getMessages():void 0},e.prototype.recursiveValidate=function(t,e){var n,r,o,a,c;for(r in o=t.__validator,n=new i,o.validate(e,n),e)c=e[r],null!=t[r]?(a=t[r].__validator).validate(c,n)&&null==a.childSchemaName&&s.isObject(c)&&n.join(this.recursiveValidate(t[r],c)):o.validateOtherProperty(r,c,n);return n},e.prototype.parseConfigObj=function(t,e){var n,i,o;for(n in null==e&&(e=new r({inputString:"object",scheme:this})),t)o=t[n],this.addParentValidator(e,n,o)||(s.isString(o)?(i=new r({inputString:o,property:n,parent:e,scheme:this}),t[n]={__validator:i}):s.isObject(o)&&(i=new r({inputString:"object",property:n,parent:e,scheme:this}),t[n]=this.parseConfigObj(o,i)));return t.__validator=e,t},e.prototype.addParentValidator=function(t,e,n){switch(e){case"__validate":t.addValidations(n);break;case"__additionalProperty":s.isFunction(n)&&(t.otherPropertyValidator=n);break;default:return!1}return!0},e.prototype.writeProperty=function(e){return t.test(e)?"."+e:"['"+e+"']"},e}()},function(t,e,n){var r;r=n(91),t.exports=function(){function t(){}return t.prototype.hasErrors=function(){return null!=this.errors},t.prototype.setRoot=function(t){return this.root=t,this},t.prototype.add=function(e,n){var i,s,o,a;if(o=(a=null!=n?n:{}).location,i=a.defaultMessage,!1===e&&(e=i),void 0===e&&(e="validator returned undefined. Check your validator implementation."),null==this.errors&&(this.errors=[]),r.isString(e))this.errors.push({path:o,message:e});else if(e instanceof t)this.join(e,{location:o});else{if(!e.path||!e.message)throw new Error("ValidationError.add() unknown error type");s=e,this.errors.push({path:o+s.path,message:s.message})}return!1},t.prototype.join=function(t,e){var n,r,i,s,o,a;if(r=t.errors,i=(null!=e?e:{}).location,null!=r&&r.length){for(null==this.errors&&(this.errors=[]),a=[],s=0,o=r.length;s<o;s++)n=r[s],a.push(this.errors.push({path:(i||"")+n.path,message:n.message}));return a}},t.prototype.getMessages=function(){var t,e,n,r,i;for(e=[],n=0,r=(i=this.errors||[]).length;n<r;n++)t=i[n],e.push(""+(this.root||"")+t.path+": "+t.message);return e},t}()},function(t,e){t.exports=function(){var t;function e(t){var e;this.inputString=t.inputString,this.scheme=t.scheme,this.property=t.property,this.parent=t.parent,this.validators=[],this.location=this.getLocation(),this.scheme.propertiesRequired&&null!=(e=this.parent)&&e.addRequiredProperty(this.property),this.addValidations(this.inputString)}return t=/\w[\w ]*\w/g,e.prototype.getLocation=function(){return null==this.property?"":null!=this.parent?this.parent.location+this.scheme.writeProperty(this.property):this.scheme.writeProperty(this.property)},e.prototype.getPropLocation=function(t){return""+this.location+this.scheme.writeProperty(t)},e.prototype.addValidations=function(e){for(var n,r;n=t.exec(e);)"optional"===(r=n[0])?this.parent.removeRequiredProperty(this.property):"required"===r?this.parent.addRequiredProperty(this.property):0===r.indexOf("array of ")?(this.validators.push("array"),this.arrayValidator=r.slice(9)):-1!==r.indexOf(" or ")?(r.split(" or "),console.log("todo")):this.validators.push(r)},e.prototype.validate=function(t,e){var n,r,i,s,o,a,c,h;if(n=!0,null==t&&this.isOptional())return n;for(o=this.scheme.validators,a=0,c=(h=this.validators||[]).length;a<c;a++){if(null==(s=o[r=h[a]]))return e.add("missing validator "+r,{location:this.location});!0!==(i=s(t))&&(e.add(i,{location:this.location,defaultMessage:r+" validator failed"}),n=!1)}return!!(n=this.validateArray(t,e))&&(!!(n=this.validateRequiredProperties(t,e))&&n)},e.prototype.validateArray=function(t,e){var n,r,i,s,o,a,c,h;if(null==this.arrayValidator)return!0;if(r=!0,null==(o=this.scheme.validators[this.arrayValidator]))return e.add("missing validator "+this.arrayValidator,{location:this.location});for(n=a=0,c=(h=t||[]).length;a<c;n=++a)!0!==(s=o(h[n]))&&(i=this.location+"["+n+"]",e.add(s,{location:i,defaultMessage:this.arrayValidator+" validator failed"}),r=!1);return r},e.prototype.validateOtherProperty=function(t,e,n){return null!=this.otherPropertyValidator?(this.scheme.errors=void 0,!!this.otherPropertyValidator.call(this,t,e)||(null!=this.scheme.errors?n.join(this.scheme.errors,{location:this.getPropLocation(t)}):n.add("additional property check failed",{location:this.getPropLocation(t)}),!1)):!!this.scheme.allowAdditionalProperties||(n.add("unspecified additional property",{location:this.getPropLocation(t)}),!1)},e.prototype.validateRequiredProperties=function(t,e){var n,r,i,s;for(i in r=!0,s=this.requiredProperties)n=s[i],null==t[i]&&n&&(e.add("required property missing",{location:this.getPropLocation(i)}),r=!1);return r},e.prototype.addRequiredProperty=function(t){return null==this.requiredProperties&&(this.requiredProperties={}),this.requiredProperties[t]=!0},e.prototype.removeRequiredProperty=function(t){var e;return null!=(e=this.requiredProperties)?e[t]=void 0:void 0},e.prototype.isOptional=function(){if(null!=this.parent)return!0==!this.parent.requiredProperties[this.property]},e}()},function(t,e,n){var r;r=n(91),t.exports={object:function(t){return r.isObject(t)},string:function(t){return r.isString(t)},boolean:function(t){return r.isBoolean(t)},number:function(t){return r.isNumber(t)},function:function(t){return r.isFunction(t)},date:function(t){return r.isDate(t)},regexp:function(t){return r.isRegExp(t)},array:function(t){return r.isArray(t)},falsy:function(t){return!1==!!t},truthy:function(t){return!0==!!t},"not empty":function(t){return!0==!!t},deprecated:function(t){return!0}}},function(t,e,n){const r=n(152),i={format:"text/html",prettyHtml:!1,decodeHtml:!1,renderDirectiveInfo:!1};t.exports=class{constructor({settings:t}){this.settings=r({},i,t)}}},function(t,e,n){const r=n(94);t.exports={render({req:t,doc:e,componentTree:n,context:i}){if("text/json"===t.settings.format)return this.renderJson({req:t,doc:e,componentTree:n,context:i});let s="";return n.children(function(e){s+=r.renderComponent(e,t.settings)}),s},renderJson({req:t,doc:e,componentTree:n,context:i}){const s=[];return n.children(function(e){s.push(r.renderComponent(e,t.settings))}),s}}},function(t,e){t.exports=function(t){const e=Array.isArray(t)?t:[t];return{children:t=>{e.forEach(t)}}}},function(t,e,n){const{log:r,assert:i}=n(2),s=n(25),o=/(^[a-zA-Z]+$)|^(#(?:[0-9a-f]{2}){2,4}|#[0-9a-f]{3}|(?:rgba?|hsla?)\((?:\d+%?(?:deg|rad|grad|turn)?(?:,|\s)+){2,3}[\s\/]*[\d.]+%?\))$/i;t.exports=class{constructor({name:t,label:e,type:n,value:o,options:a,cssProperty:c}){switch(this.name=t,this.type=n,this.label=e||s.humanize(this.name),this.type){case"option":i(o,"TemplateStyle error: no 'value' provided"),this.value=o;break;case"select":i(a,"TemplateStyle error: no 'options' provided"),this.options=a;break;case"style":i(c,"TemplateStyle error: no 'cssProperty' provided"),this.cssPropertyName=c;break;default:r.error(`TemplateStyle error: unknown type '${this.type}'`)}}cssClassChanges(t){if(this.validateValue(t)){if("option"===this.type)return{remove:t?[]:[this.value],add:t||[]};if("select"===this.type)return{remove:this.otherClasses(t),add:t||[]}}else{if("option"===this.type)return{remove:currentValue||[],add:[]};if("select"===this.type)return{remove:this.otherClasses(void 0),add:[]}}}modifiesClassAttribute(){return"option"===this.type||"select"===this.type}validateValue(t){return!t||("option"===this.type?t===this.value:"select"===this.type?this.containsOption(t):"style"===this.type?this.isValidCssValue(t):void r.warn(`Not implemented: CssModificatorProperty#validateValue() for type ${this.type}`))}containsOption(t){for(const e of this.options)if(t===e.value)return!0;return!1}isValidCssValue(t){switch(this.cssPropertyName){case"color":case"background-color":return o.test(t);default:return!0}}otherOptions(t){return this.options.filter(e=>e.value!==t)}otherClasses(t){return this.otherOptions(t).filter(Boolean).map(t=>t.value)}}},function(t,e,n){const r=n(165).new();t.exports=r,r.add("styleType",t=>"option"===t||"select"===t||"style"===t);const i=/(\d+)\.(\d+)\.(\d+)(.+)?/;r.add("semVer",t=>i.test(t)),r.add("wrapper",function(t){return!!new RegExp("<.* (?:[^>]* |)class=(\"|')[^'\"]*doc-section[^'\"]*\\1(?: [^>]*|)>").test(t)||`design.wrapper is missing a 'doc-section' class ('${t}').`}),r.add("one empty option",function(t){let e=0;for(const n in t){t[n].value||(e+=1)}return 1===e}),r.add("design",{name:"string",label:"string, optional",version:"string, semVer",author:"string, optional",description:"string, optional",assets:{__validate:"optional",css:"array of string",js:"array of string, optional",basePath:"string, optional"},components:"array of component",componentProperties:{__validate:"optional",__additionalProperty:(t,e)=>r.validate("componentProperty",e)},defaultComponents:{__validate:"optional",paragraph:"string, optional",image:"string, optional"},imageRatios:{__validate:"optional",__additionalProperty:(t,e)=>r.validate("imageRatio",e)},groups:"array of group, optional",metadata:"array of object, optional",wrapper:"string, wrapper, optional",layouts:"array of layout, optional",defaultLayout:"string, optional",defaultContent:"array of object, optional",prefilledComponents:"object, optional"}),r.add("component",{name:"string",label:"string, optional",description:"string, optional",iconUrl:"string, optional",html:"string",directives:"object, optional",properties:"array of string, optional",allowedParents:"array of string, optional",__additionalProperty:(t,e)=>!1}),r.add("group",{label:"string",components:"array of string"}),r.add("componentProperty",{label:"string, optional",type:"string, styleType",value:"string, optional",options:"array of styleOption, one empty option, optional"}),r.add("imageRatio",{label:"string, optional",ratio:"string"}),r.add("styleOption",{caption:"string",value:"string, optional"}),r.add("layout",{name:"string",caption:"string",wrapper:"wrapper",icon:"string, optional"})},function(t,e,n){const r=n(3),i=n(58),s=n(167);t.exports=class{constructor(){this.designs={}}load(t,{basePath:e}={}){r(t,"design.load() was called with undefined.");const{name:n,version:o}=t;if(r(n&&o,"design.load(): The design configuration needs a name and version"),this.has(n,o))return this.get(n,o);e&&t.assets&&(t.assets.basePath=e);const a=s.parse(t);if(!a)throw new Error(i.parser.errors);return this.add(a)}add(t){return t.isNewerThan(this.designs[t.name])&&(this.designs[t.name]=t),this.designs[t.identifier]=t,this.designs[t.identifier]}has(t,e){if(!e)return!1;const n=i.getIdentifier(t,e);return!!this.designs[n]}get(t,e){r(this.has(t,e),`Error: design '${t}' version '${e}' is not loaded.`);const n=i.getIdentifier(t,e);return this.designs[n]}resetCache(){this.designs={}}}},function(t,e,n){const r=n(377);t.exports={includes:{render(t){r.renderInclude=t}}}},function(t,e){t.exports.renderInclude=function({serviceName:t,params:e},n){return!1}},function(t,e,n){const r=n(379),{setPlacingOnRemovedComponentPatches:i}=n(382),{simplifyTextChanges:s}=n(384);function o(t,e){t.forEach(function(t){t.user=e,"textChange"===t.type&&t.diffPatches.forEach(t=>{t[2]||t.push(e)})})}t.exports={createComponentPatches(t){let e=[];for(let n=t.length-1;n>0;n--){const s=t[n].componentTree,a=t[n-1].componentTree,c=r.diff(s,a);i(a,s,c),o(c,t[n-1].user),e=e.concat(c)}return s(e),e}}},function(t,e,n){const r=n(380),i=n(381);function s(t){return t.content.value||""}t.exports={diff(t,e){const n=[],o=new r;return e.each(function(e){const r=t.findById(e.id);void 0===r?i.addAddedComponentPatch(n,e):function(t,e,n,r){t.directives.eachEditable(function(t){const o=e.directives.get(t.name);!function(t,e,n,r){const o=s(e),a=s(t);if(void 0!==o&&a!==o){const s=t.name,c=n.diff_main(o,a);n.diff_cleanupSemantic(c),i.addTextPatch(r,e.component.id,s,c)}}(o,t,n,r)})}(r,e,o,n)}),function(t,e,n){t.each(function(t){const r=e.findById(t.id);void 0===r&&i.addRemovedComponentPatch(n,t)})}(t,e,n),n}}},function(t,e){function n(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}n.Diff,n.prototype.diff_main=function(t,e,n,r){void 0===r&&(r=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var i=r;if(null==t||null==e)throw new Error("Null input. (diff_main)");if(t==e)return t?[[0,t]]:[];void 0===n&&(n=!0);var s=n,o=this.diff_commonPrefix(t,e),a=t.substring(0,o);t=t.substring(o),e=e.substring(o),o=this.diff_commonSuffix(t,e);var c=t.substring(t.length-o);t=t.substring(0,t.length-o),e=e.substring(0,e.length-o);var h=this.diff_compute_(t,e,s,i);return a&&h.unshift([0,a]),c&&h.push([0,c]),this.diff_cleanupMerge(h),h},n.prototype.diff_compute_=function(t,e,n,r){var i;if(!t)return[[1,e]];if(!e)return[[-1,t]];var s=t.length>e.length?t:e,o=t.length>e.length?e:t,a=s.indexOf(o);if(-1!=a)return i=[[1,s.substring(0,a)],[0,o],[1,s.substring(a+o.length)]],t.length>e.length&&(i[0][0]=i[2][0]=-1),i;if(1==o.length)return[[-1,t],[1,e]];var c=this.diff_halfMatch_(t,e);if(c){var h=c[0],u=c[1],l=c[2],p=c[3],f=c[4],d=this.diff_main(h,l,n,r),g=this.diff_main(u,p,n,r);return d.concat([[0,f]],g)}return n&&t.length>100&&e.length>100?this.diff_lineMode_(t,e,r):this.diff_bisect_(t,e,r)},n.prototype.diff_lineMode_=function(t,e,n){t=(u=this.diff_linesToChars_(t,e)).chars1,e=u.chars2;var r=u.lineArray,i=this.diff_main(t,e,!1,n);this.diff_charsToLines_(i,r),this.diff_cleanupSemantic(i),i.push([0,""]);for(var s=0,o=0,a=0,c="",h="";s<i.length;){switch(i[s][0]){case 1:a++,h+=i[s][1];break;case-1:o++,c+=i[s][1];break;case 0:if(o>=1&&a>=1){i.splice(s-o-a,o+a),s=s-o-a;for(var u,l=(u=this.diff_main(c,h,!1,n)).length-1;l>=0;l--)i.splice(s,0,u[l]);s+=u.length}a=0,o=0,c="",h=""}s++}return i.pop(),i},n.prototype.diff_bisect_=function(t,e,n){for(var r=t.length,i=e.length,s=Math.ceil((r+i)/2),o=s,a=2*s,c=new Array(a),h=new Array(a),u=0;u<a;u++)c[u]=-1,h[u]=-1;c[o+1]=0,h[o+1]=0;for(var l=r-i,p=l%2!=0,f=0,d=0,g=0,m=0,v=0;v<s&&!((new Date).getTime()>n);v++){for(var b=-v+f;b<=v-d;b+=2){for(var _=o+b,y=(E=b==-v||b!=v&&c[_-1]<c[_+1]?c[_+1]:c[_-1]+1)-b;E<r&&y<i&&t.charAt(E)==e.charAt(y);)E++,y++;if(c[_]=E,E>r)d+=2;else if(y>i)f+=2;else if(p){if((C=o+l-b)>=0&&C<a&&-1!=h[C])if(E>=(w=r-h[C]))return this.diff_bisectSplit_(t,e,E,y,n)}}for(var x=-v+g;x<=v-m;x+=2){for(var w,C=o+x,S=(w=x==-v||x!=v&&h[C-1]<h[C+1]?h[C+1]:h[C-1]+1)-x;w<r&&S<i&&t.charAt(r-w-1)==e.charAt(i-S-1);)w++,S++;if(h[C]=w,w>r)m+=2;else if(S>i)g+=2;else if(!p){if((_=o+l-x)>=0&&_<a&&-1!=c[_]){var E;y=o+(E=c[_])-_;if(E>=(w=r-w))return this.diff_bisectSplit_(t,e,E,y,n)}}}}return[[-1,t],[1,e]]},n.prototype.diff_bisectSplit_=function(t,e,n,r,i){var s=t.substring(0,n),o=e.substring(0,r),a=t.substring(n),c=e.substring(r),h=this.diff_main(s,o,!1,i),u=this.diff_main(a,c,!1,i);return h.concat(u)},n.prototype.diff_linesToChars_=function(t,e){var n=[],r={};function i(t){for(var e="",i=0,s=-1,o=n.length;s<t.length-1;){-1==(s=t.indexOf("\n",i))&&(s=t.length-1);var a=t.substring(i,s+1);i=s+1,(r.hasOwnProperty?r.hasOwnProperty(a):void 0!==r[a])?e+=String.fromCharCode(r[a]):(e+=String.fromCharCode(o),r[a]=o,n[o++]=a)}return e}return n[0]="",{chars1:i(t),chars2:i(e),lineArray:n}},n.prototype.diff_charsToLines_=function(t,e){for(var n=0;n<t.length;n++){for(var r=t[n][1],i=[],s=0;s<r.length;s++)i[s]=e[r.charCodeAt(s)];t[n][1]=i.join("")}},n.prototype.diff_commonPrefix=function(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,s=0;n<i;)t.substring(s,i)==e.substring(s,i)?s=n=i:r=i,i=Math.floor((r-n)/2+n);return i},n.prototype.diff_commonSuffix=function(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,s=0;n<i;)t.substring(t.length-i,t.length-s)==e.substring(e.length-i,e.length-s)?s=n=i:r=i,i=Math.floor((r-n)/2+n);return i},n.prototype.diff_commonOverlap_=function(t,e){var n=t.length,r=e.length;if(0==n||0==r)return 0;n>r?t=t.substring(n-r):n<r&&(e=e.substring(0,n));var i=Math.min(n,r);if(t==e)return i;for(var s=0,o=1;;){var a=t.substring(i-o),c=e.indexOf(a);if(-1==c)return s;o+=c,0!=c&&t.substring(i-o)!=e.substring(0,o)||(s=o,o++)}},n.prototype.diff_halfMatch_=function(t,e){if(this.Diff_Timeout<=0)return null;var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||2*r.length<n.length)return null;var i=this;function s(t,e,n){for(var r,s,o,a,c=t.substring(n,n+Math.floor(t.length/4)),h=-1,u="";-1!=(h=e.indexOf(c,h+1));){var l=i.diff_commonPrefix(t.substring(n),e.substring(h)),p=i.diff_commonSuffix(t.substring(0,n),e.substring(0,h));u.length<p+l&&(u=e.substring(h-p,h)+e.substring(h,h+l),r=t.substring(0,n-p),s=t.substring(n+l),o=e.substring(0,h-p),a=e.substring(h+l))}return 2*u.length>=t.length?[r,s,o,a,u]:null}var o,a,c,h,u,l=s(n,r,Math.ceil(n.length/4)),p=s(n,r,Math.ceil(n.length/2));return l||p?(o=p?l&&l[4].length>p[4].length?l:p:l,t.length>e.length?(a=o[0],c=o[1],h=o[2],u=o[3]):(h=o[0],u=o[1],a=o[2],c=o[3]),[a,c,h,u,o[4]]):null},n.prototype.diff_cleanupSemantic=function(t){for(var e=!1,n=[],r=0,i=null,s=0,o=0,a=0,c=0,h=0;s<t.length;)0==t[s][0]?(n[r++]=s,o=c,a=h,c=0,h=0,i=t[s][1]):(1==t[s][0]?c+=t[s][1].length:h+=t[s][1].length,i&&i.length<=Math.max(o,a)&&i.length<=Math.max(c,h)&&(t.splice(n[r-1],0,[-1,i]),t[n[r-1]+1][0]=1,r--,s=--r>0?n[r-1]:-1,o=0,a=0,c=0,h=0,i=null,e=!0)),s++;for(e&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),s=1;s<t.length;){if(-1==t[s-1][0]&&1==t[s][0]){var u=t[s-1][1],l=t[s][1],p=this.diff_commonOverlap_(u,l),f=this.diff_commonOverlap_(l,u);p>=f?(p>=u.length/2||p>=l.length/2)&&(t.splice(s,0,[0,l.substring(0,p)]),t[s-1][1]=u.substring(0,u.length-p),t[s+1][1]=l.substring(p),s++):(f>=u.length/2||f>=l.length/2)&&(t.splice(s,0,[0,u.substring(0,f)]),t[s-1][0]=1,t[s-1][1]=l.substring(0,l.length-f),t[s+1][0]=-1,t[s+1][1]=u.substring(f),s++),s++}s++}},n.prototype.diff_cleanupSemanticLossless=function(t){function e(t,e){if(!t||!e)return 6;var r=t.charAt(t.length-1),i=e.charAt(0),s=r.match(n.nonAlphaNumericRegex_),o=i.match(n.nonAlphaNumericRegex_),a=s&&r.match(n.whitespaceRegex_),c=o&&i.match(n.whitespaceRegex_),h=a&&r.match(n.linebreakRegex_),u=c&&i.match(n.linebreakRegex_),l=h&&t.match(n.blanklineEndRegex_),p=u&&e.match(n.blanklineStartRegex_);return l||p?5:h||u?4:s&&!a&&c?3:a||c?2:s||o?1:0}for(var r=1;r<t.length-1;){if(0==t[r-1][0]&&0==t[r+1][0]){var i=t[r-1][1],s=t[r][1],o=t[r+1][1],a=this.diff_commonSuffix(i,s);if(a){var c=s.substring(s.length-a);i=i.substring(0,i.length-a),s=c+s.substring(0,s.length-a),o=c+o}for(var h=i,u=s,l=o,p=e(i,s)+e(s,o);s.charAt(0)===o.charAt(0);){i+=s.charAt(0),s=s.substring(1)+o.charAt(0),o=o.substring(1);var f=e(i,s)+e(s,o);f>=p&&(p=f,h=i,u=s,l=o)}t[r-1][1]!=h&&(h?t[r-1][1]=h:(t.splice(r-1,1),r--),t[r][1]=u,l?t[r+1][1]=l:(t.splice(r+1,1),r--))}r++}},n.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,n.whitespaceRegex_=/\s/,n.linebreakRegex_=/[\r\n]/,n.blanklineEndRegex_=/\n\r?\n$/,n.blanklineStartRegex_=/^\r?\n\r?\n/,n.prototype.diff_cleanupEfficiency=function(t){for(var e=!1,n=[],r=0,i=null,s=0,o=!1,a=!1,c=!1,h=!1;s<t.length;)0==t[s][0]?(t[s][1].length<this.Diff_EditCost&&(c||h)?(n[r++]=s,o=c,a=h,i=t[s][1]):(r=0,i=null),c=h=!1):(-1==t[s][0]?h=!0:c=!0,i&&(o&&a&&c&&h||i.length<this.Diff_EditCost/2&&o+a+c+h==3)&&(t.splice(n[r-1],0,[-1,i]),t[n[r-1]+1][0]=1,r--,i=null,o&&a?(c=h=!0,r=0):(s=--r>0?n[r-1]:-1,c=h=!1),e=!0)),s++;e&&this.diff_cleanupMerge(t)},n.prototype.diff_cleanupMerge=function(t){t.push([0,""]);for(var e,n=0,r=0,i=0,s="",o="";n<t.length;)switch(t[n][0]){case 1:i++,o+=t[n][1],n++;break;case-1:r++,s+=t[n][1],n++;break;case 0:r+i>1?(0!==r&&0!==i&&(0!==(e=this.diff_commonPrefix(o,s))&&(n-r-i>0&&0==t[n-r-i-1][0]?t[n-r-i-1][1]+=o.substring(0,e):(t.splice(0,0,[0,o.substring(0,e)]),n++),o=o.substring(e),s=s.substring(e)),0!==(e=this.diff_commonSuffix(o,s))&&(t[n][1]=o.substring(o.length-e)+t[n][1],o=o.substring(0,o.length-e),s=s.substring(0,s.length-e))),0===r?t.splice(n-i,r+i,[1,o]):0===i?t.splice(n-r,r+i,[-1,s]):t.splice(n-r-i,r+i,[-1,s],[1,o]),n=n-r-i+(r?1:0)+(i?1:0)+1):0!==n&&0==t[n-1][0]?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,r=0,s="",o=""}""===t[t.length-1][1]&&t.pop();var a=!1;for(n=1;n<t.length-1;)0==t[n-1][0]&&0==t[n+1][0]&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)==t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),a=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),a=!0)),n++;a&&this.diff_cleanupMerge(t)},n.prototype.diff_xIndex=function(t,e){var n,r=0,i=0,s=0,o=0;for(n=0;n<t.length&&(1!==t[n][0]&&(r+=t[n][1].length),-1!==t[n][0]&&(i+=t[n][1].length),!(r>e));n++)s=r,o=i;return t.length!=n&&-1===t[n][0]?o:o+(e-s)},n.prototype.diff_prettyHtml=function(t){for(var e=[],n=/&/g,r=/</g,i=/>/g,s=/\n/g,o=0;o<t.length;o++){var a=t[o][0],c=t[o][1].replace(n,"&amp;").replace(r,"&lt;").replace(i,"&gt;").replace(s,"&para;<br>");switch(a){case 1:e[o]='<ins style="background:#e6ffe6;">'+c+"</ins>";break;case-1:e[o]='<del style="background:#ffe6e6;">'+c+"</del>";break;case 0:e[o]="<span>"+c+"</span>"}}return e.join("")},n.prototype.diff_text1=function(t){for(var e=[],n=0;n<t.length;n++)1!==t[n][0]&&(e[n]=t[n][1]);return e.join("")},n.prototype.diff_text2=function(t){for(var e=[],n=0;n<t.length;n++)-1!==t[n][0]&&(e[n]=t[n][1]);return e.join("")},n.prototype.diff_levenshtein=function(t){for(var e=0,n=0,r=0,i=0;i<t.length;i++){var s=t[i][0],o=t[i][1];switch(s){case 1:n+=o.length;break;case-1:r+=o.length;break;case 0:e+=Math.max(n,r),n=0,r=0}}return e+=Math.max(n,r)},n.prototype.diff_toDelta=function(t){for(var e=[],n=0;n<t.length;n++)switch(t[n][0]){case 1:e[n]="+"+encodeURI(t[n][1]);break;case-1:e[n]="-"+t[n][1].length;break;case 0:e[n]="="+t[n][1].length}return e.join("\t").replace(/%20/g," ")},n.prototype.diff_fromDelta=function(t,e){for(var n=[],r=0,i=0,s=e.split(/\t/g),o=0;o<s.length;o++){var a=s[o].substring(1);switch(s[o].charAt(0)){case"+":try{n[r++]=[1,decodeURI(a)]}catch(t){throw new Error("Illegal escape in diff_fromDelta: "+a)}break;case"-":case"=":var c=parseInt(a,10);if(isNaN(c)||c<0)throw new Error("Invalid number in diff_fromDelta: "+a);var h=t.substring(i,i+=c);"="==s[o].charAt(0)?n[r++]=[0,h]:n[r++]=[-1,h];break;default:if(s[o])throw new Error("Invalid diff operation in diff_fromDelta: "+s[o])}}if(i!=t.length)throw new Error("Delta length ("+i+") does not equal source text length ("+t.length+").");return n},n.prototype.match_main=function(t,e,n){if(null==t||null==e||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,t.length)),t==e?0:t.length?t.substring(n,n+e.length)==e?n:this.match_bitap_(t,e,n):-1},n.prototype.match_bitap_=function(t,e,n){if(e.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var r=this.match_alphabet_(e),i=this;function s(t,r){var s=t/e.length,o=Math.abs(n-r);return i.Match_Distance?s+o/i.Match_Distance:o?1:s}var o=this.Match_Threshold,a=t.indexOf(e,n);-1!=a&&(o=Math.min(s(0,a),o),-1!=(a=t.lastIndexOf(e,n+e.length))&&(o=Math.min(s(0,a),o)));var c,h,u=1<<e.length-1;a=-1;for(var l,p=e.length+t.length,f=0;f<e.length;f++){for(c=0,h=p;c<h;)s(f,n+h)<=o?c=h:p=h,h=Math.floor((p-c)/2+c);p=h;var d=Math.max(1,n-h+1),g=Math.min(n+h,t.length)+e.length,m=Array(g+2);m[g+1]=(1<<f)-1;for(var v=g;v>=d;v--){var b=r[t.charAt(v-1)];if(m[v]=0===f?(m[v+1]<<1|1)&b:(m[v+1]<<1|1)&b|(l[v+1]|l[v])<<1|1|l[v+1],m[v]&u){var _=s(f,v-1);if(_<=o){if(o=_,!((a=v-1)>n))break;d=Math.max(1,2*n-a)}}}if(s(f+1,n)>o)break;l=m}return a},n.prototype.match_alphabet_=function(t){for(var e={},n=0;n<t.length;n++)e[t.charAt(n)]=0;for(n=0;n<t.length;n++)e[t.charAt(n)]|=1<<t.length-n-1;return e},n.prototype.patch_addContext_=function(t,e){if(0!=e.length){for(var n=e.substring(t.start2,t.start2+t.length1),r=0;e.indexOf(n)!=e.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)r+=this.Patch_Margin,n=e.substring(t.start2-r,t.start2+t.length1+r);r+=this.Patch_Margin;var i=e.substring(t.start2-r,t.start2);i&&t.diffs.unshift([0,i]);var s=e.substring(t.start2+t.length1,t.start2+t.length1+r);s&&t.diffs.push([0,s]),t.start1-=i.length,t.start2-=i.length,t.length1+=i.length+s.length,t.length2+=i.length+s.length}},n.prototype.patch_make=function(t,e,r){var i,s;if("string"==typeof t&&"string"==typeof e&&void 0===r)i=t,(s=this.diff_main(i,e,!0)).length>2&&(this.diff_cleanupSemantic(s),this.diff_cleanupEfficiency(s));else if(t&&"object"==typeof t&&void 0===e&&void 0===r)s=t,i=this.diff_text1(s);else if("string"==typeof t&&e&&"object"==typeof e&&void 0===r)i=t,s=e;else{if("string"!=typeof t||"string"!=typeof e||!r||"object"!=typeof r)throw new Error("Unknown call format to patch_make.");i=t,s=r}if(0===s.length)return[];for(var o=[],a=new n.patch_obj,c=0,h=0,u=0,l=i,p=i,f=0;f<s.length;f++){var d=s[f][0],g=s[f][1];switch(c||0===d||(a.start1=h,a.start2=u),d){case 1:a.diffs[c++]=s[f],a.length2+=g.length,p=p.substring(0,u)+g+p.substring(u);break;case-1:a.length1+=g.length,a.diffs[c++]=s[f],p=p.substring(0,u)+p.substring(u+g.length);break;case 0:g.length<=2*this.Patch_Margin&&c&&s.length!=f+1?(a.diffs[c++]=s[f],a.length1+=g.length,a.length2+=g.length):g.length>=2*this.Patch_Margin&&c&&(this.patch_addContext_(a,l),o.push(a),a=new n.patch_obj,c=0,l=p,h=u)}1!==d&&(h+=g.length),-1!==d&&(u+=g.length)}return c&&(this.patch_addContext_(a,l),o.push(a)),o},n.prototype.patch_deepCopy=function(t){for(var e=[],r=0;r<t.length;r++){var i=t[r],s=new n.patch_obj;s.diffs=[];for(var o=0;o<i.diffs.length;o++)s.diffs[o]=i.diffs[o].slice();s.start1=i.start1,s.start2=i.start2,s.length1=i.length1,s.length2=i.length2,e[r]=s}return e},n.prototype.patch_apply=function(t,e){if(0==t.length)return[e,[]];t=this.patch_deepCopy(t);var n=this.patch_addPadding(t);e=n+e+n,this.patch_splitMax(t);for(var r=0,i=[],s=0;s<t.length;s++){var o,a,c=t[s].start2+r,h=this.diff_text1(t[s].diffs),u=-1;if(h.length>this.Match_MaxBits?-1!=(o=this.match_main(e,h.substring(0,this.Match_MaxBits),c))&&(-1==(u=this.match_main(e,h.substring(h.length-this.Match_MaxBits),c+h.length-this.Match_MaxBits))||o>=u)&&(o=-1):o=this.match_main(e,h,c),-1==o)i[s]=!1,r-=t[s].length2-t[s].length1;else if(i[s]=!0,r=o-c,h==(a=-1==u?e.substring(o,o+h.length):e.substring(o,u+this.Match_MaxBits)))e=e.substring(0,o)+this.diff_text2(t[s].diffs)+e.substring(o+h.length);else{var l=this.diff_main(h,a,!1);if(h.length>this.Match_MaxBits&&this.diff_levenshtein(l)/h.length>this.Patch_DeleteThreshold)i[s]=!1;else{this.diff_cleanupSemanticLossless(l);for(var p,f=0,d=0;d<t[s].diffs.length;d++){var g=t[s].diffs[d];0!==g[0]&&(p=this.diff_xIndex(l,f)),1===g[0]?e=e.substring(0,o+p)+g[1]+e.substring(o+p):-1===g[0]&&(e=e.substring(0,o+p)+e.substring(o+this.diff_xIndex(l,f+g[1].length))),-1!==g[0]&&(f+=g[1].length)}}}}return[e=e.substring(n.length,e.length-n.length),i]},n.prototype.patch_addPadding=function(t){for(var e=this.Patch_Margin,n="",r=1;r<=e;r++)n+=String.fromCharCode(r);for(r=0;r<t.length;r++)t[r].start1+=e,t[r].start2+=e;var i=t[0],s=i.diffs;if(0==s.length||0!=s[0][0])s.unshift([0,n]),i.start1-=e,i.start2-=e,i.length1+=e,i.length2+=e;else if(e>s[0][1].length){var o=e-s[0][1].length;s[0][1]=n.substring(s[0][1].length)+s[0][1],i.start1-=o,i.start2-=o,i.length1+=o,i.length2+=o}if(0==(s=(i=t[t.length-1]).diffs).length||0!=s[s.length-1][0])s.push([0,n]),i.length1+=e,i.length2+=e;else if(e>s[s.length-1][1].length){o=e-s[s.length-1][1].length;s[s.length-1][1]+=n.substring(0,o),i.length1+=o,i.length2+=o}return n},n.prototype.patch_splitMax=function(t){for(var e=this.Match_MaxBits,r=0;r<t.length;r++)if(!(t[r].length1<=e)){var i=t[r];t.splice(r--,1);for(var s=i.start1,o=i.start2,a="";0!==i.diffs.length;){var c=new n.patch_obj,h=!0;for(c.start1=s-a.length,c.start2=o-a.length,""!==a&&(c.length1=c.length2=a.length,c.diffs.push([0,a]));0!==i.diffs.length&&c.length1<e-this.Patch_Margin;){var u=i.diffs[0][0],l=i.diffs[0][1];1===u?(c.length2+=l.length,o+=l.length,c.diffs.push(i.diffs.shift()),h=!1):-1===u&&1==c.diffs.length&&0==c.diffs[0][0]&&l.length>2*e?(c.length1+=l.length,s+=l.length,h=!1,c.diffs.push([u,l]),i.diffs.shift()):(l=l.substring(0,e-c.length1-this.Patch_Margin),c.length1+=l.length,s+=l.length,0===u?(c.length2+=l.length,o+=l.length):h=!1,c.diffs.push([u,l]),l==i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(l.length))}a=(a=this.diff_text2(c.diffs)).substring(a.length-this.Patch_Margin);var p=this.diff_text1(i.diffs).substring(0,this.Patch_Margin);""!==p&&(c.length1+=p.length,c.length2+=p.length,0!==c.diffs.length&&0===c.diffs[c.diffs.length-1][0]?c.diffs[c.diffs.length-1][1]+=p:c.diffs.push([0,p])),h||t.splice(++r,0,c)}}},n.prototype.patch_toText=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=t[n];return e.join("")},n.prototype.patch_fromText=function(t){var e=[];if(!t)return e;for(var r=t.split("\n"),i=0,s=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<r.length;){var o=r[i].match(s);if(!o)throw new Error("Invalid patch string: "+r[i]);var a=new n.patch_obj;for(e.push(a),a.start1=parseInt(o[1],10),""===o[2]?(a.start1--,a.length1=1):"0"==o[2]?a.length1=0:(a.start1--,a.length1=parseInt(o[2],10)),a.start2=parseInt(o[3],10),""===o[4]?(a.start2--,a.length2=1):"0"==o[4]?a.length2=0:(a.start2--,a.length2=parseInt(o[4],10)),i++;i<r.length;){var c=r[i].charAt(0);try{var h=decodeURI(r[i].substring(1))}catch(t){throw new Error("Illegal escape in patch_fromText: "+h)}if("-"==c)a.diffs.push([-1,h]);else if("+"==c)a.diffs.push([1,h]);else if(" "==c)a.diffs.push([0,h]);else{if("@"==c)break;if(""!==c)throw new Error('Invalid patch mode "'+c+'" in: '+h)}i++}}return e},n.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},n.patch_obj.prototype.toString=function(){for(var t,e=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],n=0;n<this.diffs.length;n++){switch(this.diffs[n][0]){case 1:t="+";break;case-1:t="-";break;case 0:t=" "}e[n+1]=t+encodeURI(this.diffs[n][1])+"\n"}return e.join("").replace(/%20/g," ")},t.exports=n,t.exports.diff_match_patch=n,t.exports.DIFF_DELETE=-1,t.exports.DIFF_INSERT=1,t.exports.DIFF_EQUAL=0},function(t,e){t.exports={addTextPatch(t,e,n,r){(function(t){return 1!==t.length||0!==t[0][0]})(r)&&t.unshift({type:"textChange",componentId:e,directiveName:n,diffPatches:r})},addRemovedComponentPatch(t,e){t.unshift({type:"componentRemoved",componentId:e.id,removedComponent:e})},addAddedComponentPatch(t,e){t.unshift({type:"componentAdded",componentId:e.id})}}},function(t,e,n){const r=n(168);t.exports={setPlacingOnRemovedComponentPatches(t,e,n){r(n,{type:"componentRemoved"}).forEach(function(n){const r=e.findById(n.componentId);r&&(function(t,e,n){if(t.previous){const r=e.findById(t.previous.id);if(r)return n.previousComponentId=r.id,!0}return!1}(r,t,n)||function(t,e,n){if(t.next){const r=e.findById(t.next.id);if(r)return n.nextComponentId=r.id,!0}return!1}(r,t,n)||function(t,e){if(t.next)return e.nextComponentId=t.next.id,!0;return!1}(r,n)||function(t,e){if(t.previous)return e.previousComponentId=t.previous.id,!0}(r,n))})}}},function(t,e,n){var r=n(40);t.exports=function(t,e){var n=[];return r(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}},function(t,e,n){const r=n(168),i=n(385),s=n(20),o=n(55),a=n(154),c=n(387),h=n(62);function u(t,e){for(let i=0;i<e.length-1;i++){const o=t[e[i]],a=t[e[i+1]],c=s(a.diffPatches);l(c,(n=o.diffPatches,r(n,t=>-1===t[0])),o.diffPatches),p(c,w(o.diffPatches),o.diffPatches),t[e[i]]=void 0,c.forEach(t=>{t.length>3&&t.pop()}),a.diffPatches=c}var n;return t}function l(t,e,n){e.forEach(e=>{const r=C(t),i=_(m(n,e,x(r),"",v),r);i.insertPosition=S(i,r,t),0!==i.matchIndex?y(t,t[i.insertPosition],i.matchIndex,e,0):t.splice(i.insertPosition,0,e)})}function p(t,e,n){e.forEach(e=>{e.push("isPreviousAddedPatch");const r=C(t),i=_(m(n,e,x(r),e[1],b),r);i.insertPosition=S(i,r,t),function(t,e,n){let r=t.insertPosition,i=g(e,n,n[r],0,t.matchIndex);for(;e[1].length-i>0;){const t=r;if(-1===(r=d(n,r)))return;const s=f(t,r,n);i=g(e,n,n[r],i+s,0)}}(i,e,t)})}function f(t,e,n){let r=0;for(let i=t+1;i<e;i++)-1===n[i][0]&&(r+=n[i][1].length);return r}function d(t,e){let n=e;for(n++;n<t.length&&0!==t[n][0];)n++;return t.length===n?-1:n}function g(t,e,n,r,i){const c=s(t);if(n&&-1!==n[0]){let t=c[1].length;return n[1].length<c[1].length-r?(c[1]=c[1].substring(r,r+n[1].length),t=r+n[1].length):c[1]=c[1].substring(r,c[1].length),0!==i&&0===r?(t=n[1].length-i,c[1]=c[1].substring(0,t),y(e,n,i,c,c[1].length)):function(t,e,n){const r=a(n,e=>o(e,t));t[1]=t[1].replace(e[1],""),""===t[1]?n.splice(r,1,e):n.splice(r,0,e)}(n,c,e),t}return n[1].length-i}function m(t,e,n,r,i){const s=a(t,t=>o(t,e));let c=0;if(t.length>s+1){const e=i(t,s+1);-1!==e&&(r+=t[e][1])}s-1>=0&&(c=r.length,c=(r=t[s-1][1]+r).length-c);let h=n.indexOf(r);return s-1>=0&&c>0&&(h+=c),h}function v(t,e){let n=e;for(;-1===t[n][0];)if(n++,t.length-1<=n)return-1;return n}function b(t,e){return t.length>e?e:-1}function _(t,e){let n="";for(let r=0;r<e.length;r++){const i=n;if((n+=e[r][1]).length>t)return{insertPosition:r,matchIndex:t-i.length}}return{insertPosition:e.length-1,matchIndex:0}}function y(t,e,n,r,i){const c=a(t,t=>o(t,e)),h=s(e);e[1]=e[1].substring(0,n),h[1]=h[1].substring(n+i),""!==h[1]&&t.splice(c+1,0,h),t.splice(c+1,0,r)}function x(t){let e="";return t.forEach(t=>{e+=t[1]}),e}function w(t){return r(t,t=>1===t[0])}function C(t){return r(t,t=>1!==t[0]||function(t){return 4===t.length}(t))}function S(t,e,n){return a(n,n=>o(n,e[t.insertPosition]))}t.exports={simplifyTextChanges(t){const e=function(t){return c(t,function(t,e,n){if("textChange"===e.type){const r=e.componentId+e.directiveName;(t[r]||(t[r]=[])).push(n)}return t},{})}(t);return h(e,function(e,n){t=u(t,e)}),function(t){i(t,t=>void 0===t)}(t),t},mergeTextChanges:u}},function(t,e,n){var r=n(15),i=n(386);t.exports=function(t,e){var n=[];if(!t||!t.length)return n;var s=-1,o=[],a=t.length;for(e=r(e,3);++s<a;){var c=t[s];e(c,s,t)&&(n.push(c),o.push(s))}return i(t,o),n}},function(t,e,n){var r=n(164),i=n(31),s=Array.prototype.splice;t.exports=function(t,e){for(var n=t?e.length:0,o=n-1;n--;){var a=e[n];if(n==o||a!==c){var c=a;i(a)?s.call(t,a,1):r(t,a)}}return t}},function(t,e,n){var r=n(388),i=n(40),s=n(15),o=n(389),a=n(0);t.exports=function(t,e,n){var c=a(t)?r:o,h=arguments.length<3;return c(t,s(e,4),n,h,i)}},function(t,e){t.exports=function(t,e,n,r){var i=-1,s=null==t?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}},function(t,e){t.exports=function(t,e,n,r,i){return i(t,function(t,i,s){n=r?(r=!1,t):e(n,t,i,s)}),n}},function(t,e,n){const r=n(391),i=n(392),s=n(27),o=n(394),a=n(39);t.exports={name:"resrc.it",hasBrowserPlugin:!0,supportsCrop:!0,supportsBackgroundImages:!0,allowedMimeTypes:["image/gif","image/jpeg","image/png","image/webp"],disabledMimeTypes:[],createBrowserPlugin:function(t){return o({window:t})},canProcessAsset:function(t,e){return!(e&&!this.supportsBackgroundImages)&&a(t,this.allowedMimeTypes,this.disabledMimeTypes)},getUrl:function(t,e){return r.getUrl(t,e)},getUncroppedUrl:function(t){return this.getUrl(t)},set:function(t,e){const n=e.getProcessedUrl();return!n||e.isTemporaryImage()?(i.resetMarkup(t,"resrc"),s.set(t,e)):e.isInlineImage()?i.setInlineImage(t,n,"resrc"):e.isBackgroundImage()&&i.setBackgroundImage(t,n,"resrc"),!1},reset:function(t,e){i.resetMarkup(t,"resrc")}}},function(t,e,n){const r=n(1),i=n(26),s=n(3),o=n(6);t.exports={getUrl:function(t,{host:e,crop:n,ratio:i,size:s,quality:l}={}){const p=n?a(n):"",f=i?c(i):"",d=s?h(s):"",g=u(l||r(o,["imageServices","resrc.it","quality"]));return`${e||r(o,["imageServices","resrc.it","host"])}${p}${f}${d}${g}/${t}`}};const a=function({x:t,y:e,width:n,height:r}={}){return s(i(t),"x should be a number"),s(i(e),"y should be a number"),s(i(n),"width should be a number"),s(i(r),"height should be a number"),`/C=W${n},H${r},X${t},Y${e}`},c=function({x:t,y:e}={}){return s(i(t),"x should be a number"),s(i(e),"y should be a number"),`/C=AR${t}x${e}`},h=function({w:t,h:e}={}){t&&s(i(t),"w should be a number"),e&&s(i(e),"h should be a number");let n="";return t&&e?n=`W${t}M,H${e}M`:t?n=`W${t}`:e&&(n=`H${e}`),`/S=${n}`},u=function(t){return`/O=${t}`}},function(t,e,n){const r=n(59),i=n(393);t.exports={setInlineImage:function(t,e,n){i(t.attr("src"))&&t.attr("src",""),n&&t.addClass(n),t.attr("data-src",e)},setBackgroundImage:function(t,e,n){t.addClass(n),r(t,e)},resetMarkup:function(t,e){t.removeClass(e),t.removeAttr("data-src"),t.css("background-image","")}}},function(t,e){t.exports=function(t){return/^(data:|blob:)/.test(t)}},function(t,e,n){const r=n(1),{log:i}=n(2),s=n(6);t.exports=function({window:t}={}){return{name:"browserPlugins.resrcit",initialized:!1,dependencies:{js:[{src:r(s,["imageServices","resrc.it","scriptUrl"])}]},init:function(){const e=r(s,["imageServices","resrc.it","quality"]),n=r(s,["imageServices","resrc.it","host"]).replace(/https?:\/\//,""),i=r(s,["imageServices","resrc.it","host"]);t.resrc&&(t.resrc.configure({imageQuality:e,server:n,ssl:/^https/.test(i)}),this.initialized=!0)},updateDirective:function(e,n){this.initialized||this.init();try{if(n.isInlineImage())t.resrc.run(e[0]);else{const r=n.getProcessedUrl();t.resrc.setImageUrl(e[0],r)}}catch(t){i(t,n)}}}}},function(t,e,n){const r=n(1),i=n(396),s=n(61),o=n(6),a=n(27),c=n(39);t.exports={name:"sz",supportsBackgroundImages:!1,allowedMimeTypes:["image/gif","image/jpeg","image/png","image/webp"],disabledMimeTypes:[],canProcessAsset:function(t,e){return!(e&&!this.supportsBackgroundImages)&&c(t,this.allowedMimeTypes,this.disabledMimeTypes)},getUrl:function(t,e){return i.getUrl(t,e)},getUncroppedUrl:function(t){return t},set:function(t,e){if(e.isTemporaryImage())s.reset(t),a.set(t,e);else{const n=[];for(const t in r(o,"imageServices.sz.srcSet.widths")){const i=r(o,"imageServices.sz.srcSet.widths")[t],s=this.getUrl(e.getOriginalUrl(),{width:i,crop:e.getCrop()});n.push({width:i,url:s})}const i=this.getUrl(e.getOriginalUrl(),{width:r(o,"imageServices.sz.srcSet.defaultWidth"),crop:e.getCrop()}),a=r(o,"imageServices.sz.srcSet.sizes");s.set(t,i,n,a)}}}},function(t,e,n){const r=n(1),i=n(60),{log:s,assert:o}=n(2),a=n(26),c=n(6),h=n(397);t.exports={getUrl:function(t,{crop:e,width:n}={}){const{pathname:r}=p(t),i=r.split("/");if(i.length<3)return s.error(`SZ Image service: can not parse path ${r}`),"";const o=i[i.length-1],a=i[i.length-2],h=`image/${i[i.length-3]}/${a}${e?u(e):""}/${n||f(c)}/${o}`,m=l(`/${h}`);return`${d(c)}/${h}?h=${m}&hv=${g(c)}`}};const u=function({x:t,y:e,width:n,height:r}){return o(a(t),"x should be a number"),o(a(e),"y should be a number"),o(a(n),"width should be a number"),o(a(r),"height should be a number"),`/t${e}l${t}w${n}h${r}`},l=function(t){return h({secret:r(c,"imageServices.sz.shaSecret"),valueToHash:t})},p=function(t){const e=i.parse(t);return{hostname:e.hostname,pathname:e.pathname,query:e.query}},f=function(t){return r(t,"imageServices.sz.srcSet.defaultWidth")},d=function(t){return r(t,"imageServices.sz.host")},g=function(t){return r(t,"imageServices.sz.hashVersion")}},function(t,e,n){"use strict";const r=n(398),{notStrictEqual:i,strictEqual:s}=n(118);t.exports=function({secret:t,valueToHash:e,hashLength:n=32}={}){i(t,void 0,"please provide Â»secretÂ«!"),i(e,void 0,"please provide Â»valueToHashÂ«!"),s(typeof e,"string","Â»valueToHashÂ« must be a string!");const o=`${t}/${e}`;return r("sha256").update(o,"utf-8").digest("hex").substr(0,n)}},function(t,e,n){(e=t.exports=function(t){t=t.toLowerCase();var n=e[t];if(!n)throw new Error(t+" is not supported (we accept pull requests)");return new n}).sha=n(399),e.sha1=n(400),e.sha224=n(401),e.sha256=n(170),e.sha384=n(402),e.sha512=n(171)},function(t,e,n){var r=n(4),i=n(28),s=n(14).Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,i.call(this,64,56)}function h(t){return t<<30|t>>>2}function u(t,e,n,r){return 0===t?e&n|~e&r:2===t?e&n|e&r|n&r:e^n^r}r(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,i=0|this._b,s=0|this._c,a=0|this._d,c=0|this._e,l=0;l<16;++l)n[l]=t.readInt32BE(4*l);for(;l<80;++l)n[l]=n[l-3]^n[l-8]^n[l-14]^n[l-16];for(var p=0;p<80;++p){var f=~~(p/20),d=0|((e=r)<<5|e>>>27)+u(f,i,s,a)+c+n[p]+o[f];c=a,a=s,s=h(i),i=r,r=d}this._a=r+this._a|0,this._b=i+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var t=s.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=c},function(t,e,n){var r=n(4),i=n(28),s=n(14).Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,i.call(this,64,56)}function h(t){return t<<5|t>>>27}function u(t){return t<<30|t>>>2}function l(t,e,n,r){return 0===t?e&n|~e&r:2===t?e&n|e&r|n&r:e^n^r}r(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,i=0|this._b,s=0|this._c,a=0|this._d,c=0|this._e,p=0;p<16;++p)n[p]=t.readInt32BE(4*p);for(;p<80;++p)n[p]=(e=n[p-3]^n[p-8]^n[p-14]^n[p-16])<<1|e>>>31;for(var f=0;f<80;++f){var d=~~(f/20),g=h(r)+l(d,i,s,a)+c+n[f]+o[d]|0;c=a,a=s,s=u(i),i=r,r=g}this._a=r+this._a|0,this._b=i+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var t=s.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=c},function(t,e,n){var r=n(4),i=n(170),s=n(28),o=n(14).Buffer,a=new Array(64);function c(){this.init(),this._w=a,s.call(this,64,56)}r(c,i),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var t=o.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=c},function(t,e,n){var r=n(4),i=n(171),s=n(28),o=n(14).Buffer,a=new Array(160);function c(){this.init(),this._w=a,s.call(this,128,112)}r(c,i),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var t=o.allocUnsafe(48);function e(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=c},function(t,e,n){const r=n(404),i=n(61),s=n(93),o=n(59),a=n(27),c=n(39);t.exports={name:"imgix",supportsBackgroundImages:!0,allowedMimeTypes:["image/gif","image/jpeg","image/png","image/webp"],disabledMimeTypes:[],canProcessAsset:function(t,e){return!(e&&!this.supportsBackgroundImages)&&c(t,this.allowedMimeTypes,this.disabledMimeTypes)},getUrl:function(t,e){return r.getUrl(t,e)},getUncroppedUrl:function(t){return this.getUrl(t)},set:function(t,e){const n=s.for(["imageServices","imgix"]);if(e.isTemporaryImage())i.reset(t),a.set(t,e);else if(e.isInlineImage()){const r=[],s=n.getWidths(e);for(const t in s){const n=s[t],i=this.getUrl(e.getOriginalUrl(),{width:n,crop:e.getCrop()});r.push({width:n,url:i})}const o=this.getUrl(e.getOriginalUrl(),{width:n.getDefaultWidth(e),crop:e.getCrop()}),a=n.getSizes(e);i.set(t,o,r,a)}else if(e.isBackgroundImage()){const r=n.getBgImageMaxWidth(e),i=this.getUrl(e.getOriginalUrl(),{width:r,crop:e.getCrop()});o(t,i)}}}},function(t,e,n){const r=n(1),i=n(26),s=n(60),{assert:o}=n(2),a=n(6);t.exports={getUrl:function(t,{crop:e,width:n}={}){const i=s.parse(t),o=e?c(e):null,h={};o&&(h.rect=o),n&&(h.w=n),r(a,"imageServices.imgix.preferWebp")&&(h.auto="format");const u=s.parse(r(a,"imageServices.imgix.host"));return u.pathname=i.pathname,u.query=h,s.format(u)}};const c=function({x:t,y:e,width:n,height:r}){return o(i(t),"x should be a number"),o(i(e),"y should be a number"),o(i(n),"width should be a number"),o(i(r),"height should be a number"),`${t},${e},${n},${r}`}},function(t,e,n){const r=n(406),i=n(61),s=n(93),o=n(59),a=n(27),c=n(39);t.exports={name:"liImageProxy",supportsBackgroundImages:!0,allowedMimeTypes:["image/gif","image/jpeg","image/png","image/webp"],disabledMimeTypes:[],canProcessAsset:function(t,e){return!(e&&!this.supportsBackgroundImages)&&c(t,this.allowedMimeTypes,this.disabledMimeTypes)},getUrl:function(t,e){return r.getUrl(t,e)},getUncroppedUrl:function(t){return this.getUrl(t)},set:function(t,e){const n=s.for(["imageServices",this.name]);if(e.isTemporaryImage())i.reset(t),a.set(t,e);else if(e.isInlineImage()){const r=[],s=n.getWidths(e);for(const t in s){const n=s[t],i=this.getUrl(e.getOriginalUrl(),{width:n,crop:e.getCrop()});r.push({width:n,url:i})}const o=this.getUrl(e.getOriginalUrl(),{width:n.getDefaultWidth(e),crop:e.getCrop()}),a=n.getSizes(e);i.set(t,o,r,a)}else if(e.isBackgroundImage()){const r=n.getBgImageMaxWidth(e),i=this.getUrl(e.getOriginalUrl(),{width:r,crop:e.getCrop()});o(t,i)}}}},function(t,e,n){const r=n(1),i=n(26),s=n(60),{assert:o}=n(2),a=n(6);t.exports={getUrl:function(t,{crop:e,width:n}={}){const i=s.parse(t,!0),o=e?c(e):null,h=i.query;o&&(h.rect=o),n&&(h.w=n),r(a,"imageServices.liImageProxy.preferWebp")&&(h.auto="format");const u=s.parse(r(a,"imageServices.liImageProxy.host"));return u.pathname=i.pathname,u.query=h,s.format(u)}};const c=function({x:t,y:e,width:n,height:r}){return o(i(t),"x should be a number"),o(i(e),"y should be a number"),o(i(n),"width should be a number"),o(i(r),"height should be a number"),`${t},${e},${n},${r}`}},function(t,e,n){const r=n(39),i=n(408),s=n(93),o=n(61),a=n(409),c=n(410),h=n(27),u=n(411);t.exports={name:"image.resizer",hasBrowserPlugin:!0,supportsCrop:!0,supportsBackgroundImages:!0,allowedMimeTypes:["image/gif","image/jpeg","image/png","image/webp"],disabledMimeTypes:[],createBrowserPlugin:function(t){return u({window:t})},canProcessAsset:function(t,e){return!(e&&!this.supportsBackgroundImages)&&r(t,this.allowedMimeTypes,this.disabledMimeTypes)},getUrl:function(t,e){return i.getUrl(t,e)},getUncroppedUrl:function(t){return this.getUrl(t)},set:function(t,e){const n=s.for(["imageServices","image.resizer"]);if(e.isTemporaryImage())o.reset(t),h.set(t,e);else if(e.isInlineImage()){const r=[],i=n.getWidths(e);for(const t in i){const n=i[t],s=this.getUrl(e.getOriginalUrl(),{size:{w:n},crop:e.getCrop()});r.push({width:n,url:s})}const s=n.getDefaultWidth(e),a=this.getUrl(e.getOriginalUrl(),{size:{w:s},crop:e.getCrop()}),c=n.getSizes(e);o.set(t,a,r,c)}else if(e.isBackgroundImage()){const r=[],i=n.getWidths(e);for(const t in i){const n=i[t],s=this.getUrl(e.getOriginalUrl(),{size:{w:n},crop:e.getCrop()});r.push({name:t,url:s})}const s=n.getDefaultWidth(e),o=this.getUrl(e.getOriginalUrl(),{size:{w:s},crop:e.getCrop()});a(t,r),c(t,o)}}}},function(t,e,n){const r=n(1),i=n(26),s=n(60),{assert:o}=n(2),a=n(6);t.exports={getUrl:function(t,{host:e,crop:n,ratio:i,size:o,quality:u}={}){const l=e||r(a,["imageServices","image.resizer","host"]),p=c(t),f={};u&&(f.quality=u),o&&o.w&&(f.width=o.w),o&&o.h&&(f.height=o.h),n&&(f.crop=h(n));const d=s.parse(l);return d.pathname=d.pathname+p,d.query=f,s.format(d)}};const c=function(t){return`/${t.replace("http://","").replace("https://","")}`},h=function({x:t,y:e,width:n,height:r}){return o(i(t),"x should be a number"),o(i(e),"y should be a number"),o(i(n),"width should be a number"),o(i(r),"height should be a number"),`(${t},${e},${t+n},${e+r})`}},function(t,e,n){const r=n(92);t.exports=function(t,e){const n=e.map(({name:t,url:e})=>`--${t}-url: ${i(e)}`).join(";");t.get(0).setAttribute("style",n)};const i=function(t){return`url(${t=r(t)})`}},function(t,e,n){const r=n(92);t.exports=function(t,e){let n=t.get(0).getAttribute("style");n.length>0&&(n=`${n};`),e&&(n=`${n}background-image: ${i(e)}`),t.get(0).setAttribute("style",n)};const i=function(t){return`url(${t=r(t)})`}},function(t,e,n){const r=n(1),i=n(6);t.exports=function({window:t}={}){return{name:"browserPlugins.imageresizer",dependencies:{js:[{src:r(i,["imageServices","image.resizer","scriptUrl"])}]},init:function(){},updateDirective:function(t,e){}}}}]);